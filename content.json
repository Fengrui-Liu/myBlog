{"meta":{"title":"Fengrui Liu's Blog","subtitle":null,"description":null,"author":"Fengrui Liu","url":"http://www.liufr.com","root":"/"},"pages":[{"title":"404","date":"2019-07-19T08:41:10.000Z","updated":"2019-09-17T03:05:36.068Z","comments":true,"path":"404.html","permalink":"http://www.liufr.com/404.html","excerpt":"","text":""},{"title":"首页","date":"2019-07-20T16:00:00.000Z","updated":"2019-09-18T03:07:34.847Z","comments":true,"path":"index.html","permalink":"http://www.liufr.com/index.html","excerpt":"","text":"&#x8BBA;&#x6587;&#x9605;&#x8BFB;&#x76EE;&#x5F55; xStream: Outlier Dete&#x2018;x&#x2019;ion in Feature-Evolving Data Streams &#x9605;&#x8BFB;&#x7B14;&#x8BB0;","author":"刘丰瑞"},{"title":"Me","date":"2019-09-17T07:50:03.000Z","updated":"2019-09-17T07:53:44.893Z","comments":true,"path":"about/index.html","permalink":"http://www.liufr.com/about/index.html","excerpt":"","text":"Fengrui Liu ICT,CAS, Beijing, China Email: liufengrui18z@ict.ac.cn"},{"title":"Categories","date":"2019-09-17T06:42:06.442Z","updated":"2019-09-17T06:42:06.442Z","comments":true,"path":"categories/index.html","permalink":"http://www.liufr.com/categories/index.html","excerpt":"","text":""},{"title":"Tags","date":"2019-09-17T06:42:06.453Z","updated":"2019-09-17T06:42:06.453Z","comments":true,"path":"tags/index.html","permalink":"http://www.liufr.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"logparser","slug":"数据挖掘/2019-10-30-logparser","date":"2019-10-29T16:00:00.000Z","updated":"2019-10-31T02:16:15.427Z","comments":true,"path":"2019/10/30/数据挖掘/2019-10-30-logparser/","link":"","permalink":"http://www.liufr.com/2019/10/30/数据挖掘/2019-10-30-logparser/","excerpt":"","text":"&#x6574;&#x7406;&#x7FFB;&#x8BD1;&#x81EA;logparser SLCT SLCT&#x662F;&#x4E00;&#x79CD;&#x7B80;&#x5355;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x805A;&#x7C7B;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x53CD;&#x6620;&#x7684;&#x662F;&#x67D0;&#x79CD;&#x6A21;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x51FA;&#x73B0;&#x4E86;&#x8DB3;&#x591F;&#x591A;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x4ECE;&#x800C;&#x8FDB;&#x884C;&#x805A;&#x7C7B;&#x3002;SLCT&#x53EF;&#x4EE5;&#x5BF9;&#x5DF2;&#x6709;&#x7684;&#x6B63;&#x5E38;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5EFA;&#x6A21;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x90A3;&#x4E9B;&#x65B0;&#x51FA;&#x73B0;&#x7684;&#x4E0D;&#x5C5E;&#x4E8E;&#x6B63;&#x5E38;&#x6A21;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5F02;&#x5E38;&#x8BCA;&#x65AD;&#x3002; &#x5355;&#x8BCD;&#x8868;&#x7684;&#x6784;&#x5EFA; SLCT&#x4F1A;&#x626B;&#x63CF;&#x4E00;&#x904D;&#x65E5;&#x5FD7;&#x5E76;&#x4E14;&#x7EDF;&#x8BA1;&#x5355;&#x8BCD;&#x7684;&#x51FA;&#x73B0;&#x9891;&#x6B21;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x8003;&#x8651;&#x5355;&#x8BCD;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x3002;&#x4F8B;&#x5982;&quot;send&quot;&#x51FA;&#x73B0;&#x5728;log&#x65E5;&#x5FD7;&#x91CC;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x3001;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F4D;&#x7F6E;&#x662F;&#x5F53;&#x4F5C;&#x4E0D;&#x540C;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x7684;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x53D6;&#x51FA;&#x9AD8;&#x9891;&#x8BCD;&#x3002; &#x805A;&#x7C7B;&#x7684;&#x6784;&#x5EFA; SLCT&#x7B2C;&#x4E8C;&#x6B21;&#x626B;&#x63CF;log&#x65E5;&#x5FD7;&#xFF0C;&#x8FD9;&#x6B21;&#x5173;&#x6CE8;&#x9AD8;&#x9891;&#x8BCD;&#x3002;&#x6240;&#x6709;&#x7684;&#x9AD8;&#x9891;&#x8BCD;&#x90FD;&#x4F1A;&#x88AB;&#x62BD;&#x53D6;&#x6210;&#x6A21;&#x677F;&#x3002;&#x7B26;&#x5408;&#x56FA;&#x5B9A;&#x6A21;&#x677F;&#x7684;&#x65E5;&#x5FD7;&#x4F1A;&#x88AB;&#x8BA1;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x805A;&#x4E3A;&#x4E00;&#x4E2A;&#x7C7B;&#x522B;&#x3002; &#x65E5;&#x5FD7;&#x6A21;&#x677F;&#x7684;&#x62BD;&#x53D6; SLCT&#x4F1A;&#x904D;&#x5386;&#x6240;&#x6709;&#x7684;&#x805A;&#x7C7B;&#x7ED3;&#x679C;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8BA1;&#x6570;&#x5927;&#x4E8E;&#x67D0;&#x4E2A;&#x9608;&#x503C;&#x7684;&#x6240;&#x6709;&#x6A21;&#x677F;&#x8F93;&#x51FA;&#x3002;&#x4E0D;&#x6EE1;&#x8DB3;&#x6570;&#x91CF;&#x7684;&#x805A;&#x7C7B;&#x88AB;&#x89C6;&#x4F5C;&#x79BB;&#x7FA4;&#x7684;&#x7C7B;&#x3002; &#x805A;&#x7C7B;&#x7684;&#x96C6;&#x5408; &#x8FD9;&#x4E00;&#x6B65;&#x53EF;&#x9009;&#x3002;SLCT&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x662F;&#x5426;&#x6709;&#x5B50;&#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5176;&#x4E0E;&#x7236;&#x7C7B;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x3002;&#x5927;&#x6982;&#x7387;&#x5B50;&#x7C7B;&#x6BD4;&#x8F83;&#x8BE6;&#x7EC6;&#x5177;&#x4F53;&#xFF0C;&#x7236;&#x7C7B;&#x6BD4;&#x8F83;&#x7B3C;&#x7EDF;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x8981;&#x7EFC;&#x5408;&#x8003;&#x8651;&#x805A;&#x7C7B;&#x7684;&#x7C92;&#x5EA6;&#x4ECE;&#x800C;&#x786E;&#x5B9A;&#x7ED3;&#x679C;&#x3002; IPLoM &#x8FED;&#x4EE3;&#x5212;&#x5206;&#x65E5;&#x5FD7;&#x6316;&#x6398;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#x7279;&#x5F81;&#x6765;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;&#x5212;&#x5206;&#xFF0C;&#x56E0;&#x6B64;&#x6765;&#x8FDB;&#x884C;&#x6709;&#x6548;&#x7684;&#x4FE1;&#x606F;&#x7C7B;&#x578B;&#x62BD;&#x53D6;&#x3002; &#x6839;&#x636E;&#x4E8B;&#x4EF6;&#x5927;&#x5C0F;&#x6765;&#x5212;&#x5206; &#x65E5;&#x5FD7;&#x6839;&#x636E;&#x957F;&#x5EA6;&#x5212;&#x5206;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x522B;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x7684;&#x65E5;&#x5FD7;&#x957F;&#x5EA6;&#x662F;&#x53EF;&#x53D8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x4EBA;&#x5DE5;&#x5904;&#x7406;&#x7684;&#x3002; &#x6839;&#x636E;token&#x7684;&#x4F4D;&#x7F6E;&#x6765;&#x5212;&#x5206; &#x5728;&#x4E0A;&#x4E00;&#x6B65;&#x7684;&#x5904;&#x7406;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x805A;&#x7C7B;&#x90FD;&#x6709;&#x76F8;&#x540C;&#x7684;&#x957F;&#x5EA6;&#x3002;&#x5047;&#x8BBE;&#x6709;&#x957F;&#x5EA6;&#x4E3A;n&#x7684;m&#x6761;&#x65E5;&#x5FD7;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x805A;&#x7C7B;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x805A;&#x7C7B;&#x5C31;&#x53EF;&#x4EE5;&#x89C6;&#x4F5C;&#x4E00;&#x4E2A;m*n&#x7684;&#x77E9;&#x9635;&#xFF0C;&#x8FD9;&#x6709;&#x524D;&#x63D0;&#x5047;&#x8BBE;&#x5C31;&#x662F;&#x6BCF;&#x6761;&#x65E5;&#x5FD7;&#x91CC;&#x7684;&#x5355;&#x8BCD;&#x90FD;&#x662F;&#x552F;&#x4E00;&#x7684;&#x3002;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x805A;&#x7C7B;&#x7684;&#x5212;&#x5206;&#x3002; &#x901A;&#x8FC7;&#x641C;&#x7D20;&#x6620;&#x5C04;&#x6765;&#x5212;&#x5206; &#x5728;&#x8FD9;&#x4E00;&#x6B65;&#xFF0C;&#x4E24;&#x5217;&#x65E5;&#x5FD7;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#x88AB;&#x9009;&#x4F5C;&#x5212;&#x5206;&#x57FA;&#x51C6;&#x3002;&#x7EDF;&#x8BA1;&#x4E24;&#x5217;&#x4E2D;&#x4E92;&#x4E0D;&#x76F8;&#x540C;&#x5355;&#x8BCD;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x4EE5;&#x53CA;&#x6700;&#x9AD8;&#x9891;&#x5355;&#x8BCD;&#x7684;&#x6570;&#x91CF;&#x3002;&#x56E0;&#x800C;&#x5B58;&#x5728;&#x56DB;&#x79CD;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF1A;1&#x5BF9;1&#xFF0C;1&#x5BF9;&#x591A;&#xFF0C;&#x591A;&#x5BF9;1&#xFF0C;&#x591A;&#x5BF9;&#x591A;&#x3002;&#x4E24;&#x5217;&#x4E2D;&#x5305;&#x542B;&#x76F8;&#x540C;&#x7684;1&#x5BF9;1&#x5173;&#x7CFB;&#x7684;&#x65E5;&#x5FD7;&#x53EF;&#x4EE5;&#x88AB;&#x5212;&#x4E3A;&#x4E00;&#x7C7B;&#x3002; &#x62BD;&#x53D6;&#x65E5;&#x5FD7;&#x6A21;&#x677F; &#x4E3B;&#x8981;&#x62BD;&#x53D6;&#x72EC;&#x6709;&#x7684;&#x5355;&#x8BCD; LKE &#x65E5;&#x5FD7;&#x805A;&#x7C7B; &#x6709;&#x6743;&#x91CD;&#x7684;&#x7F16;&#x8F91;&#x8DDD;&#x79BB;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8861;&#x91CF;&#x4E24;&#x4E2A;&#x65E5;&#x5FD7;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#xFF0C;\\(WED=\\sum_{i=1}^{n}\\frac{1}{1+e^{x_{i}-v}}\\), n&#x662F;&#x7F16;&#x8F91;&#x8DDD;&#x79BB;&#xFF0C;\\(x_i\\)&#x662F;&#x901A;&#x8FC7;&#x7B2C;i&#x6B21;&#x64CD;&#x4F5C;&#x8BCD;&#x7D22;&#x5F15;&#xFF0C;\\(v\\)&#x662F;&#x63A7;&#x5236;&#x6743;&#x91CD;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x65E5;&#x5FD7;&#x7684;WED&#x5C0F;&#x4E8E;&#x67D0;&#x4E2A;&#x9608;&#x503C;&#x90A3;&#x4E48;&#x5C31;&#x8BF4;&#x660E;&#x4E24;&#x4E2A;&#x65E5;&#x5FD7;&#x76F8;&#x8FDE;&#xFF0C;&#x5982;&#x6B64;&#x53EF;&#x4EE5;&#x89C6;&#x4F5C;&#x4E00;&#x79CD;&#x805A;&#x7C7B;&#x7ED3;&#x679C;&#x3002; &#x805A;&#x7C7B;&#x5212;&#x5206; LKE&#x4F1A;&#x5BFB;&#x627E;&#x516C;&#x5171;&#x6700;&#x957F;&#x5E8F;&#x5217;&#xFF0C;&#x901A;&#x8FC7;&#x8BA1;&#x7B97;LCS&#x7684;&#x957F;&#x5EA6;&#x6765;&#x5224;&#x65AD;&#x662F;&#x5426;&#x8D85;&#x8FC7;&#x9608;&#x503C;&#x4ECE;&#x800C;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x9700;&#x8981;&#x7EE7;&#x7EED;&#x5212;&#x5206;&#x3002; &#x65E5;&#x5FD7;&#x6A21;&#x677F;&#x62BD;&#x53D6; &#x540C;&#x4E0A; LogSig &#x8BE5;&#x65B9;&#x6CD5;&#x662F;&#x57FA;&#x4E8E;&#x4FE1;&#x606F;&#x7684;signature&#x6765;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x7684; &#x751F;&#x6210;&#x5355;&#x8BCD;&#x5BF9; &#x4F8B;&#x5982; &#x201C;Verification succeeded for blk_904791815409399662&#x201D; &#x53EF;&#x4EE5;&#x8F6C;&#x6362;&#x6210;&#x5982;&#x4E0B;&#x7684;&#x5355;&#x8BCD;&#x5BF9;: (Verification, succeeded), (Verification, for), (Verification, blk_904791815409399662), (succeeded, for), (succeeded, blk_904791815409399662), (for, blk_904791815409399662). &#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x5BF9;&#x90FD;&#x8981;&#x4FDD;&#x8BC1;&#x5176;&#x539F;&#x59CB;&#x7684;&#x5E8F;&#x5217;&#x3002; &#x805A;&#x7C7B; &#x7528;&#x6237;&#x6765;&#x51B3;&#x5B9A;&#x805A;&#x7C7B;&#x7684;&#x6570;&#x91CF;k&#xFF0C;&#x6700;&#x521D;&#x662F;&#x968F;&#x673A;&#x5212;&#x5206;k&#x4E2A;&#x7C7B;&#xFF0C;&#x5728;&#x6BCF;&#x6B21;&#x805A;&#x7C7B;&#x7684;&#x8FED;&#x4EE3;&#x4E2D;&#xFF0C;&#x6839;&#x636E;&#x4E0A;&#x9762;&#x8BA1;&#x7B97;&#x7684;&#x5355;&#x8BCD;&#x5BF9;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x8C03;&#x6574;&#x5212;&#x5206;&#xFF0C;&#x76F4;&#x5230;&#x805A;&#x7C7B;&#x7ED3;&#x679C;&#x4E0D;&#x518D;&#x53D8;(&#x7C7B;&#x4F3C;k-means) &#x65E5;&#x5FD7;&#x6A21;&#x677F;&#x62BD;&#x53D6; &#x5BF9;k&#x4E2A;&#x805A;&#x7C7B;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x62BD;&#x53D6;&#xFF0C;&#x6BCF;&#x4E2A;&#x7C7B;&#x4E2D;&#x5355;&#x8BCD;&#x5927;&#x4E8E;&#x4E00;&#x534A;&#x6570;&#x91CF;&#x7684;&#x4F5C;&#x4E3A;&#x5019;&#x9009;&#x6837;&#x672C;&#x3002;&#x9009;&#x53D6;&#x8BCD;&#x9891;&#x6700;&#x9AD8;&#x7684;&#x4F5C;&#x4E3A;&#x6837;&#x672C;&#xFF0C;","categories":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/categories/Anomaly-detection/"}],"tags":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"}],"author":"刘丰瑞"},{"title":"时间循环一致性学习","slug":"数据挖掘/2019-09-18-时间循环一致性学习","date":"2019-09-17T16:00:00.000Z","updated":"2019-09-18T09:05:28.901Z","comments":true,"path":"2019/09/18/数据挖掘/2019-09-18-时间循环一致性学习/","link":"","permalink":"http://www.liufr.com/2019/09/18/数据挖掘/2019-09-18-时间循环一致性学习/","excerpt":"","text":"Temporal Cycle-Consistency Learning(CVPR&apos;19) &#x672C;&#x6587;&#x4ECB;&#x7ECD;&#x7684;&#x662F;&#x4E00;&#x79CD;&#x81EA;&#x76D1;&#x7763;&#x5B66;&#x4E60;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x8FC7;TCC&#x7684;&#x65B9;&#x6CD5;&#x8BAD;&#x7EC3;&#x7F51;&#x7EDC;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x4E0D;&#x540C;&#x89C6;&#x9891;&#x7684;&#x5FAA;&#x73AF;&#x4E00;&#x81F4;&#x6027;&#x635F;&#x5931;&#x627E;&#x5230;&#x4E0D;&#x540C;&#x89C6;&#x9891;&#x5E27;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x6700;&#x8FD1;&#x90BB;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5BF9;&#x9F50;&#x3002; &#x5FAA;&#x73AF;&#x4E00;&#x81F4;&#x8868;&#x793A;&#x5B66;&#x4E60; &#x4E3B;&#x8981;&#x8D21;&#x732E;&#x662F;&#x91C7;&#x7528;&#x4E86;&#x81EA;&#x76D1;&#x7763;&#x7684;&#x5B66;&#x4E60;&#x65B9;&#x6CD5;&#xFF0C;&#x5B66;&#x4E60;&#x4E86;&#x4E00;&#x4E2A;&#x5D4C;&#x5165;&#x7A7A;&#x95F4;&#xFF08;embedding space&#xFF09;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x4E24;&#x4E2A;&#x76F8;&#x4F3C;&#x7684;&#x89C6;&#x9891;&#x5E8F;&#x5217;&#x53EF;&#x4EE5;&#x624D;&#x65F6;&#x95F4;&#x4E0A;&#x8FDB;&#x884C;&#x5BF9;&#x9F50;&#x3002;&#x53E6;&#x4E00;&#x79CD;&#x89E3;&#x91CA;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728;&#x5D4C;&#x5165;&#x5F0F;&#x7A7A;&#x95F4;&#x91CC;&#x5C06;&#x4E24;&#x4E2A;&#x5E8F;&#x5217;&#x4E0A;&#x6700;&#x77ED;&#x8DDD;&#x79BB;&#x7684;&#x70B9;&#x4E00;&#x5BF9;&#x4E00;&#x8FDE;&#x63A5;&#x540E;&#x7684;&#x6570;&#x91CF;&#x6700;&#x5927;&#x5316;&#x3002;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x8FD9;&#x6837;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x672C;&#x6587;&#x901A;&#x8FC7;&#x5C06;&#x4E24;&#x4E2A;&#x5E8F;&#x5217;&#x4E2D;&#x5FAA;&#x73AF;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x5E27;&#x7684;&#x6570;&#x91CF;&#x6700;&#x5927;&#x5316;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5FAA;&#x73AF;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x662F;&#x79BB;&#x6563;&#x4E0D;&#x53EF;&#x5FAE;&#x7684;&#xFF0C;&#x4E3A;&#x4E86;&#x80FD;&#x4F7F;&#x7528;&#x53CD;&#x5411;&#x4F20;&#x64AD;&#x5728;&#x5D4C;&#x5165;&#x5F0F;&#x7A7A;&#x95F4;&#x91CC;&#x8FDB;&#x884C;&#x5B66;&#xFF0C;&#x672C;&#x6587;&#x63D0;&#x51FA;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5FAA;&#x73AF;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x635F;&#x5931;&#xFF08;cycle-consistency loss&#xFF09;&#xFF0C;&#x4E0B;&#x4E00;&#x8282;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x3002; &#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x67D0;&#x4E00;&#x5E27;\\(s_i\\)&#xFF0C;&#x5D4C;&#x5165;&#x8868;&#x8FBE;&#xFF08;embedding&#xFF09;&#x4E3A;\\(u_i=\\phi(s_i;\\theta)\\)&#xFF0C;&#x5176;&#x4E2D;\\(\\phi\\)&#x662F;&#x4EE5;\\(\\theta\\)&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;encoder&#x3002;&#x8FD9;&#x6837;&#x5BF9;&#x4E8E;&#x7ED9;&#x5B9A;&#x7684;&#x4E24;&#x4E2A;&#x89C6;&#x9891;&#x5E8F;&#x5217;\\(S,T\\)&#xFF0C;&#x957F;&#x5EA6;&#x5206;&#x522B;&#x4E3A;\\(N,M\\)&#xFF0C;embedding&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x4E3A;\\(U={u_1,u_2,...,u_N}\\)&#x548C;\\(V={v_1,v_2,...v_M}\\),&#x5176;&#x4E2D;&#x6709;\\(u_i=\\phi(s_i;\\theta),v_i=\\phi(t_i;\\theta)\\) &#x5FAA;&#x73AF;&#x4E00;&#x81F4;&#x6027; &#x5982;&#x679C;\\(u_i\\in U\\)&#x5BF9;&#x4E8E;\\(v_j=arg\\ min_{v\\in V}||u_i-v||\\)&#xFF0C;&#x91CD;&#x590D;&#x4E0A;&#x8FF0;&#x8FC7;&#x7A0B;&#xFF0C;&#x5BF9;&#x4E8E;\\(v_j\\)&#x627E;&#x5230;&#x6709;\\(u_k=arg\\ min_{u\\in U}||v_j-u||\\)&#x3002;&#x5982;&#x679C;\\(i==k\\)&#x90A3;&#x4E48;&#x5C31;&#x8BF4;&#x660E;&#x5B58;&#x5728;&#x5FAA;&#x73AF;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#x56FE;2&#x7ED9;&#x51FA;&#x7684;&#x4F8B;&#x5B50;&#x3002;&#x6700;&#x597D;&#x7684;&#x5D4C;&#x5165;&#x7A7A;&#x95F4;&#x5C31;&#x662F;&#x80FD;&#x6709;&#x6700;&#x591A;&#x5339;&#x914D;&#x7684;&#x70B9;&#x7684;&#x7A7A;&#x95F4;&#x3002; &#x53CD;&#x5411;&#x5FAA;&#x73AF;&#x5206;&#x7C7B;&#xFF08;cycle-back Classification&#xFF09; &#x4E3A;&#x4E86;&#x786E;&#x5B9A;\\(u_i\\)&#x7684;&#x6700;&#x8FD1;&#x90BB;\\(\\tilde{v}\\)&#xFF08;soft nearest neighbor&#xFF09;&#xFF0C;&#x4F7F;&#x7528;softmax&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#xFF0C;&#x5176;&#x4E2D;&#x6BCF;&#x4E00;&#x5E27;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x7C7B;&#x522B;&#xFF0C;&#x5339;&#x914D;&#x5E27;&#x4E3A;1&#xFF0C;&#x5176;&#x4ED6;&#x5747;&#x4E3A;0&#x3002; \\[ \\tilde{v} = \\sum_j^M\\alpha_jv_j, \\ where \\ \\alpha_j=\\frac{e^{-||u_i-v_j||^2}}{\\sum_k^Me^{-||u_i-v_k||^2}} \\] &#x5176;&#x4E2D;\\(\\alpha\\)&#x662F;&#x76F8;&#x4F3C;&#x6027;&#x5206;&#x5E03;&#x6982;&#x7387;&#xFF0C;&#x4EA4;&#x53C9;&#x71B5;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A; \\[ L_{abc} = -\\sum_j^Ny_jlog(\\hat{y_j}) \\] &#x53CD;&#x5411;&#x5FAA;&#x73AF;&#x56DE;&#x5F52;&#xFF08;cycle-back Regression&#xFF09; &#x5C3D;&#x7BA1;&#x4E0A;&#x9762;&#x7684;Classification&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x635F;&#x5931;&#x51FD;&#x6570;&#x7528;&#x4F5C;&#x5B66;&#x4E60;&#xFF0C;&#x4F46;&#x662F;&#x635F;&#x5931;&#x51FD;&#x6570;&#x65E0;&#x6CD5;&#x76F4;&#x89C2;&#x611F;&#x53D7;&#x5FAA;&#x73AF;&#x56DE;&#x6765;&#x540E;&#x7684;&#x8DDD;&#x79BB;&#x7ED3;&#x679C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6CA1;&#x6CD5;&#x8861;&#x91CF;cycle-back&#x56DE;&#x6765;&#x7684;&#x65F6;&#x95F4;&#x70B9;&#x4E0E;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x70B9;&#x7684;&#x8FDC;&#x8FD1;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x70B9;&#x5728;&#x5411;&#x56DE;&#x5FAA;&#x73AF;&#x7684;&#x65F6;&#x5019;&#x80FD;&#x53CA;&#x65F6;&#x627E;&#x5230;&#x5408;&#x7406;&#x7684;&#x5E27;&#xFF0C;&#x90A3;&#x4E48;&#x60E9;&#x7F5A;&#x5E94;&#x8BE5;&#x662F;&#x8F83;&#x5C0F;&#x7684;&#x3002;&#x672C;&#x6587;&#x63D0;&#x51FA;&#x53CD;&#x5411;&#x5FAA;&#x73AF;&#x56DE;&#x5F52;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A; &#x9664;&#x4E86;&#x50CF;&#x4E0A;&#x6587;&#x4E00;&#x6837;&#x8BA1;&#x7B97;&#x6700;&#x8FD1;&#x90BB;\\(\\tilde{v}\\)&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x8981;&#x8BA1;&#x7B97;&#x76F8;&#x4F3C;&#x6027;&#x5411;&#x91CF; \\[ \\beta_k=\\frac{e^{-||\\tilde{v}-u_k||^2}}{\\sum_j^Ne^{-||\\tilde{v}_i-u_j||^2}} \\] &#x589E;&#x52A0;&#x7684;&#x7EA6;&#x675F;&#x4E3A;&#x76F8;&#x4F3C;&#x6027;&#x7684;&#x9AD8;&#x65AF;&#x5206;&#x5E03;&#xFF0C;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x70B9;&#x9644;&#x8FD1;&#x6709;&#x4E00;&#x4E2A;&#x6CE2;&#x5CF0;&#xFF08;Peak&#xFF09;&#x5B9A;&#x4E49;Loss&#x4E3A; \\[ L{cbr}=\\frac{|i-\\mu|^2}{\\sigma^2} + \\lambda\\ log(\\sigma) \\] &#x5176;&#x4E2D;\\(\\mu=\\sum_k^N\\beta_k*k, \\sigma^2=\\sum_k^N\\beta_k*(k-\\mu)^2, \\lambda\\) &#x662F;&#x6B63;&#x5219;&#x5316;&#x7684;&#x6743;&#x91CD;&#x53C2;&#x6570; &#x5BF9;&#x4E8E;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x7684;&#x5E94;&#x7528;&#x601D;&#x8003; &#x7528;TCC&#x6765;&#x505A;&#x7684;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x6709;&#x8F83;&#x5F3A;&#x7684;&#x5047;&#x8BBE;&#xFF0C;&#x7528;&#x4F5C;&#x6BD4;&#x5BF9;&#x7684;&#x5E8F;&#x5217;&#x4E0E;&#x5F53;&#x524D;&#x5E8F;&#x5217;&#x8981;&#x6709;&#x76F8;&#x4F3C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x5173;&#x7CFB;&#x624D;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#xFF0C;&#x800C;&#x4E14;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x9759;&#x6001;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x8DDF;&#x540E;&#x5411;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x8FD8;&#x53EF;&#x80FD;&#x524D;&#x5411;&#x8BA1;&#x7B97;&#xFF08;&#x9AD8;&#x65AF;&#x5206;&#x5E03;&#xFF0C;&#x6700;&#x7406;&#x60F3;&#x662F;&#x6BD4;&#x5BF9;&#x5230;&#x9AD8;&#x65AF;&#x7684;&#x6CE2;&#x5CF0;&#x4F4D;&#x7F6E;&#xFF09;&#xFF0C;&#x597D;&#x5728;&#x5BF9;&#x4E8E;&#x65F6;&#x5E8F;&#x6570;&#x636E;&#x6765;&#x8BF4;&#xFF0C;&#x4E0D;&#x9700;&#x8981;embedding&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9700;&#x8981;&#x4E0B;&#x91C7;&#x6837;&#x6765;&#x66FF;&#x4EE3;&#x4ECE;&#x800C;&#x5F97;&#x5230;&#x66F4;&#x597D;&#x7684;&#x6027;&#x80FD; &#x63A5;&#x4E0B;&#x6765;&#x6253;&#x7B97;&#x5F00;&#x6E90;&#x7801;+TCC&#x5B9E;&#x73B0;&#x65F6;&#x5E8F;&#x7684;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x770B;&#x770B;&#x6548;&#x679C;","categories":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/categories/Anomaly-detection/"}],"tags":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"},{"name":"CVPR","slug":"CVPR","permalink":"http://www.liufr.com/tags/CVPR/"}],"author":"刘丰瑞"},{"title":"时间注意力模型下的时序预测","slug":"数据挖掘/2019-09-12-时间注意力模型下的时序预测","date":"2019-09-11T16:00:00.000Z","updated":"2019-09-17T13:28:34.676Z","comments":true,"path":"2019/09/12/数据挖掘/2019-09-12-时间注意力模型下的时序预测/","link":"","permalink":"http://www.liufr.com/2019/09/12/数据挖掘/2019-09-12-时间注意力模型下的时序预测/","excerpt":"","text":"Multi-Horizon Time Series Forecasting with Temporal Attention Learning(KDD&apos; 19) &#x6587;&#x7AE0;&#x9610;&#x8FF0;&#x4E86;&#x5386;&#x53F2;&#x4FE1;&#x606F;&#x4E2D;&#x7684;&#x65F6;&#x95F4;&#x6A21;&#x5F0F;&#x5BF9;&#x957F;&#x65F6;&#x95F4;&#x5E8F;&#x5217;&#x7684;&#x9884;&#x6D4B;&#x662F;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x7684;&#x3002;&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;&#x4E2D;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x4F9D;&#x8D56;&#x4ECE;&#x800C;&#x63A2;&#x7D22;&#x76F8;&#x5173;&#x7684;&#x65F6;&#x5E8F;&#x6A21;&#x5F0F;&#x662F;&#x5F88;&#x4E0D;&#x9760;&#x8C31;&#x7684;&#xFF0C;&#x672C;&#x6587;&#x7528;DNN&#x7684;&#x65B9;&#x6CD5;&#x63D0;&#x51FA;&#x4E86;&#x7AEF;&#x5230;&#x7AEF;&#x7684;&#x591A;&#x89C6;&#x754C;&#x6A21;&#x578B;&#x6765;&#x8FDB;&#x884C;&#x9884;&#x6D4B;&#xFF0C;&#x4ECE;&#x65F6;&#x95F4;&#x7684;&#x6CE8;&#x610F;&#x529B;&#x4E0A;&#x6765;&#x66F4;&#x597D;&#x5730;&#x6355;&#x83B7;&#x5386;&#x53F2;&#x6570;&#x636E;&#x7684;&#x6F5C;&#x5728;&#x6A21;&#x5F0F;&#xFF0C;&#x8FD8;&#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x79CD;&#x591A;&#x6A21;&#x578B;&#x7684;&#x878D;&#x5408;&#x673A;&#x5236;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x4E0D;&#x540C;&#x5386;&#x53F2;&#x6570;&#x636E;&#x7684;&#x7279;&#x5F81;&#x6765;&#x66F4;&#x597D;&#x5730;&#x9884;&#x6D4B;&#x3002; multi-horizon&#x4EE3;&#x8868;&#x7684;&#x610F;&#x601D;&#x5C31;&#x662F;&#x5728;&#x672A;&#x6765;&#x65F6;&#x95F4;&#x5185;&#x8FDB;&#x884C;&#x591A;&#x6B65;&#x9884;&#x6D4B;&#x3002;&#x8FD9;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x8D44;&#x6E90;&#x89C4;&#x5212;&#x7684;&#x9884;&#x6D4B;&#x4EE5;&#x53CA;&#x51B3;&#x7B56;&#x3002;&#x8FD9;&#x5BF9;LSTM&#x63D0;&#x51FA;&#x4E86;&#x6311;&#x6218;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53;&#x524D;&#x7684;&#x8F93;&#x5165;&#x6E90;&#x4E8E;&#x5386;&#x53F2;&#x4FE1;&#x606F;&#x548C;&#x672A;&#x6765;&#x52A8;&#x6001;&#x8F93;&#x5165;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x53EF;&#x4EE5;&#x7CBE;&#x786E;&#x9884;&#x6D4B;&#x662F;&#x56E0;&#x4E3A;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5BF9;&#x6F5C;&#x5728;&#x6A21;&#x578B;&#x7684;&#x9002;&#x5F53;&#x8868;&#x793A;&#x4EE5;&#x53CA;&#x5386;&#x53F2;&#x6570;&#x636E;&#x65F6;&#x95F4;&#x6A21;&#x5F0F;&#x7684;&#x53C2;&#x7167;&#x3002; &#x65B9;&#x6CD5; &#x57FA;&#x7840;&#x7F16;&#x7801;-&#x89E3;&#x7801;&#x7ED3;&#x6784; &#x91C7;&#x7528;&#x7684;&#x662F;seq2seq&#x6D41;&#x6C34;&#x7EBF;&#x7ED3;&#x6784;&#x6765;&#x7F16;&#x7801;&#x5386;&#x53F2;/&#x672A;&#x6765;&#x7684;&#x8F93;&#x5165;&#x53D8;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x89E3;&#x7801;&#x7528;&#x4E8E;&#x672A;&#x6765;&#x7684;&#x9884;&#x6D4B; &#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x7F16;&#x7801;&#x8FC7;&#x7A0B;&#x662F;&#x4E00;&#x4E2A;&#x4E24;&#x5C42;&#x7684;LSTM&#x67B6;&#x6784;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x5386;&#x53F2;&#x4FE1;&#x606F;&#x5339;&#x914D;&#x5230;&#x9690;&#x85CF;&#x5C42;&#x7684;&#x4E0A;&#x4E00;&#x5C42;&#x7684;\\(h_{t-1}\\)&#x3002;&#x5176;&#x4E2D;\\(x_t\\)&#x4EE3;&#x8868;&#x6BCF;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233;&#x4E2D;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x9690;&#x85CF;&#x5C42;&#x5C31;&#x662F;\\(h_t\\)&#xFF0C;&#x5185;&#x90E8;&#x7684;&#x95E8;(gate cell)&#x5C31;&#x662F;\\(i_t,f_t,o_t,c_t\\) \\[ \\begin{array}{l}{i_{t}=\\sigma\\left(W_{i x} x_{t}+W_{i m} m_{t-1}\\right)} \\\\ {f_{t}=\\sigma\\left(W_{f x} x_{t}+W_{f m} m_{t-1}\\right)} \\\\ {o_{t}=\\sigma\\left(W_{o x} x_{t}+W_{o m} m_{t-1}\\right)} \\\\ {c_{t}=f_{t} \\cdot c_{t-1}+i_{t} \\cdot \\tanh \\left(W_{c x} x_{t}+W_{c m} m_{t-1}\\right)} \\\\ {h_{t}=o_{t} \\cdot \\tanh \\left(c_{t}\\right)}\\end{array} \\] &#x4E0A;&#x8FF0;&#x590D;&#x6742;&#x7684;&#x516C;&#x5F0F;&#x7B80;&#x5199;&#x6210;\\(h_t^e=LSTM^e(x_t;h_{t-1})\\), &#x5176;&#x4E2D;\\(e\\)&#x5C31;&#x8868;&#x793A;&#x5728;&#x9690;&#x542B;&#x5C42;&#x4E2D;&#x5DF2;&#x7ECF;&#x7ECF;&#x8FC7;&#x4E86;&#x7F16;&#x7801;&#x3002; &#x89E3;&#x7801;&#x5668;&#x5C31;&#x662F;&#x5C06;&#x7F16;&#x7801;&#x5668;&#x7684;&#x8F93;&#x51FA;&#x5F53;&#x4F5C;&#x8F93;&#x5165;&#x7684;&#x521D;&#x59CB;&#x72B6;&#x6001;&#xFF0C;&#x672A;&#x6765;&#x7684;&#x4FE1;&#x606F;&#x4E5F;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x751F;&#x6210;&#x672A;&#x6765;&#x5E8F;&#x5217;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8F93;&#x51FA;&#x3002;&#x89E3;&#x7801;&#x5668;&#x8BBE;&#x8BA1;&#x6210;&#x4E00;&#x4E2A;&#x53CC;&#x5411;LSTM&#x7F51;&#x7EDC;&#xFF0C;&#x53EF;&#x4EE5;&#x6B63;&#x5411;&#x548C;&#x9006;&#x5411;&#x4F20;&#x64AD;&#x672A;&#x6765;&#x7684;&#x8F93;&#x5165;&#x7279;&#x5F81;&#x3002;&#x8FD9;&#x4E2A;&#x7ED3;&#x6784;&#x53EF;&#x4EE5;&#x4F7F;&#x5F97;&#x524D;&#x5411;&#x548C;&#x540E;&#x5411;&#x7684;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x672A;&#x6765;&#x7684;&#x65F6;&#x95F4;&#x6B65;&#x4E2D;&#x89C2;&#x5BDF;&#x5F97;&#x5230;&#x3002;BiLSTM&#x7684;&#x9690;&#x542B;&#x5C42;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x5168;&#x8FDE;&#x63A5;&#x5C42;&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x57DF;&#x4E0A;&#x7684;&#x5377;&#x79EF;&#x5C42;&#x6765;&#x8FDB;&#x884C;&#x6700;&#x540E;&#x7684;&#x9884;&#x6D4B;&#x3002;&#x6211;&#x4EEC;&#x5F3A;&#x8C03;&#x8BF4;&#x6700;&#x540E;&#x7684;&#x9884;&#x6D4B;&#x5E94;&#x8BE5;&#x662F;&#x5728;BiLSTM&#x4FE1;&#x606F;&#x4F20;&#x64AD;&#x540E;&#x6765;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x901A;&#x8FC7;&#x5C06;&#x4FE1;&#x606F;&#x4F20;&#x64AD;&#x72B6;&#x6001;&#x548C;&#x4FE1;&#x606F;&#x9884;&#x6D4B;&#x72B6;&#x6001;&#x8FDB;&#x884C;&#x5206;&#x79BB;&#xFF0C;&#x9632;&#x6B62;&#x5728;&#x4E00;&#x4E2A;&#x957F;&#x89C6;&#x754C;&#xFF08;long horizon&#xFF09;&#x4E2D;&#x9519;&#x8BEF;&#x7684;&#x7D2F;&#x52A0;&#x3002;&#x8FD9;&#x4E2A;&#x7ED3;&#x6784;&#x4E2D;&#x524D;&#x5411;&#x548C;&#x540E;&#x5411;&#x7684;&#x4FE1;&#x606F;&#x4F20;&#x64AD;&#x662F;&#x5206;&#x79BB;&#x7684;&#x3002;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; \\[ \\begin{aligned} h_{t}^{f} &amp;=L S T M^{f}\\left(x_{t} ; h_{t-1}\\right) \\\\ h_{t}^{b} &amp;=L S T M^{b}\\left(x_{t} ; h_{t+1}\\right) \\\\ h_{t} &amp;=\\left[h_{t}^{f} ; h_{t}^{b}\\right] \\end{aligned} \\] &#x4E0A;&#x5F0F;&#x53EF;&#x4EE5;&#x7EFC;&#x5408;&#x5199;&#x6210;\\(h_t^d = BiLSTM^d(x_t;h_{t-1},h_{t+1})\\)&#xFF0C;&#x4E3A;&#x4E86;&#x4ECE;&#x9690;&#x542B;&#x5C42;&#x751F;&#x6210;&#x5206;&#x4F4D;&#x6570;&#x7684;&#x9884;&#x6D4B;&#xFF0C;&#x6211;&#x4EEC;&#x52A0;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x7EBF;&#x6027;&#x5C42;&#xFF0C;&#x5728;&#x7F16;&#x7801;&#x89E3;&#x7801;&#x5C42;&#x7684;K&#x7EF4;&#x5206;&#x4F4D;&#x6570;&#x9884;&#x6D4B;&#x5219;&#x4E3A; \\[ \\begin{aligned} y_{t}^{e} &amp;=W_{e} h_{t}^{e}+b_{e} \\\\ y_{t}^{d} &amp;=W_{d} h_{t}^{d}+b_{d} \\end{aligned} \\] Embedding &#x901A;&#x8FC7;Embedding&#x6280;&#x672F;&#x53EF;&#x4EE5;&#x5C06;&#x660E;&#x786E;&#x7684;&#x53D8;&#x91CF;&#x6620;&#x5C04;&#x4E3A;&#x6570;&#x4E2A;&#x7279;&#x5F81;&#x5411;&#x91CF;&#xFF0C;&#x91C7;&#x7528;one-hot&#x7F16;&#x7801;&#x4EE3;&#x8868;\\(|C|\\)&#x53D8;&#x91CF;\\(x_c=\\{0...010...0\\}\\in R^{|C|}\\)&#xFF0C;&#x5B66;&#x4E60;&#x7684;&#x5D4C;&#x5165;&#x5F0F;&#x77E9;&#x9635;\\(W_c\\in R^{D*|C|}\\)&#xFF0C;&#x53D8;&#x5316;&#x540E;&#x7684;&#x53D8;&#x91CF;&#x53EF;&#x4EE5;&#x7531;\\(x_c&apos;=W_cx_c\\)&#x8BA1;&#x7B97;&#x5F97;&#x3002; &#x6CE8;&#x610F;&#x529B;&#x6A21;&#x578B; &#x7F16;&#x7801;&#x89E3;&#x7801;&#x6A21;&#x578B;&#x7531;&#x4E8E;&#x5185;&#x5B58;&#x7684;&#x66F4;&#x65B0;&#x5F88;&#x96BE;&#x6355;&#x83B7;&#x957F;&#x671F;&#x7684;&#x8BB0;&#x5FC6;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x529B;&#x6A21;&#x578B;&#xFF0C;&#x5982;&#x56FE;&#x6240;&#x793A; &#x6700;&#x4E0B;&#x5C42;&#x7684;&#x662F;&#x5386;&#x53F2;&#x7F16;&#x7801;&#x6A21;&#x5757;&#xFF0C;&#x6700;&#x4E0A;&#x5C42;&#x662F;&#x4E00;&#x4E2A;BiLSTM&#x7684;&#x672A;&#x6765;&#x89E3;&#x7801;&#x6A21;&#x5757;&#xFF0C;&#x6587;&#x7AE0;&#x8BBE;&#x8BA1;&#x4E86;&#x4E00;&#x4E2A;&#x591A;&#x6A21;&#x578B;&#x7684;&#x6CE8;&#x610F;&#x529B;&#x673A;&#x5236;&#xFF0C;&#x4ED6;&#x7531;&#x6BCF;&#x6B21;&#x672A;&#x6765;&#x65F6;&#x95F4;&#x6B65;&#x9AA4;&#x4E2D;&#x7684;BiLSTM&#x7684;&#x9690;&#x85CF;&#x5C42;&#x5F15;&#x5BFC;&#xFF0C;&#x5E76;&#x4E14;&#x878D;&#x5408;&#x4E0D;&#x540C;&#x7684;&#x6743;&#x91CD;&#x5E94;&#x7528;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x5386;&#x53F2;&#x6570;&#x636E;&#x4E2D; &#x65F6;&#x95F4;&#x6CE8;&#x610F;&#x529B; &#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x5168;&#x4F53;&#x7684;&#x5386;&#x53F2;&#x6570;&#x636E;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x771F;&#x5B9E;&#x4E16;&#x754C;&#x7684;&#x65F6;&#x5E8F;&#x6570;&#x636E;&#x592A;&#x957F;&#x4E86;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6A21;&#x7CCA;&#x6389;&#x6CE8;&#x610F;&#x529B;&#x6A21;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x8BA1;&#x7B97;&#x4E0D;&#x591F;&#x6709;&#x6548;&#x7387;&#x3002;&#x6587;&#x7AE0;&#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x79CD;&#x5206;&#x79BB;&#x6027;&#x6CE8;&#x610F;&#x6BCF;&#x4E2A;&#x65F6;&#x671F;&#x4E0B;&#x7684;&#x5386;&#x53F2;&#x6570;&#x636E;&#x5E76;&#x5C06;&#x5176;&#x7ED3;&#x5408;&#x5230;&#x591A;&#x5F62;&#x6001;&#x878D;&#x5408;&#x7684;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x957F;&#x5EA6;&#x53EF;&#x4EE5;&#x7531;&#x4EBA;&#x4E3A;&#x8BBE;&#x5B9A;&#x3002;&#x65F6;&#x95F4;&#x6CE8;&#x610F;&#x529B;&#x7684;&#x6743;&#x91CD;\\(\\gamma_{1:T_h}\\)&#x53EF;&#x4EE5;&#x8868;&#x8FF0;&#x4E3A; \\[ \\begin{array} {c}{\\mathbf{g}=\\mathbf{v}_{g}^{\\top} \\tanh \\left(\\mathbf{W}_{g} \\mathbf{s}_{t}+\\mathbf{V}_{g} \\mathbf{h}+\\mathbf{b}_{g}\\right)} \\\\ {\\gamma_{i}=\\frac{\\exp \\left(g_{i}\\right)}{\\sum_{j=1}^{T_{h}} \\exp \\left(g_{j}\\right)} \\quad \\text { for } i=1 \\ldots T_{h}} \\end{array} \\] &#x7136;&#x540E;&#x52A0;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x5411;&#x91CF;\\(c_t\\)&#x548C;transformer\\(d_t\\)&#x4E3A;&#xFF1A; \\[ \\begin{aligned} \\mathbf{c}_{t} &amp;=\\sum_{i=1}^{T_{h}} \\gamma_{i} \\mathbf{h}_{i} \\\\ \\mathbf{d}_{t} &amp;=\\operatorname{ReLU}\\left(\\mathbf{W}_{d} \\mathbf{c}_{t}+\\mathbf{b}_{d}\\right) \\end{aligned} \\] &#x591A;&#x5F62;&#x6001;&#x878D;&#x5408; &#x56FE;3 &#x7ED9;&#x51FA;&#x7684;&#x662F;M=2&#x7684;&#x878D;&#x5408;&#x7ED3;&#x679C;&#xFF0C; \\[ \\begin{array}{l}{\\mathbf{p}_{t}^{m}=\\mathbf{v}_{p}^{\\top} \\tanh \\left(\\mathbf{W}_{p} \\mathbf{s}_{t}+\\mathbf{V}_{p}^{m} \\mathbf{d}_{t}^{m}+\\mathbf{b}_{p}\\right)} \\\\ {\\phi_{t}^{m}=\\frac{\\exp \\left(p_{t}^{m}\\right)}{\\sum_{k=1}^{M} \\exp \\left(p_{t}^{k}\\right)} \\quad \\text { for } m=1 \\ldots M}\\end{array} \\] &#x878D;&#x5408;&#x540E;&#x7684;&#x77E5;&#x8BC6;&#x5E93;\\(x_t\\)&#x53EF;&#x4EE5;&#x7531;\\(d_t^m\\)&#x7684;&#x52A0;&#x548C;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x7ED9;&#x51FA; \\[ x_t=\\sum_{m=1}^M\\phi_t^md_t^m \\]","categories":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/categories/Anomaly-detection/"}],"tags":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"},{"name":"KDD","slug":"KDD","permalink":"http://www.liufr.com/tags/KDD/"},{"name":"time series","slug":"time-series","permalink":"http://www.liufr.com/tags/time-series/"}],"author":"刘丰瑞"},{"title":"多维时序无监督异常检测","slug":"数据挖掘/2019-09-09-DNN多维时序无监督异常检测","date":"2019-09-08T16:00:00.000Z","updated":"2019-09-17T13:29:36.391Z","comments":true,"path":"2019/09/09/数据挖掘/2019-09-09-DNN多维时序无监督异常检测/","link":"","permalink":"http://www.liufr.com/2019/09/09/数据挖掘/2019-09-09-DNN多维时序无监督异常检测/","excerpt":"","text":"A Deep Neural Network for Unsupervised Anomaly Detectionand Diagnosisin Multivariate Time Series Data &#x8D21;&#x732E; &#x5F62;&#x5F0F;&#x5316;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x5230;&#x4E09;&#x4E2A;&#x5B50;&#x95EE;&#x9898;&#x4E0A;&#xFF1A; &#x5F02;&#x5E38;&#x68C0;&#x6D4B; &#x6839;&#x56E0;&#x5B9A;&#x4F4D; &#x5F02;&#x5E38;&#x4E25;&#x91CD;&#x6027;&#x89E3;&#x91CA; &#x63D0;&#x51FA;&#x4E86;&#x7CFB;&#x7EDF;&#x7B7E;&#x540D;&#x77E9;&#x9635;&#xFF08;system signature matrix&#xFF09;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x7528;MSCRED&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5377;&#x79EF;&#x7F16;&#x7801;&#x5668;&#x6765;&#x7F16;&#x7801;tensor&#x95F4;&#x7684;&#x8054;&#x7CFB;&#xFF0C;&#x57FA;&#x4E8E;&#x6CE8;&#x610F;&#x529B;&#x6A21;&#x578B;&#x7684;ConvLSTM&#x7F51;&#x7EDC;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x7684;&#x6A21;&#x578B;&#x3002;&#x8BE5;&#x6A21;&#x578B;&#x9996;&#x6B21;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x4E0A;&#x8FF0;&#x4E09;&#x4E2A;&#x95EE;&#x9898; &#x6027;&#x80FD;&#x8D85;&#x8D8A;baseline MSCRED &#x6846;&#x67B6; Multi-Scale Convolutional Recurrent Encoder-Decoder &#x5927;&#x4F53;&#x601D;&#x8DEF;&#xFF1A; 1. &#x751F;&#x6210;&#x591A;&#x5C3A;&#x5EA6;&#x7684;&#x7CFB;&#x7EDF;&#x7B7E;&#x540D;&#x77E9;&#x9635; 2. &#x901A;&#x8FC7;&#x5377;&#x79EF;&#x7F16;&#x7801;&#x5668;&#x628A;&#x7A7A;&#x95F4;&#x4FE1;&#x606F;&#x7F16;&#x7801;&#x5230;&#x7B7E;&#x540D;&#x77E9;&#x9635;&#x4E2D; 3. &#x628A;&#x65F6;&#x95F4;&#x4FE1;&#x606F;&#x7F16;&#x7801;&#x5230;ConvLSTM&#x6CE8;&#x610F;&#x529B;&#x6A21;&#x578B;&#x4E2D; 4. &#x6839;&#x636E;&#x5377;&#x79EF;&#x89E3;&#x7801;&#x5668;&#x91CD;&#x6784;&#x7B7E;&#x540D;&#x77E9;&#x9635;&#xFF0C;&#x5229;&#x7528;&#x5E73;&#x65B9;&#x8BEF;&#x5DEE;&#x6765;&#x8FDB;&#x884C;&#x7AEF;&#x5230;&#x7AEF;&#x7684;&#x5B66;&#x4E60; &#x4F7F;&#x7528;&#x7B7E;&#x540D;&#x77E9;&#x9635;&#x63CF;&#x8FF0;&#x72B6;&#x6001; &#x5BF9;&#x4E8E;&#x65F6;&#x95F4;&#x6BB5;\\(t-w\\) &#x5230; \\(t\\) &#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#xFF0C;&#x4E24;&#x4E2A;&#x65F6;&#x5E8F;\\(x_i^w =(x_i^{t-w},x_i^{t-w-1},...,x_i^t)\\) &#x4E0E; \\(x_j^w =(x_j^{t-w},x_j^{t-w-1},...,x_j^t)\\)&#xFF0C;&#x8054;&#x5408;&#x8BA1;&#x7B97; \\[ m_{ij}^t = \\frac{sum_{\\delta=0}^\\omega x_i^{t-\\delta}x_j^{t-\\delta}}{K} \\] &#x5176;&#x4E2D;\\(K\\)&#x4F5C;&#x4E3A;&#x7F29;&#x653E;&#x56E0;&#x5B50;&#x3002;&#x8FD9;&#x4E2A;&#x77E9;&#x9635;&#x53EF;&#x4EE5;&#x8861;&#x91CF;&#x76F8;&#x4F3C;&#x6027;&#x4E14;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x9C81;&#x68D2;&#x6027;&#xFF0C;&#x6709;\\(m\\)&#x6784;&#x6210;&#x5B8C;&#x5168;&#x77E9;&#x9635;\\(M\\) &#x5377;&#x79EF;&#x4E0B;&#x7684;&#x7F16;&#x7801;&#x5668; &#x9996;&#x5148;&#x5C06;\\(M^t\\)&#x7528;&#x4E0D;&#x540C;&#x5C3A;&#x5EA6;&#x8FDE;&#x63A5;&#x6210;tensor \\(\\chi^{t,0}\\in \\mathbb{R}^{n*n*s}\\) &#x7136;&#x540E;&#x518D;&#x4F20;&#x5165;&#x5377;&#x79EF;&#x5C42;&#xFF0C;&#x524D;&#x540E;&#x4E24;&#x5C42;&#x7684;&#x901A;&#x8FC7;&#x6FC0;&#x6D3B;&#x51FD;&#x6570;&#x8FDE;&#x63A5; \\[ \\chi^{t,l}=f(W^l*\\chi^{t,l-1}+b^l) \\] &#x6FC0;&#x52B1;&#x51FD;&#x6570;&#x7528;&#x7684;&#x662F;SELU &#x57FA;&#x4E8E;&#x6CE8;&#x610F;&#x529B;&#x7684;ConvLSTM &#x4F20;&#x7EDF;&#x7684;ConvLSTM&#x53EF;&#x80FD;&#x968F;&#x7740;&#x65F6;&#x5E8F;&#x5E8F;&#x5217;&#x7684;&#x589E;&#x52A0;&#xFF0C;&#x6027;&#x80FD;&#x53D1;&#x751F;&#x4E0B;&#x964D;&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5F15;&#x5165;&#x4E86;&#x6CE8;&#x610F;&#x529B;&#x6A21;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x65F6;&#x95F4;&#x6233;&#x52A8;&#x6001;&#x91C7;&#x53D6;&#x76F8;&#x5173;&#x9690;&#x542B;&#x5C42;&#xFF08;feature map&#xFF09;&#x3002;&#x9690;&#x542B;&#x5C42;&#x7684;&#x66F4;&#x65B0;\\(H^{t,l} = ConvLSTM(\\chi^{t,l},H^{t-1,l})\\)","categories":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/categories/Anomaly-detection/"}],"tags":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"},{"name":"AAAI","slug":"AAAI","permalink":"http://www.liufr.com/tags/AAAI/"}],"author":"刘丰瑞"},{"title":"异常检测（MSRA，KDD'19）","slug":"数据挖掘/2019-08-14-异常检测（MSRA KDD'19）","date":"2019-08-13T16:00:00.000Z","updated":"2019-09-17T13:28:59.047Z","comments":true,"path":"2019/08/14/数据挖掘/2019-08-14-异常检测（MSRA KDD'19）/","link":"","permalink":"http://www.liufr.com/2019/08/14/数据挖掘/2019-08-14-异常检测（MSRA KDD'19）/","excerpt":"","text":"Time-Series Anomaly Detection Service at Microsoft Spectral Residual(SR) &#x4EE5;&#x53CA; Convolutional Neural Network(CRR) &#x65B9;&#x6CD5;&#x6765;&#x8FDB;&#x884C;&#x65F6;&#x5E8F;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x3002; &#x6311;&#x6218;&#xFF1A; 1. &#x7F3A;&#x5C11;&#x6807;&#x7B7E;&#xFF1A;&#x7CFB;&#x7EDF;&#x5F80;&#x5F80;&#x9700;&#x8981;&#x540C;&#x65F6;&#x5904;&#x7406;&#x5343;&#x767E;&#x4E07;&#x7684;&#x6570;&#x636E;&#x91CF;&#xFF0C;&#x4E0D;&#x80FD;&#x624B;&#x52A8;&#x6DFB;&#x52A0;&#x6807;&#x7B7E;&#x3002;&#x65F6;&#x5E8F;&#x6570;&#x636E;&#x5206;&#x5E03;&#x4E5F;&#x662F;&#x4E0D;&#x65AD;&#x53D8;&#x5316;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x8BC6;&#x522B;&#x4ECE;&#x524D;&#x6CA1;&#x6709;&#x8FC7;&#x7684;&#x5F02;&#x5E38;&#x6A21;&#x5F0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6709;&#x76D1;&#x7763;&#x7684;&#x6A21;&#x578B;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x7684;&#x3002; 2. &#x666E;&#x9002;&#x6027;&#xFF1A;&#x9700;&#x8981;&#x517C;&#x5BB9;&#x591A;&#x79CD;&#x6570;&#x636E;&#x6A21;&#x5F0F;&#x3002; 3. &#x6709;&#x6548;&#x6027;&#xFF1A;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x5F80;&#x5F80;&#x8981;&#x5B9E;&#x65F6;&#x5904;&#x7406;&#x5F88;&#x591A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5206;&#x949F;&#x7EA7;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x5728;&#x6709;&#x9650;&#x65F6;&#x95F4;&#x5185;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002; CNN&#x662F;&#x4E00;&#x79CD;&#x5E26;&#x6807;&#x7B7E;&#x7684;&#x6709;&#x76D1;&#x7763;&#x68C0;&#x6D4B;&#xFF0C;SR&#x5219;&#x662F;&#x4E00;&#x4E2A;&#x65E0;&#x76D1;&#x7763;&#x7684;&#x6A21;&#x578B;&#xFF0C;&#x4E8C;&#x8005;&#x7ED3;&#x5408;&#x3002; &#x7CFB;&#x7EDF; Data Ingestion &#x8FDE;&#x63A5;&#x53CA;&#x7C92;&#x5EA6;&#x3002;&#x8FDE;&#x63A5;&#x53EF;&#x4EE5;&#x5C06;&#x7528;&#x6237;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x548C;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x7CFB;&#x7EDF;&#x5BF9;&#x63A5;&#xFF0C;&#x7C92;&#x5EA6;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x4EFB;&#x52A1;&#x5468;&#x671F;&#x6027;&#x63A5;&#x7EB3;&#x65B0;&#x7684;&#x6570;&#x636E;&#x3002;&#xFF08;fluxDB&#x548C;Kafka&#xFF09; ### Online Compute &#x5728;&#x7EBF;&#x8BA1;&#x7B97;&#x53EF;&#x4EE5;&#x8BA9;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x90FD;&#x5728;&#x8FDB;&#x5165;&#x6D41;&#x6C34;&#x7EBF;&#x540E;&#x7ACB;&#x5373;&#x5F97;&#x5230;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x6765;&#x4F18;&#x5316;&#x5185;&#x5B58;&#x4EE5;&#x53CA;&#x4FDD;&#x8BC1;&#x8BA1;&#x7B97;&#x6709;&#x6548;&#x6027;&#x3002;&#xFF08;Flink&#xFF09; ### Experimentation Platform &#x8861;&#x91CF;&#x6027;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x4EBA;&#x5DE5;&#x6807;&#x8BB0;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x6765;&#x8BC4;&#x5224;&#x68C0;&#x6D4B;&#x7684;&#x51C6;&#x786E;&#x6027; &#x65B9;&#x6CD5; &#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;SR&#x7684;&#x57FA;&#x7840;&#x662F;&#xFF0C;&#x65F6;&#x5E8F;&#x7684;&#x5F02;&#x5E38;&#x8868;&#x73B0;&#x5728;&#x56FE;&#x5F62;&#x56FE;&#x50CF;&#x4E0A;&#x6765;&#x8BF4;&#x5F80;&#x5F80;&#x662F;&#x7A81;&#x51FA;&#x7684;&#x3002;CNN&#x53EF;&#x884C;&#x7684;&#x539F;&#x56E0;&#x662F;&#x6709;&#x6807;&#x7B7E;&#x7684;&#x6570;&#x636E;&#x6548;&#x679C;&#x8F83;&#x597D;&#xFF0C;&#x56E0;&#x6B64;&#x4E8C;&#x8005;&#x8981;&#x7ED3;&#x5408; SR &#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; 1. &#x5FEB;&#x901F;&#x5085;&#x91CC;&#x53F6;&#x53D8;&#x5316;FTT&#x5F97;&#x5230;&#x5BF9;&#x6570;&#x632F;&#x5E45;&#x9891;&#x8C31; 2. &#x8BA1;&#x7B97;&#x9891;&#x8C31;&#x5197;&#x4F59; 3. &#x9006;&#x5085;&#x91CC;&#x53F6;&#x53D8;&#x5316;&#x5C06;&#x5E8F;&#x5217;&#x53CD;&#x8F6C;&#x5230;&#x7A7A;&#x95F4;&#x57DF;&#x540D; &#x7279;&#x522B;&#x7684;&#x5FEB;&#x901F;&#x5085;&#x91CC;&#x53F6;FFT&#x662F;&#x901A;&#x8FC7;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x5904;&#x7406;&#x961F;&#x5217;&#x7684;&#x3002;&#x66F4;&#x591A;&#x7684;&#x662F;&#x5173;&#x6CE8;&#x5EF6;&#x8FDF;&#xFF0C;&#x53D1;&#x73B0;&#x5F53;&#x68C0;&#x6D4B;&#x70B9;&#x662F;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x4E2D;&#x95F4;&#x70B9;&#x65F6;&#x6548;&#x679C;&#x6700;&#x597D;&#xFF0C;&#x56E0;&#x6B64;&#x8981;&#x5728;&#x5DF2;&#x77E5;&#x8F93;&#x5165;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x70B9;&#x540E;&#x52A0;&#x4E0A;&#x51E0;&#x4E2A;&#x9884;&#x6D4B;&#x70B9;&#x6765;&#x4ECE;&#x800C;&#x4F7F;&#x8BE5;&#x70B9;&#x653E;&#x5728;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x7684;&#x4E2D;&#x5FC3;&#x4F4D;&#x7F6E;&#xFF0C;&#x5BF9;&#x4E8E;\\(x_n\\)&#x540E;&#x7684;&#x4F30;&#x8BA1;&#x70B9;\\(x_{n+1}\\)&#x8BA1;&#x7B97;&#x5982;&#x4E0B;&#xFF1A; \\[ \\bar{g}=\\frac{1}{m}\\sum_{i=1}^mg(x_n,x_{n-i})\\\\ x_{n+1} = x_{n-m+1}+\\bar{g}\\cdot m \\] &#x5176;&#x4E2D;\\(g(x_i,x_j)\\)&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;i&#xFF0C;j&#x4E24;&#x70B9;&#x76F4;&#x7EBF;&#x4E0A;&#x7684;&#x659C;&#x7387;&#xFF0C;\\(\\bar{g}\\)&#x4E5F;&#x5C31;&#x662F;&#x5E73;&#x5747;&#x68AF;&#x5EA6;&#xFF0C;m=5&#xFF0C;\\(x_{n+1}\\)&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x70B9;&#x8FD9;&#x91CC;&#x590D;&#x5236;K&#x6B21;&#x52A0;&#x5230;&#x5E8F;&#x5217;&#x672B;&#x5C3E;&#x5373;&#x53EF;&#x3002; SR-CNN &#x539F;&#x59CB;&#x7684;SR&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x9608;&#x503C;&#x5B9E;&#x73B0;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x66F4;&#x590D;&#x6742;&#x7684;&#x95EE;&#x9898;&#x8981;&#x91C7;&#x7528;CNN&#xFF0C;&#x7528;&#x5728;&#x663E;&#x8457;&#x56FE;&#xFF08;FTT&#x53D8;&#x6362;&#x540E;&#x7684;&#xFF09;&#x800C;&#x975E;&#x539F;&#x59CB;&#x8F93;&#x5165;&#x56FE;&#x3002;CNN&#x7531;&#x4E24;&#x4E2A;1-D&#x7684;&#x5377;&#x79EF;&#x5C42;&#xFF08;&#x5377;&#x79EF;&#x6838;&#x5927;&#x5C0F;&#x4E0E;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#x4E00;&#x6837;&#xFF09;&#x4EE5;&#x53CA;&#x4E24;&#x4E2A;&#x5168;&#x8FDE;&#x63A5;&#x5C42;&#x6784;&#x6210;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x5377;&#x79EF;&#x5C42;&#x7684;&#x901A;&#x9053;&#x5927;&#x5C0F;&#x4E0E;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x4E00;&#x6837;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x5377;&#x79EF;&#x5C42;&#x5927;&#x5C0F;&#x7FFB;&#x500D;&#xFF0C;&#x5168;&#x8FDE;&#x63A5;&#x5C42;&#x5728;Sigmoid&#x8F93;&#x51FA;&#x524D;&#x662F;&#x5806;&#x53E0;&#x7684;&#xFF0C;&#x4EA4;&#x53C9;&#x71B5;&#x91C7;&#x7528;&#x635F;&#x5931;&#x51FD;&#x6570;","categories":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/categories/Anomaly-detection/"}],"tags":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"},{"name":"KDD","slug":"KDD","permalink":"http://www.liufr.com/tags/KDD/"}],"author":"刘丰瑞"},{"title":"实时异常检测（xStream，KDD'18）","slug":"数据挖掘/2019-08-13-实时异常检测","date":"2019-07-20T16:00:00.000Z","updated":"2019-09-17T13:29:08.814Z","comments":true,"path":"2019/07/21/数据挖掘/2019-08-13-实时异常检测/","link":"","permalink":"http://www.liufr.com/2019/07/21/数据挖掘/2019-08-13-实时异常检测/","excerpt":"","text":"xStream: Outlier Dete&#x2018;x&#x2019;ion in Feature-Evolving Data Streams &#x9996;&#x6B21;&#x5BF9;evolving&#x6570;&#x636E;&#x6D41;&#x8FDB;&#x884C;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#xFF0C;&#x7279;&#x5F81;&#xFF1A;&#x4E0D;&#x4EC5;&#x4EC5;&#x7531;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x51FA;&#x73B0;&#x7684;&#x65B0;&#x7684;&#x6570;&#x636E;&#x70B9;&#xFF0C;&#x5DF2;&#x6709;&#x6570;&#x636E;&#x70B9;&#x7684;&#x7279;&#x5F81;&#x53EF;&#x80FD;&#x4F1A;&#x53D8;&#x5316;&#x4E5F;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x65B0;&#x7684;&#x7279;&#x5F81;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6570;&#x636E;&#x77E9;&#x9635;&#x7684;&#x884C;&#x5217;&#x90FD;&#x662F;&#x4E0D;&#x786E;&#x5B9A;&#x89C4;&#x6A21;&#x7684; &#x63D0;&#x51FA;&#x7B97;&#x6CD5;xStream&#x7684;&#x7279;&#x6027; &#x5BF9;&#x4E8E;&#x56FA;&#x5B9A;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7B97;&#x6CD5;&#x8BA1;&#x7B97;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x548C;&#x65F6;&#x95F4;&#x90FD;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF1B; &#x4F7F;&#x7528;&#x5B50;&#x7A7A;&#x95F4;&#x6295;&#x5F71;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x9AD8;&#x7EF4;&#x6570;&#x636E;&#xFF1B; &#x591A;&#x79CD;&#x5C3A;&#x5EA6;&#x6765;&#x8861;&#x91CF;&#x5F02;&#x5E38;&#x70B9;&#xFF0C;&#x533A;&#x5206;&#x79BB;&#x6563;&#x7684;&#x5F02;&#x5E38;&#x70B9;&#x548C;&#x805A;&#x96C6;&#x7684;&#x5F02;&#x5E38;&#x5F02;&#x5E38;&#x7FA4; &#x57FA;&#x4E8E;&#x7A97;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x975E;&#x5E73;&#x7A33;&#x6570;&#x636E; &#x95EE;&#x9898;&#x5F62;&#x5F0F;&#x5316;&#xFF1A;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x6D41;\\(D=\\{e_t\\}_{t=1,2,...}\\)&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;\\(e_t\\)&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x4E09;&#x5143;&#x7EC4;&#x7684;&#x5F62;&#x5F0F;\\((id,f,\\delta)_t\\)&#x3002;&#x8FD9;&#x91CC;&#x7684;\\(id\\)&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x70B9;&#x6765;&#x8BF4;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;\\(f\\)&#x662F;&#x7279;&#x5F81;&#x540D;&#xFF0C;&#x7531;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4EE3;&#x66FF;&#xFF0C;\\(\\delta\\)&#x662F;&#x4E00;&#x4E2A;&#x8FDE;&#x7EED;&#x6216;&#x8005;&#x79BB;&#x6563;&#x7684;&#x6807;&#x91CF;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x4E09;&#x5143;&#x7EC4;&#x90FD;&#x662F;&#x5BF9;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x89C1;&#x7279;&#x5F81;&#x7A7A;&#x95F4;&#x91CC;&#x70B9;&#x7684;&#x66F4;&#x65B0;&#x3002; &#x95EE;&#x9898;1: &#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6D41;\\(D=\\{e_t\\}_{t=1,2,...}\\)&#x4EE5;&#x53CA;&#x4E09;&#x5143;&#x7EC4;\\((id,f,\\delta)_t\\)&#x8BA1;&#x7B97;&#x5E76;&#x6301;&#x7EED;&#x5BF9;&#x6BCF;&#x4E2A;&#x70B9;&#x6253;&#x5206;&#xFF0C;&#x8981;&#x6C42;&#x6240;&#x6709;&#x7684;&#x5F02;&#x5E38;&#x70B9;&#x5206;&#x6570;&#x90FD;&#x9AD8;&#x4E8E;&#x975E;&#x5F02;&#x5E38;&#x70B9; xStream &#x901A;&#x8FC7;&#x6574;&#x5408;Half-Space Chains&#x6765;&#x6709;&#x6548;&#x4F30;&#x8BA1;&#x5BC6;&#x5EA6;&#xFF0C;&#x6BCF;&#x4E2A;&#x94FE;&#x901A;&#x8FC7;&#x5927;&#x89C4;&#x6A21;&#x8BA1;&#x7B97;&#x90BB;&#x5C45;&#x4ECE;&#x800C;&#x4F30;&#x8BA1;&#x67D0;&#x4E2A;&#x70B9;&#x7684;&#x5BC6;&#x5EA6; StreamHash&#xFF1A;&#x901A;&#x8FC7;&#x7A00;&#x758F;&#x968F;&#x673A;&#x6295;&#x5F71;&#x6765;&#x5B50;&#x7A7A;&#x95F4;&#x9009;&#x62E9;&#x6765;&#x5B9E;&#x4E60;&#x964D;&#x7EF4;&#x3002; Half-Space Chains&#xFF1A;&#x4E00;&#x79CD;&#x5927;&#x89C4;&#x6A21;&#x6709;&#x6548;&#x5BC6;&#x5EA6;&#x4F30;&#x8BA1;&#x65B9;&#x6CD5;&#x3002; &#x6269;&#x5C55;&#x5230;&#x5BF9;&#x975E;&#x9759;&#x6001;&#x6570;&#x636E;&#x4EE5;&#x53CA;&#x8FDB;&#x5316;&#x7279;&#x5F81;&#x7684;&#x5904;&#x7406;&#x3002; StreamHash &#x968F;&#x673A;&#x6295;&#x5F71;&#x3002;&#x7ECF;&#x5178;&#x7684;&#x968F;&#x673A;&#x6295;&#x5F71;&#x65B9;&#x6CD5;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x9AD8;&#x65AF;&#x968F;&#x673A;&#x5411;&#x91CF;\\(\\{r_1,...,r_K\\}\\subset \\mathbb{R}^d\\)&#x628A;&#x6BCF;&#x4E00;&#x4E2A;&#x70B9;\\(x\\in \\mathbb{R}^d\\)&#x6295;&#x5F71;&#x5230;&#x4E00;&#x4E2A;&#x4F4E;&#x7EF4;&#x5D4C;&#x5165;&#x7A7A;&#x95F4;\\(y\\in \\mathbb{R}^K\\),\\(y = (x^Tr_1,...,x^Tr_K)\\)&#x5176;&#x4E2D;K&#x662F;&#x968F;&#x673A;&#x6295;&#x5F71;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x5D4C;&#x5165;&#x5411;&#x91CF;&#x7684;&#x8DDD;&#x79BB;&#x4E0E;&#x539F;&#x7A7A;&#x95F4;&#x7684;&#x5411;&#x91CF;&#x8DDD;&#x79BB;&#x76F8;&#x4F3C;&#x3002; &#x5BF9;&#x4E8E;&#x9AD8;&#x7EF4;&#x6570;&#x636E;&#xFF0C;&#x5F02;&#x5E38;&#x70B9;&#x7ECF;&#x5E38;&#x662F;&#x5B58;&#x5728;&#x4E8E;&#x4F4E;&#x7EF4;&#x7684;&#x5B50;&#x7A7A;&#x95F4;&#x4E2D;&#xFF0C;&#x7531;&#x4E8E;&#x4E0D;&#x76F8;&#x5E72;&#x7279;&#x5F81;&#x7684;&#x5B58;&#x5728;&#x5BFC;&#x81F4;&#x5F88;&#x96BE;&#x68C0;&#x6D4B;&#x51FA;&#x5F02;&#x5E38;&#x3002;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x5B50;&#x7A7A;&#x95F4;&#x6570;&#x636E;&#x4E2D;&#x5BFB;&#x627E;&#x5F02;&#x5E38;&#x6765;&#x964D;&#x4F4E;&#x56F0;&#x96BE;&#x3002;&#x6539;&#x8FDB;&#x9AD8;&#x65AF;&#x968F;&#x673A;&#x6295;&#x5F71;&#x4E3A;database-friendly random projection&#xFF0C;&#x53EA;&#x6709;&#x5176;&#x4E2D;1/3&#x7684;&#x5411;&#x91CF;&#x90FD;&#x662F;&#x975E;&#x96F6;&#x5411;&#x91CF;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x89C4;&#x5219;&#x4E0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x6295;&#x5F71;&#x90FD;&#x5FFD;&#x7565;2/3&#x7684;&#x7279;&#x5F81;&#x7A7A;&#x95F4;&#xFF0C;&#x59CB;&#x7EC8;&#x4FDD;&#x6301;&#x6BCF;&#x5BF9;&#x70B9;&#x7684;&#x8DDD;&#x79BB;&#x3002;&#x6295;&#x5F71;&#x503C;&#x9075;&#x5FAA;&#x4EE5;&#x4E0B;&#x5206;&#x5E03;&#xFF1A; \\[ r_i[j] = \\sqrt{\\frac{3}{K}}\\left\\{\\begin{matrix} -1 &amp; with\\ probability \\ \\frac{1}{6}\\\\ 0 &amp; with\\ probability \\ \\frac{2}{3}\\\\ +1 &amp; with\\ probability \\ \\frac{1}{6} \\end{matrix}\\right. \\] &#x5728;&#x7279;&#x5F81;&#x8FDB;&#x5316;&#x7684;&#x6570;&#x636E;&#x6D41;&#x4E2D;&#xFF0C;&#x771F;&#x6B63;&#x7684;&#x7EF4;&#x5EA6;d&#x662F;&#x4E0D;&#x53EF;&#x89C2;&#x6D4B;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x6570;&#x636E;&#x8FDB;&#x5316;&#x662F;&#x5B9E;&#x65F6;&#x7684;&#x3002;&#x56E0;&#x6B64;&#x4ED6;&#x4E0D;&#x53EF;&#x80FD;&#x62BD;&#x53D6;&#x4E00;&#x7CFB;&#x5217;&#x968F;&#x673A;&#x5411;&#x91CF;\\(r_1,...,r_K\\)&#x4F5C;&#x4E3A;&#x5148;&#x9A8C;&#x7EF4;&#x5EA6;&#x3002;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;StreamHash&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x54C8;&#x5E0C;&#x7684;&#x79BB;&#x6563;&#x968F;&#x673A;&#x6295;&#x5F71;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x65F6;K&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;\\(h_1(\\cdot),...h_K(\\cdot)\\),&#x6BCF;&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x90FD;&#x80FD;&#x5C06;&#x4E00;&#x4E2A;&#x7279;&#x5F81;&#x540D;&#x79F0;f&#x6620;&#x5C04;&#x6210;&#x4E00;&#x4E2A;&#x54C8;&#x5E0C;&#x503C;\\(h_i:f\\rightarrow \\mathbb{R}\\),&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7279;&#x5F81;&#x7A7A;&#x95F4;\\(\\mathcal{F}\\)&#x7684;&#x70B9;x&#xFF0C;&#x968F;&#x673A;&#x6295;&#x5F71;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; \\[ y[i]=\\sum_{f_j\\in\\mathcal{F}}h_i(f_j)x[j], i=1,...,K \\] &#x4E0A;&#x5F0F;&#x662F;&#x5BF9;&#x6240;&#x6709;&#x7279;&#x5F81;&#x4E00;&#x6B21;&#x6027;&#x5168;&#x90E8;&#x5230;&#x8FBE;&#x7684;&#x7ED3;&#x679C; &#x5BF9;&#x4E8E;&#x8FDB;&#x5316;&#x7279;&#x5F81;&#x7684;&#x6570;&#x636E;&#x70B9;&#xFF0C;&#x66F4;&#x65B0;&#x7684;&#x6295;&#x5F71;id&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x8BA1;&#x7B97;&#xFF1A; \\[ y_{id}[i] = y_{id}[i]+h_i(f)\\delta, i=1,...,K \\] &#x5982;&#x679C;&#x66F4;&#x65B0;&#x9879;\\(y_{id}\\)&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x5C31;&#x5C06;&#x4F7F;&#x7528;&#x7B2C;&#x4E00;&#x6B21;&#x7684;&#x66F4;&#x65B0;&#x503C;&#x4F5C;&#x4E3A;&#x521D;&#x59CB;&#x503C;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x6295;&#x5F71;&#x89C4;&#x5219;&#x4E0B;&#xFF0C;&#x5C3D;&#x7BA1;&#x6570;&#x636E;&#x662F;&#x5728;&#x4E0D;&#x65AD;&#x63A5;&#x53D7;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x4ECD;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x5E76;&#x4FDD;&#x6301;&#x4F4E;&#x7EF4;&#x7684;&#x6295;&#x5F71;&#x3002; &#x5BF9;&#x4E8E;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x54C8;&#x5E0C;&#x65CF;\\(g_1(\\cdot),...,g_K(\\cdot)\\)&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x54C8;&#x5E0C;&#x6210;32bit&#x6574;&#x6570;&#xFF0C;&#x4EE4;\\(a_i(f)=g_i(f)/(2^{32}-1)\\)&#x662F;&#x4E00;&#x4E2A;0~1&#x4E4B;&#x95F4;&#x7684;&#x6570;&#x5B57;&#x3002;\\(h_i(f)\\)&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;K&#x968F;&#x673A;&#x6295;&#x5F71;&#xFF0C;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x7528;&#x54C8;&#x5E0C;&#x7684;&#x65B9;&#x5F0F;&#x968F;&#x673A;&#x62BD;&#x53D6;&#x4E00;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x5E03;&#x3002; \\[ h_i[f]=\\sqrt{\\frac{3}{K}} \\left\\{\\begin{matrix} -1 &amp; if\\ a_i(f)\\in[0,1/6)\\\\ 0 &amp; if\\ a_i(f)\\in[1/6,5/6)\\\\ +1 &amp; if\\ a_i(f)\\in[5/6,1] \\end{matrix}\\right. \\] Half-Space Chains &#x5BC6;&#x5EA6;&#x4F30;&#x8BA1;&#x5F02;&#x5E38;&#x70B9;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x534A;&#x5F84;&#x4F30;&#x8BA1;&#x90BB;&#x5C45;&#x6570;&#x91CF;&#x3002; &#x4E24;&#x4E2A;&#x95EE;&#x9898;&#xFF1A; 1. &#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x5BF9;&#x4E8E;&#x9009;&#x62E9;&#x7684;&#x5C3A;&#x5EA6;&#x975E;&#x5E38;&#x654F;&#x611F; 2. &#x5728;&#x9AD8;&#x7EF4;&#x6570;&#x636E;&#x4E2D;&#xFF0C;&#x968F;&#x7740;&#x7EF4;&#x6570;&#x589E;&#x9AD8;&#x5176;&#x90BB;&#x5C45;&#x6570;&#x91CF;&#x9010;&#x6E10;&#x8D8B;&#x8FD1;&#x4E8E;0 &#x6211;&#x4EEC;&#x5728;K&#x7EF4;&#x7A7A;&#x95F4;&#x4E0A;&#x4F7F;&#x7528;&#x5BC6;&#x5EA6;&#x4F30;&#x8BA1;\\(\\mathcal{P}=\\{1,...,K\\}\\),&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x662F;&#x901A;&#x8FC7;&#x5229;&#x7528;&#x7B49;&#x5BBD;&#x76F4;&#x65B9;&#x56FE;&#x4F30;&#x8BA1;&#xFF0C;&#x4F46;&#x662F;&#x968F;&#x7740;&#x7EF4;&#x6570;&#x589E;&#x52A0;&#xFF0C;bins&#x4E5F;&#x4F1A;&#x6307;&#x6570;&#x4E0A;&#x5347;&#xFF0C;&#x5BFC;&#x81F4;&#x6BCF;&#x4E2A;bins&#x592A;&#x5206;&#x6563;&#x4EE5;&#x81F3;&#x4E8E;&#x4E0D;&#x80FD;&#x53EF;&#x9760;&#x5730;&#x4F30;&#x8BA1;&#x5BC6;&#x5EA6;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x51FA;&#x4E86;&#x6DF1;&#x5EA6;&#x4E3A;D&#x7684;Half-Space Chains&#x65B9;&#x6CD5;&#x3002;&#x6BCF;&#x4E2A;&#x94FE;&#x90FD;&#x968F;&#x673A;&#x5728;&#x4E0D;&#x540C;level\\(l=1,...,D\\)&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x5206;&#x5272;&#x7EF4;&#x5EA6;\\(p\\in \\mathcal{P}\\),&#x9012;&#x5F52;&#x5730;&#x5C06;&#x9AD8;&#x7EF4;&#x7A7A;&#x95F4;&#x5206;&#x5272;&#x6210;&#x79BB;&#x6563;&#x7684;bins&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x4F4D;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7279;&#x5F81;&#x5728;&#x5B50;&#x7A7A;&#x95F4;&#x88AB;&#x91CD;&#x590D;&#x91C7;&#x6837;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x4F1A;&#x88AB;&#x79BB;&#x6563;&#x6210;&#x4E00;&#x4E2A;&#x8F83;&#x5C0F;&#x5BBD;&#x5EA6;&#x7684;bin&#x3002;&#x7EF4;&#x5EA6;&#x7684;&#x91C7;&#x6837;&#x4E5F;&#x662F;&#x901A;&#x8FC7;&#x53EF;&#x66FF;&#x4EE3;&#x968F;&#x673A;&#x8FDB;&#x884C;&#x91C7;&#x6837;&#x7684;&#x3002;&#x4EE4;\\(\\Delta[p]\\)&#x4F5C;&#x4E3A;&#x521D;&#x59CB;bin&#x5BBD;&#x5EA6;&#x3002;&#x521D;&#x59CB;&#x5316;bin vector \\(\\bar{z}\\in\\mathbb{Z}^K\\)&#x4E3A;0&#xFF0C;&#x4EE4;\\(p=p[1]\\in \\mathcal{P}\\)&#x4F5C;&#x4E3A;&#x5728;level=1&#x65F6;&#x7684;&#x7279;&#x5F81;&#x91C7;&#x6837;&#x3002;bin vector&#x5728;level=1&#x7684;bin&#x5BBD;&#x5EA6;&#x662F;\\(\\bar{z}[p]=\\left \\lfloor y[p]/\\Delta[p] \\right \\rfloor\\), &#x5BF9;&#x4E8E;&#x5BC6;&#x5EA6;&#x4F30;&#x8BA1;&#x6765;&#x8BF4;&#xFF0C;bin &#x7684;&#x8FB9;&#x754C;&#x8BBE;&#x7F6E;&#x662F;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x7684;&#x3002;&#x8FD9;&#x91CC;&#x63D0;&#x51FA;&#x4E86;&#x5BF9;&#x6BCF;&#x4E2A;&#x7EF4;&#x5EA6;&#x968F;&#x673A;&#x504F;&#x79FB;\\(s[p]&#xFF0C;s[p]\\in Uniform(0,\\Delta[p])\\)&#x3002;&#x8FD9;&#x4E2A;&#x504F;&#x79FB;&#x51CF;&#x5C11;&#x4E86;&#x786E;&#x5B9A;&#x6027;&#x8FB9;&#x754C;&#x5BF9;&#x805A;&#x7C7B;&#x7ED3;&#x679C;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x56E0;&#x4E3A;&#x805A;&#x7C7B;&#x8282;&#x70B9;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x843D;&#x5165;&#x5230;&#x540C;&#x4E00;&#x4E2A;bin&#x5F53;&#x4E2D;&#x3002;&#x4EE4;\\(o(p,l)\\)&#x505A;&#x5B8C;&#x7279;&#x5F81;p&#x5728;&#x94FE;&#x4E2D;&#x91C7;&#x6837;&#x7684;&#x6B21;&#x6570;&#x3002;&#x8BE6;&#x89C1;&#x8BBA;&#x6587;&#x4E2D;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6709;&#x5F88;&#x597D;&#x89E3;&#x91CA;&#x3002; \\[ z[p] = \\frac{y[p]+s[p]/2^{o(p,l)-1}}{\\Delta[p]/2^{o(p,l)-1}}\\\\ \\bar{z} = \\left \\lfloor z \\right \\rfloor \\] &#x6253;&#x5206;&#xFF1A; \\[ S(y)=\\frac{1}{M}\\sum_{c\\in C}S_{C}(y)=\\frac{1}{M}\\sum_{c\\in C}min_l 2^lH_l[\\bar{z}] \\] &#x5BF9;&#x4E8E;&#x7ED9;&#x51FA;&#x7684;&#x6709;&#x5F02;&#x5E38;&#x7684;&#x56FE;\\(S(x)\\),&#x8F93;&#x51FA;&#x5E8F;&#x5217;&#x5982;&#x4E0B;&#xFF1A; \\[ O(x_i) = \\left\\{\\begin{matrix} 1, if\\ \\frac{S(x_i)-\\bar{S(x_i)}}{\\bar{S(x_i)}} &gt; \\tau \\\\ 0, otherwise \\end{matrix}\\right. \\] &#x5176;&#x4E2D;x&#x662F;&#x5E8F;&#x5217;&#x4E2D;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x70B9;&#xFF0C;\\(S(x_i)\\)&#x662F;&#x5F02;&#x5E38;&#x56FE;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x70B9;&#xFF0C;\\(\\bar{S(x_i)}\\)&#x662F;&#x5F53;&#x524D;&#x5E73;&#x5747;&#x70B9; &#x901A;&#x8FC7;&#x4E0A;&#x8FF0;&#x8BA1;&#x7B97;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4EFB;&#x610F;level&#x7684;\\(\\bar{z}\\)&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7D22;&#x5F15;&#x5176;&#x5230;&#x8BA1;&#x6570;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E2D;&#xFF0C;&#x4EE5;&#x5F97;&#x5230;&#x8BE5;level&#x7684;&#x4E00;&#x4E2A;bin-count&#x3002;&#x7136;&#x800C;&#xFF0C;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;bin vectors&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x65E0;&#x9650;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x573A;&#x666F;&#x4E2D;&#x7279;&#x522B;&#x5927;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5728;&#x4E0D;&#x540C;&#x7684;level&#x4E0A;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;count-min-sketch&#xFF0C;\\(H_l\\in H,l=1,...,D\\),&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x9AD8;&#x7CBE;&#x786E;&#x5EA6;&#x5730;&#x4F30;&#x8BA1;bin-counts&#x3002; &#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x6BCF;&#x4E2A;&#x94FE;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E3A;\\(C=\\{p,\\Delta,s,H\\}\\),&#x8FD9;&#x6837;&#x94FE;&#x7684;&#x96C6;&#x5408;&#x53EF;&#x4EE5;&#x6784;&#x6210;&#x4E00;&#x4E2A;\\(C =\\{C_1,...C_M\\}\\),&#x4ECE;&#x800C;&#x7EC4;&#x6210;&#x4E86;&#x4E00;&#x4E2A;Half-Space Chains &#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x6784;&#x5EFA;&#x9002;&#x5F53;&#x7684;bin-vecto&#xFF0C;&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x516C;&#x5F0F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;level \\(l=1,...D\\) &#x8BA1;&#x7B97;bin-vector&#xFF0C;&#x7136;&#x800C;&#xFF0C;&#x5982;&#x4E0B;&#x7684;&#x9012;&#x5F52;&#x5F0F;&#x53EF;&#x4EE5;&#x589E;&#x91CF;&#x5730;&#x8BA1;&#x7B97;&#x975E;&#x79BB;&#x6563;&#x5316;&#x7684;bin vectors&#xFF0C; &#x4ECE;\\(l=1\\)&#x5F00;&#x59CB;&#xFF0C;&#x5411;&#x4E0B;&#x5C42;&#x9010;&#x6B65;&#x8BA1;&#x7B97;&#x7B97;&#x672F;&#x64CD;&#x4F5C;&#x3002; \\[ z[p] = (y[p]+s[p])/\\Delta [p] \\ \\ if\\ o(p,l)=1 \\\\ z[p] = 2z[p] - s[p]/\\Delta[p] \\ \\ if\\ o(p,l)&gt;1 \\] &#x5176;&#x4E2D;p&#x662F;&#x5728;level \\(l\\) &#x5904;&#x7684;&#x7279;&#x5F81;&#x91C7;&#x6837;&#xFF0C;\\(o(p,l)\\) &#x8868;&#x793A;&#x8BE5;&#x7279;&#x5F81;&#x66FE;&#x7ECF;&#x88AB;&#x91C7;&#x6837;&#x8FC7;&#x7684;&#x6B21;&#x6570; &#x5728;Half-Space Chain &#x4E2D;&#x66F4;&#x65B0;bin-counts &#xFF0C;bin-vector&#x53EF;&#x4EE5;&#x7D22;&#x5F15;&#x5230;\\(H_l\\)&#x4E2D;&#x6765;&#x8FDB;&#x884C;bin-count&#x8BA1;&#x6570;\\(H_l[\\bar{z}]\\),&#x4F46;&#x5B58;&#x5728;&#x60C5;&#x51B5;&#x8981;&#x628A;&#x94FE;&#x4E2D;&#x7684;&#x70B9;&#x5220;&#x9664;&#xFF0C;&#x5F53;&#x67D0;&#x4E2A;&#x70B9;&#xFF08;&#x7279;&#x5F81;&#xFF09;&#x53D1;&#x751F;&#x8FDB;&#x5316;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x5220;&#x9664;&#x539F;&#x6295;&#x5F71;&#xFF0C;&#x5E76;&#x52A0;&#x5165;&#x66F4;&#x65B0;&#x540E;&#x7684;&#x6295;&#x5F71;&#xFF0C;&#x5220;&#x9664;&#x8FC7;&#x7A0B;&#x4E0E;&#x52A0;&#x5165;&#x8FC7;&#x7A0B;&#x7C7B;&#x4F3C;&#xFF0C;bin-count&#x8981;&#x4F7F;&#x7528;&#x9012;&#x51CF;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x4EE3;&#x66FF;&#x3002; &#x591A;&#x5C3A;&#x5EA6;&#x7684;&#x5F02;&#x5E38;&#x6253;&#x5206;&#x3002;&#x5728;&#x66F4;&#x9AD8;&#x7684;level&#xFF0C;&#x7531;&#x4E8E;&#x7EF4;&#x5EA6;&#x5173;&#x7CFB;&#xFF0C;bin-counts&#x53EF;&#x80FD;&#x4F1A;&#x8D8B;&#x8FD1;&#x4E8E;&#x975E;&#x5E38;&#x4F4E;&#x7684;&#x6570;&#xFF0C;&#x4E3A;&#x4E86;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;level&#x90FD;&#x6709;&#x5408;&#x7406;&#x7684;&#x5206;&#x6570;&#xFF0C;&#x63A8;&#x65AD;bin-count&#x4E3A;\\(2^lH_l[\\bar{z}]\\),&#x8FD9;&#x548C;&#x5F53;&#x521D;&#x59CB;bin&#x5BBD;&#x5EA6;\\(\\Delta[p]\\)&#x6070;&#x5DE7;&#x7B49;&#x4E8E;p&#x8303;&#x56F4;&#x7684;&#x4E00;&#x534A;&#x65F6;&#xFF0C;&#x671F;&#x671B;&#x7684;&#x6BCF;&#x6761;&#x94FE;&#x4E2D;&#x7684;&#x968F;&#x673A;&#x5206;&#x5E03;&#x76F8;&#x7B49;&#x3002; &#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x7684;&#x591A;&#x5C3A;&#x5EA6;&#x5F02;&#x5E38;&#x8BC4;&#x5206; \\[ S(y)=\\frac{1}{M}\\sum_{C\\in C}S_C(y)=\\frac{1}{M}\\sum_{C\\in C}min_l2^lH_k[\\bar{z}] \\] &#x66F4;&#x65B0;bin-counts&#x4E0E;&#x8BA1;&#x7B97;&#x5F02;&#x5E38;&#x70B9;&#x7684;&#x8BC4;&#x5206;&#x65F6;&#x540C;&#x6B65;&#x7684;&#x3002; &#x5904;&#x7406;&#x975E;&#x9759;&#x6001;&#x6570;&#x636E; &#x95EE;&#x9898;&#x7684;&#x5173;&#x952E;&#x5728;&#x4E8E;&#x968F;&#x7740;&#x7F51;&#x7EDC;&#x6D41;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x6570;&#x636E;&#x5206;&#x5E03;&#x4E5F;&#x4F1A;&#x53D8;&#x5316;&#xFF0C;&#x5BFC;&#x81F4;bin-counts&#x7684;&#x6784;&#x6210;&#x4E0D;&#x518D;&#x80FD;&#x4EE3;&#x8868;&#x73B0;&#x5728;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#x3002; &#x5904;&#x7406;&#x975E;&#x9759;&#x6001;&#x6570;&#x636E; &#x4F7F;&#x7528;&#x7A97;&#x53E3;&#xFF0C;&#x5206;&#x4E3A;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x548C;&#x53C2;&#x8003;&#x7A97;&#x53E3;&#xFF0C;&#x5F53;&#x70B9;y&#x5F00;&#x59CB;&#x5728;&#x94FE;&#x4E2D;&#x4F20;&#x64AD;&#x65F6;&#xFF0C;&#x7528;&#x53C2;&#x8003;&#x7A97;&#x53E3;&#x8BA1;&#x7B97;&#x8BC4;&#x5206;&#xFF0C;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF0C;&#x5F53;&#x51FA;&#x73B0;&#x65B0;&#x7684;&#x70B9;&#xFF0C;&#x7528;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x4EE3;&#x66FF;&#x53C2;&#x8003;&#x7A97;&#x53E3;&#xFF0C;&#x5E76;&#x628A;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x521D;&#x59CB;&#x5316;&#x4E3A;0&#x3002;&#x7A97;&#x53E3;&#x6709;&#x5206;&#x5E03;&#x7684;&#x9891;&#x7387;&#x786E;&#x5B9A;&#xFF0C;&#x9AD8;&#x9891;&#x9002;&#x5408;&#x5C0F;&#x7A97;&#x53E3;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4E0D;&#x80FD;&#x592A;&#x5C0F;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x53D8;&#x5316;&#x8FC7;&#x5927;&#x3002; &#x7279;&#x5F81;&#x8FDB;&#x5316;&#x7684;&#x70B9; &#x524D;&#x9762;&#x7684;&#x516C;&#x5F0F;&#x4ECB;&#x7ECD;&#x4E86;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;&#xFF0C;&#x5B9E;&#x9645;&#x8981;&#x4FDD;&#x7559;&#x56FA;&#x5B9A;cache&#x7684;N&#x4E2A;&#x6295;&#x5F71;&#x70B9;&#xFF0C;&#x91C7;&#x7528;LRU&#x7B97;&#x6CD5;&#x4FDD;&#x7559;&#x7279;&#x5F81;","categories":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/categories/Anomaly-detection/"}],"tags":[{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"},{"name":"KDD","slug":"KDD","permalink":"http://www.liufr.com/tags/KDD/"}],"author":"刘丰瑞"},{"title":"利用时序决策树进行DGA僵尸检测","slug":"安全/2019-07-22-利用时序决策树进行DGA僵尸检测","date":"2019-07-20T16:00:00.000Z","updated":"2019-07-22T07:12:27.904Z","comments":true,"path":"2019/07/21/安全/2019-07-22-利用时序决策树进行DGA僵尸检测/","link":"","permalink":"http://www.liufr.com/2019/07/21/安全/2019-07-22-利用时序决策树进行DGA僵尸检测/","excerpt":"","text":"DGA Bot Detection with Time Series Decision Trees &#x4E3B;&#x8981;&#x601D;&#x8DEF; &#x6807;&#x7B7E;&#x6A21;&#x5757;&#x4F9D;&#x8D56;&#x5206;&#x7C7B;&#x6280;&#x672F;&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x5BF9;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x751F;&#x6210;&#x6709;&#x6807;&#x7B7E;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x68C0;&#x6D4B;&#x5230;&#x7684;&#x50F5;&#x5C38;&#x7F51;&#x7EDC;&#x63D0;&#x4F9B;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x611F;&#x67D3;IP &#x8BAD;&#x7EC3;&#x6A21;&#x5757;&#x4F7F;&#x7528;&#x5BF9;&#x751F;&#x6210;&#x7684;&#x6807;&#x7B7E;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6709;&#x76D1;&#x7763;&#x7684;&#x5B66;&#x4E60;&#xFF0C;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x50F5;&#x5C38;&#x7F51;&#x7EDC;&#x5BB6;&#x65CF;&#x90FD;&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x68C0;&#x6D4B;&#x6A21;&#x578B;&#x3002;&#x5229;&#x7528;&#x5178;&#x578B;&#x7684;IP&#x65F6;&#x95F4;&#x8F6E;&#x5ED3;&#x8BC4;&#x4F30;&#x3002; &#x68C0;&#x6D4B;&#x6A21;&#x5757;&#x5728;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x68C0;&#x6D4B;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#x7684;IP&#x3002; &#x6807;&#x7B7E;&#x6A21;&#x5757; &#x7ED9;&#x6709;&#x76D1;&#x7763;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x63D0;&#x4F9B;&#x53D7;&#x611F;&#x67D3;IP&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x53EA;&#x5904;&#x7406;&#x5728;DNS&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x5229;&#x7528;&#x7684;&#x539F;&#x7406;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x76F8;&#x540C;DGA&#x50F5;&#x5C38;&#x7F51;&#x7EDC;&#x7684;&#x5B50;&#x96C6;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x805A;&#x7C7B;&#x3002; &#x6570;&#x636E;&#x9884;&#x5904;&#x7406; &#x901A;&#x8FC7;&#x542F;&#x53D1;&#x5F0F;&#x65B9;&#x6CD5;&#x51CF;&#x5C0F;&#x6570;&#x636E;&#x91CF;&#xFF0C;&#x51CF;&#x5C11;&#x826F;&#x6027;&#x7684;DNS&#x6D41;&#x91CF;&#xFF0C;&#x53EA;&#x4FDD;&#x7559;&#x53EF;&#x7591;&#x7684;NXDOMAIN&#x6765;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x7684;&#x805A;&#x7C7B;&#x3002;&#xFF08;&#x6839;&#x636E;&#x57DF;&#x540D;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#xFF09; &#x5206;&#x7EA7;&#x805A;&#x7C7B; D&#x4F5C;&#x4E3A;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x57DF;&#x540D;d&#x90FD;&#x7531;&#x4E00;&#x7EC4;IP&#x4EE3;&#x8868;&#xFF0C;&#x8FD9;&#x7EC4;IP&#x53EF;&#x4EE5;&#x81F3;&#x5C11;&#x533A;&#x5206;&#x4E00;&#x4E2A;&#x4E0D;&#x6210;&#x529F;&#x7684;DNS&#x8BF7;&#x6C42;&#x3002;&#x805A;&#x7C7B;&#x7ED3;&#x679C;C&#x53EF;&#x4EE5;&#x4EE3;&#x8868;D&#x7684;&#x4E00;&#x79CD;&#x5212;&#x5206;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#x522B;c&#x90FD;&#x662F;&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x805A;&#x7C7B;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x4E24;&#x4E2A;&#x7C7B;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x76F8;&#x4F3C;&#x5EA6;&#xFF0C;&#x5982;&#x679C;&#x76F8;&#x4F3C;&#x5EA6;&#x5728;&#x9650;&#x5236;&#x5185;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#xFF1B;&#x8BE5;&#x9650;&#x5236;&#x4E5F;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x6CA1;&#x6709;&#x5171;&#x4EAB;&#x8DB3;&#x591F;IP&#x7684;&#x4E24;&#x4E2A;&#x7C7B;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x3002; &#x76F8;&#x4F3C;&#x5EA6;&#x8BA1;&#x7B97;&#x516C;&#x5F0F;&#xFF1A; \\[ \\forall(c_i,c_j) \\in C^2, sim(c_i.c_j) = |IP^{c_i}\\cap IP^{c_j} | \\] &#x76F8;&#x4F3C;&#x5EA6;&#x9650;&#x5236;&#x516C;&#x5F0F;&#xFF1A; \\[ sim(c_1^*,c_2^*) &gt; \\alpha \\cdot min(|IP^{c_1^*}|,|IP^{c_2^*}|) \\] &#x5F97;&#x5230;&#x53D7;&#x611F;&#x67D3;&#x7684;IP &#x5F80;&#x5F80;&#x4E22;&#x5F03;&#x4E0E;&#x6076;&#x610F;&#x884C;&#x4E3A;&#x4E0D;&#x76F8;&#x5E72;&#x7684;&#x7C7B;&#x522B;&#xFF0C;&#x5BF9;&#x5DF2;&#x8BC6;&#x522B;&#x7684;DGA&#x50F5;&#x5C38;&#x7F51;&#x7EDC;&#x547D;&#x540D;&#xFF0C; &#x68C0;&#x6D4B;&#x6A21;&#x5757;&#xFF1A;&#x65F6;&#x5E8F;&#x51B3;&#x7B56;&#x6811; &#x8F93;&#x5165;&#xFF1A;DNS&#x65F6;&#x5E8F;&#xFF0C;&#x6BCF;&#x4E2A;IP&#x90FD;&#x6709;&#x6807;&#x7B7E;{Infected&#xFF0C;NonInfected} &#x5728;CART&#x51B3;&#x7B56;&#x6811;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8BAD;&#x7EC3;&#xFF0C;&#x6839;&#x8282;&#x70B9;&#x5305;&#x542B;&#x6240;&#x6709;&#x7684;&#x8BAD;&#x7EC3;&#x5B9E;&#x4F8B;&#x3002;&#x6BCF;&#x4E2A;&#x5185;&#x90E8;&#x8282;&#x70B9;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x8BAD;&#x7EC3;&#x5B9E;&#x4F8B;\\(\\tau\\)&#x4EE5;&#x53CA;&#x6839;&#x636E;&#x8F93;&#x5165;&#x7279;&#x5F81;&#x786E;&#x5B9A;&#x7684;&#x5206;&#x5272;&#x6761;&#x4EF6;s &#x6240;&#x6709;&#x7684;&#x5B9E;&#x4F8B;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x6807;&#x7B7E; \\[\\forall(T_0,T_1) \\in \\tau^2, label(T_0)=label(T_1)\\] &#x6240;&#x6709;&#x7684;&#x5B9E;&#x4F8B;&#x6839;&#x636E;&#x8DDD;&#x79BB;&#x516C;&#x5F0F;&#x90FD;&#x662F;&#x76F8;&#x7B49;&#x7684; \\[\\forall(T_0,T_1) \\in \\tau^2, dist(T_0,T_1)=0\\] &#x8BAD;&#x7EC3;&#x6A21;&#x5757; &#x5206;&#x6CBB;&#x7B97;&#x6CD5;&#x8FDB;&#x884C;&#x51B3;&#x7B56;&#x6811;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x4E00;&#x6761;&#x5B50;&#x6811;&#x6301;&#x7EED;&#x5212;&#x5206;&#x76F4;&#x5230;&#x6EE1;&#x8DB3;&#x4E0A;&#x8FF0;&#x4E24;&#x4E2A;&#x9650;&#x5236;&#x3002; &#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x8BAD;&#x7EC3;&#x96C6;&#xFF0C;&#x9996;&#x5148;&#x8BA1;&#x7B97;&#x5206;&#x88C2;&#x7684;&#x5019;&#x9009;&#x503C;&#xFF0C;&#x8981;&#x6C42;&#x5206;&#x88C2;&#x7ED3;&#x679C;&#x4F7F;&#x5F97;&#x5B50;&#x6811;&#x6700;&#x5E72;&#x51C0;&#xFF0C;&#x5E72;&#x51C0;&#x53EF;&#x4EE5;&#x7528;&#x6807;&#x7B7E;&#x7684;&#x5B9A;&#x4E49;&#x6765;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x3002;&#x6700;&#x4E0D;&#x5E72;&#x51C0;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x4E00;&#x534A;&#x4E3A;{Infected}&#x53E6;&#x4E00;&#x534A;&#x4E3A;{NonInfected} &#x68C0;&#x6D4B;&#x6A21;&#x5757; &#x5F53;&#x51B3;&#x7B56;&#x6811;&#x6784;&#x5EFA;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4ECE;&#x6839;&#x8282;&#x70B9;&#x5230;&#x53F6;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x4E00;&#x6761;&#x8DEF;&#x5F84;&#x4E0A;&#x7684;&#x5212;&#x5206;&#x6765;&#x533A;&#x5206;&#x5176;&#x5C5E;&#x4E8E;&#x54EA;&#x4E00;&#x4E2A;&#x7C7B;&#x3002; &#x65F6;&#x5E8F;&#x5212;&#x5206;&#x5019;&#x9009; &#x6807;&#x51C6;&#x5212;&#x5206;&#xFF1A;&#x901A;&#x8FC7;&#x534A;&#x5F84;&#x5212;&#x5206; &#x805A;&#x7C7B;&#x5212;&#x5206;&#xFF1A;&#x6839;&#x636E;&#x5230;&#x4E2D;&#x5FC3;&#x7684;&#x7684;&#x8DDD;&#x79BB;&#x8FDB;&#x884C;&#x5212;&#x5206; &#x65F6;&#x5E8F;&#x8DDD;&#x79BB; DTW&#x8DDD;&#x79BB;&#xFF08;&#x5F88;&#x597D;&#x7684;&#x5206;&#x6790;&#x65F6;&#x5E8F;&#x8DDD;&#x79BB;&#x7684;&#x65B9;&#x6CD5;&#xFF09;","categories":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/categories/Security/"}],"tags":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/tags/Security/"},{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"}],"author":"刘丰瑞"},{"title":"多项式插值","slug":"安全/2019-07-21-多项式插值","date":"2019-07-20T16:00:00.000Z","updated":"2019-07-21T13:36:30.148Z","comments":true,"path":"2019/07/21/安全/2019-07-21-多项式插值/","link":"","permalink":"http://www.liufr.com/2019/07/21/安全/2019-07-21-多项式插值/","excerpt":"","text":"Polynominal Interpolation &#x591A;&#x9879;&#x5F0F;&#x63D2;&#x503C;&#xFF0C;&#x7ED9;&#x5B9A;&#x4E00;&#x7EC4;&#x6570;&#x636E;&#xFF0C;&#x5BFB;&#x627E;&#x4E00;&#x4E2A;&#x6070;&#x597D;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x70B9;&#x7684;&#x591A;&#x9879;&#x5F0F;&#x3002; &#x4EE3;&#x7801; import numpy as npfrom sklearn.linear_model import Ridgefrom sklearn.preprocessing import PolynomialFeaturesfrom sklearn.pipeline import make_pipelinefrom time_series_detector.common.tsd_common import *class PolynomialInterpolation(object): &quot;&quot;&quot; In statistics, polynomial regression is a form of regression analysis in which the relationship between the independent variable x and the dependent variable y is modelled as an nth degree polynomial in x. WIKIPEDIA: https://en.wikipedia.org/wiki/Polynomial_regression &quot;&quot;&quot; def __init__(self, threshold=0.15, degree=4): &quot;&quot;&quot; :param threshold: The critical point of normal. :param degree: Depth of iteration. &quot;&quot;&quot; self.degree = degree self.threshold = threshold def predict(self, X, window=DEFAULT_WINDOW): &quot;&quot;&quot; Predict if a particular sample is an outlier or not. :param X: the time series to detect of :param type X: pandas.Series :param window: the length of window :param type window: int :return: 1 denotes normal, 0 denotes abnormal &quot;&quot;&quot; x_train = list(range(0, 2 * window + 1)) + list(range(0, 2 * window + 1)) + list(range(0, window + 1)) x_train = np.array(x_train) x_train = x_train[:, np.newaxis] avg_value = np.mean(X[-(window + 1):]) if avg_value &gt; 1: y_train = X / avg_value else: y_train = X model = make_pipeline(PolynomialFeatures(self.degree), Ridge()) model.fit(x_train, y_train) if abs(y_train[-1] - model.predict(np.array(x_train[-1]).reshape(1, -1))) &gt; self.threshold: return 0 return 1","categories":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/categories/Security/"}],"tags":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/tags/Security/"},{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"}],"author":"刘丰瑞"},{"title":"孤立森林（Isolation Forest）","slug":"安全/2019-07-22-xgboost","date":"2019-07-20T16:00:00.000Z","updated":"2019-07-22T02:50:03.805Z","comments":true,"path":"2019/07/21/安全/2019-07-22-xgboost/","link":"","permalink":"http://www.liufr.com/2019/07/21/安全/2019-07-22-xgboost/","excerpt":"","text":"","categories":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/categories/Security/"}],"tags":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/tags/Security/"},{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"}],"author":"刘丰瑞"},{"title":"梯度提升决策树（GBDT）","slug":"安全/2019-07-21-梯度提升决策树(GBDT)","date":"2019-07-20T16:00:00.000Z","updated":"2019-07-22T02:02:12.151Z","comments":true,"path":"2019/07/21/安全/2019-07-21-梯度提升决策树(GBDT)/","link":"","permalink":"http://www.liufr.com/2019/07/21/安全/2019-07-21-梯度提升决策树(GBDT)/","excerpt":"","text":"GCDT&#xFF1A;&#x68AF;&#x5EA6;&#x63D0;&#x5347;&#x51B3;&#x7B56;&#x6811; Gradient Boosting Decision Tree&#xFF0C;&#x53C8;&#x53EB;&#x505A;MART&#xFF08;Multiple Additive Regression Tree&#xFF09;&#x8FED;&#x4EE3;&#x7684;&#x51B3;&#x7B56;&#x6811;&#x7B97;&#x6CD5;&#xFF0C;&#x7531;&#x591A;&#x9897;&#x51B3;&#x7B56;&#x6811;&#x7EC4;&#x6210;&#xFF0C;&#x5177;&#x6709;&#x8F83;&#x5F3A;&#x7684;&#x6CDB;&#x5316;&#x80FD;&#x529B;&#x3002;GBDT&#x662F;&#x4E00;&#x56DE;&#x5F52;&#x6811;&#x7528;&#x6765;&#x505A;&#x56DE;&#x5F52;&#x9884;&#x6D4B;&#xFF0C;&#x8C03;&#x6574;&#x540E;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5206;&#x7C7B;&#x3002; Regression Decision Tree&#xFF1A;&#x56DE;&#x5F52;&#x6811; &#x56DE;&#x5F52;&#x6811;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x9884;&#x6D4B;&#x503C;&#xFF08;&#x4F8B;&#x5982;&#x5E73;&#x5747;&#x503C;&#xFF09;&#xFF0C;&#x5206;&#x652F;&#x65F6;&#x7A77;&#x4E3E;&#x6BCF;&#x4E00;&#x4E2A;feature&#x7684;&#x6BCF;&#x4E2A;&#x9608;&#x503C;&#x627E;&#x5230;&#x6700;&#x597D;&#x7684;&#x5206;&#x5272;&#x70B9;&#xFF0C;&#x4E14;&#x7528;&#x6700;&#x5C0F;&#x5316;&#x5E73;&#x65B9;&#x8BEF;&#x5DEE;&#x8FDB;&#x884C;&#x8861;&#x91CF;&#x5206;&#x7C7B;&#x6807;&#x51C6;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5206;&#x7C7B;&#x9519;&#x8BEF;&#x8D8A;&#x591A;&#x5E73;&#x65B9;&#x8BEF;&#x5DEE;&#x8D8A;&#x5927;&#xFF0C;&#x76F4;&#x5230;&#x6BCF;&#x4E2A;&#x53F6;&#x5B50;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x9884;&#x6D4B;&#x503C;&#x90FD;&#x80FD;&#x8FBE;&#x5230;&#x9884;&#x8BBE;&#x7684;&#x7EC8;&#x6B62;&#x6761;&#x4EF6;&#x3002; Boosting Decision Tree&#xFF1A;&#x63D0;&#x5347;&#x6811;&#x7B97;&#x6CD5; Boosting&#xFF1A;&#x5C06;&#x5F31;&#x5B66;&#x4E60;&#x63D0;&#x5347;&#x4E3A;&#x5F3A;&#x5B66;&#x4E60;&#x5668;&#x7684;&#x7B97;&#x6CD5;&#x3002;&#x4E3B;&#x8981;&#x601D;&#x60F3;&#xFF1A;&#x5BF9;&#x4E8E;&#x8D1F;&#x8D23;&#x4EFB;&#x52A1;&#xFF0C;&#x5C06;&#x591A;&#x4E2A;&#x4E13;&#x5BB6;&#x7684;&#x5224;&#x65AD;&#x8FDB;&#x884C;&#x9002;&#x5F53;&#x7EFC;&#x5408;&#x5F97;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5224;&#x65AD;&#xFF0C;&#x6BD4;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x4E13;&#x5BB6;&#x5355;&#x72EC;&#x7684;&#x5224;&#x65AD;&#x8981;&#x597D;&#x3002; &#x63D0;&#x5347;&#x6811;&#x901A;&#x8FC7;&#x8FED;&#x4EE3;&#x591A;&#x4E2A;&#x56DE;&#x5F52;&#x6811;&#x6765;&#x8FDB;&#x884C;&#x5171;&#x540C;&#x51B3;&#x7B56;&#x3002;&#x5F53;&#x91C7;&#x7528;&#x5E73;&#x65B9;&#x8BEF;&#x5DEE;&#x635F;&#x5931;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x56DE;&#x5F52;&#x6811;&#x5B66;&#x4E60;&#x7684;&#x662F;&#x6240;&#x6709;&#x6811;&#x7684;&#x7ED3;&#x8BBA;&#x548C;&#x6B8B;&#x5DEE;&#xFF0C;&#x62DF;&#x5408;&#x5F97;&#x5230;&#x5F53;&#x524D;&#x7684;&#x6B8B;&#x5DEE;&#x56DE;&#x5F52;&#x6811;&#x3002;&#x6B8B;&#x5DEE;=&#x771F;&#x5B9E;&#x503C;-&#x9884;&#x6D4B;&#x503C;&#x3002;&#x63D0;&#x5347;&#x6811;&#x53EF;&#x4EE5;&#x89C6;&#x4F5C;&#x6574;&#x4E2A;&#x8FED;&#x4EE3;&#x8FC7;&#x7A0B;&#x751F;&#x6210;&#x7684;&#x56DE;&#x5F52;&#x6811;&#x7684;&#x7D2F;&#x52A0;&#x3002; &#x6BCF;&#x4E00;&#x6B21;&#x8FED;&#x4EE3;&#x90FD;&#x589E;&#x52A0;&#x88AB;&#x9519;&#x8BEF;&#x5206;&#x7C7B;&#x7684;&#x6837;&#x672C;&#x7684;&#x6743;&#x91CD;&#xFF0C;&#x4F7F;&#x6A21;&#x578B;&#x5728;&#x4E4B;&#x540E;&#x7684;&#x8FED;&#x4EE3;&#x4E2D;&#x66F4;&#x52A0;&#x6CE8;&#x610F;&#x5230;&#x96BE;&#x4EE5;&#x5206;&#x7C7B;&#x7684;&#x6837;&#x672C;&#x3002; Xgboost &#x548C; GBDT &#x7684;&#x533A;&#x522B;&#xFF1A; GBDT&#xFF1A; GBDT &#x5B83;&#x7684;&#x975E;&#x7EBF;&#x6027;&#x53D8;&#x6362;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x8868;&#x8FBE;&#x80FD;&#x529B;&#x5F3A;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x505A;&#x590D;&#x6742;&#x7684;&#x7279;&#x5F81;&#x5DE5;&#x7A0B;&#x548C;&#x7279;&#x5F81;&#x53D8;&#x6362;&#x3002; GBDT &#x7684;&#x7F3A;&#x70B9;&#x4E5F;&#x5F88;&#x660E;&#x663E;&#xFF0C;Boost &#x662F;&#x4E00;&#x4E2A;&#x4E32;&#x884C;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x597D;&#x5E76;&#x884C;&#x5316;&#xFF0C;&#x800C;&#x4E14;&#x8BA1;&#x7B97;&#x590D;&#x6742;&#x5EA6;&#x9AD8;&#xFF0C;&#x540C;&#x65F6;&#x4E0D;&#x592A;&#x9002;&#x5408;&#x9AD8;&#x7EF4;&#x7A00;&#x758F;&#x7279;&#x5F81;&#xFF1B; &#x4F20;&#x7EDF; GBDT &#x5728;&#x4F18;&#x5316;&#x65F6;&#x53EA;&#x7528;&#x5230;&#x4E00;&#x9636;&#x5BFC;&#x6570;&#x4FE1;&#x606F;&#x3002; Xgboost&#xFF1A; &#x663E;&#x793A;&#x7684;&#x628A;&#x6811;&#x6A21;&#x578B;&#x590D;&#x6742;&#x5EA6;&#x4F5C;&#x4E3A;&#x6B63;&#x5219;&#x9879;&#x52A0;&#x5230;&#x4F18;&#x5316;&#x76EE;&#x6807;&#x4E2D;&#x3002; &#x516C;&#x5F0F;&#x63A8;&#x5BFC;&#x4E2D;&#x7528;&#x5230;&#x4E86;&#x4E8C;&#x9636;&#x5BFC;&#x6570;&#xFF0C;&#x7528;&#x4E86;&#x4E8C;&#x9636;&#x6CF0;&#x52D2;&#x5C55;&#x5F00;&#x3002;&#xFF08;GBDT &#x7528;&#x725B;&#x987F;&#x6CD5;&#x8C8C;&#x4F3C;&#x4E5F;&#x662F;&#x4E8C;&#x9636;&#x4FE1;&#x606F;&#xFF09; &#x5B9E;&#x73B0;&#x4E86;&#x5206;&#x88C2;&#x70B9;&#x5BFB;&#x627E;&#x8FD1;&#x4F3C;&#x7B97;&#x6CD5;&#x3002; &#x5229;&#x7528;&#x4E86;&#x7279;&#x5F81;&#x7684;&#x7A00;&#x758F;&#x6027;&#x3002; &#x6570;&#x636E;&#x4E8B;&#x5148;&#x6392;&#x5E8F;&#x5E76;&#x4E14;&#x4EE5; block &#x5F62;&#x5F0F;&#x5B58;&#x50A8;&#xFF0C;&#x6709;&#x5229;&#x4E8E;&#x5E76;&#x884C;&#x8BA1;&#x7B97;&#x3002; &#x57FA;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x901A;&#x4FE1;&#x6846;&#x67B6; rabit&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728; MPI &#x548C; yarn &#x4E0A;&#x3002;&#xFF08;&#x6700;&#x65B0;&#x5DF2;&#x7ECF;&#x4E0D;&#x57FA;&#x4E8E; rabit &#x4E86;&#xFF09; &#x5B9E;&#x73B0;&#x505A;&#x4E86;&#x9762;&#x5411;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x7684;&#x4F18;&#x5316;&#xFF0C;&#x9488;&#x5BF9; cache &#x548C;&#x5185;&#x5B58;&#x505A;&#x4E86;&#x6027;&#x80FD;&#x4F18;&#x5316;","categories":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/categories/Security/"}],"tags":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/tags/Security/"},{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"}],"author":"刘丰瑞"},{"title":"孤立森林（Isolation Forest）","slug":"安全/2019-07-22-孤立森林（Isolation Froest）","date":"2019-07-20T16:00:00.000Z","updated":"2019-07-22T02:39:55.715Z","comments":true,"path":"2019/07/21/安全/2019-07-22-孤立森林（Isolation Froest）/","link":"","permalink":"http://www.liufr.com/2019/07/21/安全/2019-07-22-孤立森林（Isolation Froest）/","excerpt":"","text":"iForest &#x65E0;&#x53C2;&#x6570;&#x65E0;&#x76D1;&#x7763;&#x65B9;&#x6CD5;&#x3002; &#x5047;&#x8BBE;&#x7528;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x8D85;&#x5E73;&#x9762;&#x5207;&#x5272;&#x6570;&#x636E;&#x7A7A;&#x95F4;&#xFF0C;&#x5207;&#x4E00;&#x6B21;&#x4EA7;&#x751F;&#x4E24;&#x4E2A;&#x5B50;&#x7A7A;&#x95F4;&#xFF0C;&#x4F9D;&#x6B21;&#x5FAA;&#x73AF;&#x4E0B;&#x53BB;&#x76F4;&#x5230;&#x6BCF;&#x4E2A;&#x5B50;&#x7A7A;&#x95F4;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x70B9;&#x4E3A;&#x6B62;&#x3002;&#x76F4;&#x89C2;&#x7684;&#x8BF4;&#x90A3;&#x4E9B;&#x5BC6;&#x5EA6;&#x5F88;&#x9AD8;&#x7684;&#x7C07;&#x9700;&#x8981;&#x88AB;&#x5207;&#x5272;&#x5F88;&#x591A;&#x6B21;&#x624D;&#x4F1A;&#x505C;&#x6B62;&#xFF0C;&#x4F46;&#x662F;&#x90A3;&#x4E9B;&#x5BC6;&#x5EA6;&#x8F83;&#x4F4E;&#x7684;&#x70B9;&#x5F88;&#x5BB9;&#x6613;&#x8F83;&#x65E9;&#x5730;&#x505C;&#x5728;&#x4E00;&#x4E2A;&#x5B50;&#x7A7A;&#x95F4;&#x91CC; &#x5B9E;&#x73B0;&#x6B65;&#x9AA4; &#x5207;&#x5272;&#x662F;&#x968F;&#x673A;&#x7684;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x96C6;&#x6210;&#x65B9;&#x6CD5;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x6536;&#x655B;&#x503C;&#xFF0C;&#x5373;&#x53CD;&#x590D;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x5207;&#x7136;&#x540E;&#x5E73;&#x5747;&#x6BCF;&#x6B21;&#x7684;&#x7ED3;&#x679C;&#x3002; &#x4ECE;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#x9009;&#x62E9;&#x6837;&#x672C;&#x70B9;&#x4F5C;&#x4E3A;subsample,&#x653E;&#x5165;&#x6811;&#x7684;&#x6839;&#x8282;&#x70B9;&#x3002; &#x968F;&#x673A;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x7EF4;&#x5EA6;&#xFF0C;&#x968F;&#x673A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5207;&#x5272;&#x70B9;p&#xFF0C;&#x4F4D;&#x4E8E;&#x5F53;&#x524D;&#x6570;&#x636E;&#x7684;&#x6700;&#x5927;&#x6700;&#x5C0F;&#x503C;&#x4E4B;&#x95F4;&#x3002; &#x4EE5;&#x5207;&#x5272;&#x70B9;&#x751F;&#x6210;&#x8D85;&#x5E73;&#x9762;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5F53;&#x524D;&#x7684;&#x8282;&#x70B9;&#x6570;&#x636E;&#x7A7A;&#x95F4;&#x5212;&#x5206;&#x4E3A;2&#x4E2A;&#x5B50;&#x7A7A;&#x95F4;&#xFF0C;&#x628A;&#x5C0F;&#x4E8E;p&#x7684;&#x653E;&#x5165;&#x8282;&#x70B9;&#x7684;&#x5DE6;&#x5B69;&#x5B50;&#xFF0C;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;p&#x7684;&#x653E;&#x5728;&#x53F3;&#x5B69;&#x5B50; &#x5728;&#x5B69;&#x5B50;&#x8282;&#x70B9;&#x4E2D;&#x4E0D;&#x65AD;&#x9012;&#x5F52;&#x6B65;&#x9AA4;2&#x548C;3&#xFF0C;&#x76F4;&#x5230;&#x65E0;&#x6CD5;&#x5207;&#x5272;&#xFF0C;&#x6216;&#x8005;&#x8FBE;&#x5230;&#x9650;&#x5B9A;&#x9AD8;&#x5EA6;&#x3002; &#x83B7;&#x5F97;t&#x4E2A;iTree&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7ED3;&#x675F;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x7528;&#x751F;&#x6210;&#x7684;iForest&#x6765;&#x8BC4;&#x4F30;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;x&#x904D;&#x5386;&#x6BCF;&#x4E00;&#x68F5;iTree&#xFF0C;&#x8BA1;&#x7B97;&#x5176;&#x843D;&#x5728;&#x7B2C;&#x51E0;&#x5C42;&#xFF0C;&#x5F97;&#x5230;x&#x5728;&#x6BCF;&#x4E2A;&#x6811;&#x9AD8;&#x5EA6;&#x5E73;&#x5747;&#x503C;&#x3002;&#x83B7;&#x5F97;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x7684;&#x9AD8;&#x5EA6;&#x5E73;&#x5747;&#x503C;&#x540E;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x9608;&#x503C;&#xFF0C;&#x4F4E;&#x4E8E;&#x9608;&#x503C;&#x7684;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x4E3A;&#x5F02;&#x5E38;&#x3002;&#x5F02;&#x5E38;&#x5728;&#x4E66;&#x4E2D;&#x5F80;&#x5F80;&#x6709;&#x8F83;&#x77ED;&#x7684;&#x5E73;&#x5747;&#x9AD8;&#x5EA6;&#x3002;&#x8BBA;&#x6587;&#x5BF9;&#x9AD8;&#x5EA6;&#x8FDB;&#x884C;&#x5F52;&#x4E00;&#x5316;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x4E2A;0&#x5230;1&#x7684;&#x6570;&#x503C;&#xFF0C;&#x8D8A;&#x77ED;&#x9AD8;&#x5EA6;&#x8D8A;&#x63A5;&#x8FD1;1&#xFF08;&#x5F02;&#x5E38;&#x53EF;&#x80FD;&#x6027;&#x8D8A;&#x9AD8;&#xFF09; &#x53EF;&#x4EE5;&#x770B;&#x51FA;d&#x6700;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x5F02;&#x5E38; &#x9ED8;&#x8BA4;&#x53C2;&#x6570; subsample size&#xFF1A;256 Tree height&#xFF1A;8 Number of trees&#xFF1A;100","categories":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/categories/Security/"}],"tags":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/tags/Security/"},{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"}],"author":"刘丰瑞"},{"title":"指数加权移动平均法（EWMA）","slug":"安全/2019-07-21-指数加权移动平均法（EWMA）","date":"2019-07-20T16:00:00.000Z","updated":"2019-07-21T11:10:52.001Z","comments":true,"path":"2019/07/21/安全/2019-07-21-指数加权移动平均法（EWMA）/","link":"","permalink":"http://www.liufr.com/2019/07/21/安全/2019-07-21-指数加权移动平均法（EWMA）/","excerpt":"","text":"&#x4E3B;&#x8981;&#x601D;&#x60F3; Exponentially Weighted Moving Average (EWMA)&#xFF0C;&#x5BF9;&#x89C2;&#x5BDF;&#x503C;&#x7ED9;&#x4E88;&#x4E0D;&#x540C;&#x7684;&#x6743;&#x91CD;&#x6C42;&#x5F97;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x5E76;&#x4EE5;&#x5E73;&#x5747;&#x503C;&#x4E3A;&#x57FA;&#x7840;&#x786E;&#x5B9A;&#x9884;&#x6D4B;&#x503C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5F80;&#x5F80;&#x8FD1;&#x671F;&#x89C2;&#x5BDF;&#x503C;&#x7684;&#x6743;&#x91CD;&#x9AD8;&#x662F;&#x56E0;&#x4E3A;&#x5176;&#x66F4;&#x80FD;&#x53CD;&#x6620;&#x8FD1;&#x671F;&#x53D8;&#x5316;&#x7684;&#x8D8B;&#x52BF;&#x3002;&#x5404;&#x4E2A;&#x6307;&#x6570;&#x52A0;&#x6743;&#x7CFB;&#x6570;&#x662F;&#x968F;&#x65F6;&#x95F4;&#x6307;&#x6570;&#x9012;&#x51CF;&#x7684;&#xFF0C;&#x8D8A;&#x9760;&#x8FD1;&#x5F53;&#x524D;&#x65F6;&#x523B;&#xFF0C;&#x52A0;&#x6743;&#x7CFB;&#x6570;&#x5C31;&#x8D8A;&#x5927;&#x3002; &#x53EF;&#x4EE5;&#x89C6;&#x4F5C;&#x4E00;&#x79CD;&#x7406;&#x60F3;&#x7684;&#x6700;&#x5927;&#x4F3C;&#x7136;&#x4F30;&#x8BA1;&#xFF0C;&#x5F53;&#x524D;&#x4F30;&#x8BA1;&#x503C;&#x7531;&#x524D;&#x4E00;&#x6B21;&#x4F30;&#x8BA1;&#x503C;&#x548C;&#x5F53;&#x524D;&#x7684;&#x62BD;&#x6837;&#x503C;&#x5171;&#x540C;&#x51B3;&#x5B9A;&#xFF1B;&#x4E5F;&#x53EF;&#x4EE5;&#x89C6;&#x4F5C;&#x4E00;&#x4E2A;&#x4F4E;&#x901A;&#x6EE4;&#x6CE2;&#x5668;&#xFF0C;&#x5254;&#x9664;&#x77ED;&#x671F;&#x6CE2;&#x52A8;&#x4FDD;&#x7559;&#x957F;&#x671F;&#x53D1;&#x5C55;&#x8D8B;&#x52BF;&#x7684;&#x5E73;&#x6ED1;&#x5F62;&#x5F0F;&#x3002; &#x4F18;&#x70B9; &#x4E0D;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x8FC7;&#x53BB;&#x7684;&#x6240;&#x6709;&#x6570;&#x503C; &#x8BA1;&#x7B97;&#x91CF;&#x663E;&#x8457;&#x51CF;&#x5C0F; &#x8BA1;&#x7B97; \\[ v_t = \\beta v_{t-1}+(1-\\beta)\\theta_t\\] &#x5176;&#x4E2D;\\(\\theta_t\\)&#x4E3A;&#x65F6;&#x523B;\\(t\\)&#x7684;&#x5B9E;&#x9645;&#x6E29;&#x5EA6;&#xFF1B;\\(\\beta\\)&#x8868;&#x793A;&#x52A0;&#x6743;&#x4E0B;&#x964D;&#x7684;&#x901F;&#x7387;&#xFF0C;&#x5176;&#x503C;&#x8D8A;&#x5C0F;&#x4E0B;&#x964D;&#x8D8A;&#x5FEB;&#xFF1B;\\(v_t\\)&#x4E3A;\\(t\\)&#x65F6;&#x523B;&#x7684;EWMA&#x503C;&#x3002; &#x53D8;&#x5DEE;&#x4FEE;&#x6B63; &#x5982;&#x679C;&#x521D;&#x59CB;&#x5316;\\(v_0=0\\),&#x90A3;&#x4E48;&#x521D;&#x671F;&#x503C;&#x90FD;&#x4F1A;&#x504F;&#x5C0F;&#xFF0C;&#x867D;&#x7136;&#x6700;&#x540E;&#x4F1A;&#x6162;&#x6162;&#x51CF;&#x5C0F;&#x8FD9;&#x90E8;&#x5206;&#x5F71;&#x54CD;&#x4F46;&#x662F;&#x8FD8;&#x662F;&#x5BF9;&#x516C;&#x5F0F;&#x505A;&#x51FA;&#x9002;&#x5F53;&#x4FEE;&#x6B63;&#xFF1A; \\[v_t = \\frac{\\beta v_{t-1}+(1-\\beta)\\theta_t}{1-\\beta^t}\\] &#x5F53;t&#x8868;&#x8F83;&#x5C0F;&#xFF08;&#x521D;&#x671F;&#xFF09;&#x5206;&#x6BCD;&#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x653E;&#x5927;&#x5F53;&#x524D;&#x6570;&#x503C;&#xFF0C;&#x5F53;t&#x5F88;&#x5927;&#xFF0C;&#x5206;&#x6BCD;&#x8D8B;&#x4E3A;1&#xFF0C;&#x5BF9;&#x6570;&#x503C;&#x673A;&#x4F1A;&#x6CA1;&#x6709;&#x5F71;&#x54CD;&#x3002; &#x4EE3;&#x7801; import numpy as npclass Ewma(object): &quot;&quot;&quot; In statistical quality control, the EWMA chart (or exponentially weighted moving average chart) is a type of control chart used to monitor either variables or attributes-type data using the monitored business or industrial process&apos;s entire history of output. While other control charts treat rational subgroups of samples individually, the EWMA chart tracks the exponentially-weighted moving average of all prior sample means. WIKIPEDIA: https://en.wikipedia.org/wiki/EWMA_chart &quot;&quot;&quot; def __init__(self, alpha=0.3, coefficient=3): &quot;&quot;&quot; :param alpha: Discount rate of ewma, usually in (0.2, 0.3). :param coefficient: Coefficient is the width of the control limits, usually in (2.7, 3.0). &quot;&quot;&quot; self.alpha = alpha self.coefficient = coefficient def predict(self, X): &quot;&quot;&quot; Predict if a particular sample is an outlier or not. :param X: the time series to detect of :param type X: pandas.Series :return: 1 denotes normal, 0 denotes abnormal &quot;&quot;&quot; s = [X[0]] for i in range(1, len(X)): temp = self.alpha * X[i] + (1 - self.alpha) * s[-1] s.append(temp) s_avg = np.mean(s) sigma = np.sqrt(np.var(X)) ucl = s_avg + self.coefficient * sigma * np.sqrt(self.alpha / (2 - self.alpha)) lcl = s_avg - self.coefficient * sigma * np.sqrt(self.alpha / (2 - self.alpha)) if s[-1] &gt; ucl or s[-1] &lt; lcl: return 0 return 1","categories":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/categories/Security/"}],"tags":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/tags/Security/"},{"name":"Anomaly detection","slug":"Anomaly-detection","permalink":"http://www.liufr.com/tags/Anomaly-detection/"}],"author":"刘丰瑞"},{"title":"网络异常行为检测","slug":"安全/2019-06-22-网络异常行为检测","date":"2019-06-21T16:00:00.000Z","updated":"2019-06-27T08:20:18.197Z","comments":true,"path":"2019/06/22/安全/2019-06-22-网络异常行为检测/","link":"","permalink":"http://www.liufr.com/2019/06/22/安全/2019-06-22-网络异常行为检测/","excerpt":"","text":"&#x57FA;&#x4E8E;&#x7EDF;&#x8BA1;&#x5B66;&#x4E60;&#x7684;&#x7F51;&#x7EDC;&#x5F02;&#x5E38;&#x884C;&#x4E3A;&#x68C0;&#x6D4B;&#x6280;&#x672F;(&#x542F;&#x660E;) &#x57FA;&#x4E8E;&#x4EBA;&#x5DE5;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#x7684;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x6280;&#x672F;&#x7684;&#x6280;&#x672F;&#x8DEF;&#x7EBF;&#x662F;&#xFF1A;&#x5206;&#x6790;&#x4EBA;&#x5458;&#x9996;&#x5148;&#x4EE5;&#x67D0;&#x79CD;&#x65B9;&#x5F0F;&#x4ECE;&#x539F;&#x59CB;&#x6570;&#x636E;&#x4E2D;&#x63D0;&#x53D6;&#x7279;&#x5F81;&#x53C2;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x57FA;&#x4E8E;&#x7279;&#x5F81;&#x8FDB;&#x884C;&#x5EFA;&#x6A21;&#x548C;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x3002; &#x4EBA;&#x5DE5;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#x7684;&#x4F18;&#x70B9;&#x662F;&#xFF08;&#x5E94;&#x7528;&#x8F83;&#x591A;&#xFF09;&#xFF1A; * &#x7279;&#x5F81;&#x63D0;&#x53D6;&#x5EFA;&#x7ACB;&#x5728;&#x5B89;&#x5168;&#x5206;&#x6790;&#x4EBA;&#x5458;&#x7684;&#x8BA4;&#x77E5;&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#xFF0C;&#x5BF9;&#x5F02;&#x5E38;&#x884C;&#x4E3A;&#x6709;&#x8F83;&#x5F3A;&#x7684;&#x9488;&#x5BF9;&#x6027;&#xFF1B; * &#x5BF9;&#x8BAD;&#x7EC3;&#x6837;&#x672C;&#x6570;&#x91CF;&#x7684;&#x4F9D;&#x8D56;&#x5EA6;&#x4F4E;&#xFF0C;&#x8F83;&#x5C11;&#x7684;&#x6837;&#x672C;&#x8BAD;&#x7EC3;&#x5373;&#x53EF;&#x5F97;&#x5230;&#x76F8;&#x5BF9;&#x51C6;&#x786E;&#x7684;&#x6A21;&#x578B;&#xFF1B; * &#x6A21;&#x578B;&#x7684;&#x53EF;&#x89E3;&#x91CA;&#x5EA6;&#x9AD8;&#xFF0C;&#x5BB9;&#x6613;&#x786E;&#x5B9A;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x7ED3;&#x679C;&#x7684;&#x6709;&#x6548;&#x6027;&#x3002; &#x4EBA;&#x5DE5;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#x7684;&#x7F3A;&#x70B9;&#xFF1A; * &#x5BF9;&#x5B89;&#x5168;&#x5206;&#x6790;&#x4EBA;&#x5458;&#x7684;&#x4F9D;&#x8D56;&#x5EA6;&#x9AD8;&#xFF0C;&#x7279;&#x5F81;&#x7684;&#x9009;&#x53D6;&#x65B9;&#x6CD5;&#x4F1A;&#x5BF9;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x7ED3;&#x679C;&#x7684;&#x6709;&#x6548;&#x6027;&#x4EA7;&#x751F;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x3002; &#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x4F18;&#x70B9;&#xFF1A; * &#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x79CD;&#x8BA9;&#x8BA1;&#x7B97;&#x673A;&#x81EA;&#x52A8;&#x5B66;&#x4E60;&#x4EA7;&#x751F;&#x7279;&#x5F81;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5C06;&#x7279;&#x5F81;&#x5B66;&#x4E60;&#x878D;&#x5165;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x51CF;&#x5C11;&#x4E86;&#x4EBA;&#x4E3A;&#x8BBE;&#x8BA1;&#x7279;&#x5F81;&#x5F15;&#x53D1;&#x7684;&#x4E0D;&#x5B8C;&#x5907;&#x3002; &#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x65B9;&#x6CD5;&#x5C40;&#x9650;&#x6027;&#xFF1A; * &#x9700;&#x8981;&#x6709;&#x5927;&#x91CF;&#x7684;&#x8BAD;&#x7EC3;&#x6837;&#x672C;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#xFF0C;&#x624D;&#x80FD;&#x4FDD;&#x8BC1;&#x6A21;&#x578B;&#x7684;&#x51C6;&#x786E;&#x5EA6;&#x3002; * &#x5F53;&#x8BAD;&#x7EC3;&#x6837;&#x672C;&#x6570;&#x91CF;&#x4E0D;&#x8DB3;&#x65F6;&#xFF0C;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x5C06;&#x4E0D;&#x80FD;&#x591F;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x89C4;&#x5F8B;&#x8FDB;&#x884C;&#x65E0;&#x504F;&#x4F30;&#x8BA1;&#xFF0C;&#x6A21;&#x578B;&#x7684;&#x8BC6;&#x522B;&#x6548;&#x679C;&#x53EF;&#x80FD;&#x8FD8;&#x4E0D;&#x5982;&#x4F20;&#x7EDF;&#x57FA;&#x4E8E;&#x4EBA;&#x5DE5;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#x7684;&#x7EDF;&#x8BA1;&#x5206;&#x6790;&#x65B9;&#x6CD5;&#x3002; * &#x5F53;&#x524D;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7684;&#x6210;&#x529F;&#x5E94;&#x7528;&#x5927;&#x90FD;&#x96C6;&#x4E2D;&#x5728;&#x6709;&#x5927;&#x91CF;&#x8BAD;&#x7EC3;&#x6837;&#x672C;&#x7684;&#x6A21;&#x5F0F;&#x8BC6;&#x522B;&#x9886;&#x57DF;&#xFF0C;&#x5982;&#x8BED;&#x97F3;&#x8BC6;&#x522B;&#x3001;&#x56FE;&#x50CF;&#x8BC6;&#x522B;&#x3001;&#x673A;&#x5668;&#x7FFB;&#x8BD1;&#x7B49;&#x3002; &#x7279;&#x5F81;&#x9009;&#x62E9;&#xFF1A; * &#x547D;&#x4EE4;&#x4E0E;&#x63A7;&#x5236;&#x901A;&#x9053;&#x884C;&#x4E3A;&#x68C0;&#x6D4B; * &#x53CD;&#x5411;&#x8FDE;&#x63A5;&#x7279;&#x5F81;&#xFF08;&#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6D41;&#xFF09; * &#x5FC3;&#x8DF3;&#x7279;&#x5F81;&#xFF08;&#x68C0;&#x6D4B;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x7684;&#x5E73;&#x7A33;&#x5EA6;&#xFF09; * &#x83B7;&#x53D6;&#x884C;&#x4E3A;&#x68C0;&#x6D4B; * &#x4F1A;&#x8BDD;&#x4FE1;&#x606F;&#x7C7B;&#x6307;&#x6807;&#x3002;&#x7EDF;&#x8BA1;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x4E0D;&#x540C;&#x534F;&#x8BAE;&#x7C7B;&#x578B;&#x7684;&#x4F1A;&#x8BDD;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3002;&#x5982;TCP&#x8FDE;&#x63A5;&#x6B21;&#x6570;&#x3001;UDP&#x8FDE;&#x63A5;&#x6B21;&#x6570;&#x3001;&#x5BF9;&#x5E94;&#x7684;&#x6D41;&#x91CF;&#x3001;&#x6570;&#x636E;&#x5206;&#x7EC4;&#x5927;&#x5C0F;&#x7684;&#x5747;&#x503C;&#x548C;&#x6807;&#x51C6;&#x5DEE;&#x7B49; * &#x5E94;&#x7528;&#x5206;&#x5E03;&#x7C7B;&#x6307;&#x6807;&#x3002;&#x7EDF;&#x8BA1;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x4E0D;&#x540C;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x8BBF;&#x95EE;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x8BBF;&#x95EE;&#x4E0D;&#x540C;&#x5E94;&#x7528;&#x7684;&#x6D41;&#x91CF;&#x5206;&#x5E03;&#x3001;&#x6B21;&#x6570;&#x3001;&#x76EE;&#x6807;&#x5730;&#x5740;&#x4F4D;&#x7F6E;&#x3001;&#x56FD;&#x522B;&#x5206;&#x5E03;&#x7B49; * &#x6307;&#x793A;&#x4F4D;&#x6807;&#x8BC6;&#x7C7B;&#x6307;&#x6807;&#x3002;&#x7EDF;&#x8BA1;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x6536;&#x53D1;&#x7684;&#x542B;&#x7279;&#x5B9A;&#x534F;&#x8BAE;&#x6807;&#x8BC6;&#x4F4D;&#x7684;&#x6570;&#x636E;&#x5206;&#x7EC4;&#x6570;&#x91CF;&#x53CA;&#x5176;&#x6BD4;&#x503C;&#x3002;&#x6709;TCP_SYN_send&#x3001;TCP_SYN_ACK_receive&#x3001;RST_send&#x7B49;&#x6807;&#x5FD7;&#x4F4D;&#x7684;&#x4F1A;&#x8BDD;&#x6570;&#x76EE;&#xFF1B;TCP_SYN_ACK_receive/TCP_SYN_send&#x7684;&#x6BD4;&#x503C;&#xFF1B;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x91CC;&#x7684;ICMP_T3&#x3001;ICMP_Echo_Reply&#x3001;ICMP_Echo_Request&#x7B49;&#x62A5;&#x6587;&#x6570;&#x76EE; * &#x5730;&#x5740;&#x5206;&#x5E03;&#x6307;&#x6807;&#x3002;&#x7EDF;&#x8BA1;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x8BBF;&#x95EE;&#x7684;IP&#x5730;&#x5740;&#x7F51;&#x6BB5;&#x5206;&#x5E03;&#x3001;&#x5185;&#x5916;&#x7F51;&#x5206;&#x5E03;&#x7B49;&#x53C2;&#x6570; &#x7279;&#x5F81;&#x503C;&#x5F02;&#x5E38;&#x68C0;&#x6D4B; &#x57FA;&#x4E8E;&#x4E3B;&#x52A8;&#x5B66;&#x4E60;&#x7684;&#x5F02;&#x5E38;&#x68C0;&#x6D4B; &#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x4F1A;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x9886;&#x57DF;&#x77E5;&#x8BC6;&#x878D;&#x5165;&#x5230;&#x5F02;&#x5E38;&#x68C0;&#x6D4B;&#x4E2D;&#xFF0C;&#x9488;&#x5BF9;&#x521D;&#x59CB;&#x7684;&#x5F02;&#x5E38;&#x5206;&#x6570;&#x6392;&#x540D;&#xFF0C;&#x7ED9;&#x51FA;&#x6392;&#x540D;&#x9760;&#x524D;&#x7684;&#x6837;&#x672C;&#x7684;&#x53CD;&#x9988;&#x4E4B;&#x540E;&#xFF0C;&#x6A21;&#x578B;&#x4F1A;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x53CD;&#x9988;&#x6765;&#x91CD;&#x65B0;&#x8C03;&#x6574;&#x53C2;&#x6570;&#xFF0C;&#x4ECE;&#x800C;&#x8F93;&#x51FA;&#x65B0;&#x7684;&#x5F02;&#x5E38;&#x5206;&#x6570;&#x6392;&#x540D;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x4F7F;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x5F02;&#x5E38;&#x6392;&#x5728;&#x9760;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4ECE;&#x800C;&#x8282;&#x7EA6;&#x6392;&#x67E5;&#x5F02;&#x5E38;&#x6240;&#x9700;&#x7684;&#x65F6;&#x95F4;&#x3002; &#x635F;&#x5931;&#x51FD;&#x6570;&#xFF1A; &#x5F02;&#x5E38;&#x6837;&#x672C;&#x88AB;&#x6392;&#x5728;&#x6700;&#x524D;&#x9762;&#xFF0C;&#x8BF4;&#x660E;&#x76EE;&#x524D;&#x7684;&#x6A21;&#x578B;&#x662F;&#x597D;&#x7684;&#xFF0C;&#x635F;&#x5931;&#x51FD;&#x6570;&#x7684;&#x503C;&#x9700;&#x8981;&#x51CF;&#x5C11;,&#x6B63;&#x5E38;&#x70B9;&#x6392;&#x5728;&#x524D;&#x9762;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x662F;&#x6709;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x5927;&#x635F;&#x5931;&#x51FD;&#x6570;&#x3002; &#x955C;&#x50CF;&#x4E0B;&#x964D;&#x5B66;&#x4E60;&#x7B97;&#x6CD5; &#x901A;&#x8FC7;&#x534A;&#x76D1;&#x7763;&#x5B66;&#x4E60;&#x4E3A;&#x65B0;KPI&#x66F2;&#x7EBF;&#x5FEB;&#x901F;&#x90E8;&#x7F72;&#x5F02;&#x5E38;&#x68C0;&#x6D4B; &#x5206;&#x6790;KPI&#x66F2;&#x7EBF;&#xFF0C;&#x5C3D;&#x7BA1;KPI&#x66F2;&#x7EBF;&#x7684;&#x6570;&#x91CF;&#x4F17;&#x591A;&#xFF0C;&#x4F46;&#x662F;&#x66F2;&#x7EBF;&#x7684;&#x5F62;&#x72B6;&#x5927;&#x4F53;&#x4E0A;&#x53EA;&#x6709;&#x5C11;&#x6570;&#x7684;&#x51E0;&#x7C7B;&#x3002;&#x8FD9;&#x672C;&#x8D28;&#x662F;&#x7531;&#x4E8E;&#xFF0C;&#x66F2;&#x7EBF;&#x7684;&#x5F62;&#x72B6;&#x662F;&#x7531;&#x4E1A;&#x52A1;&#x7684;&#x7C7B;&#x578B;&#xFF08;&#x6BD4;&#x5982;&#x4EA4;&#x6613;&#x91CF;&#xFF0C;&#x6E38;&#x620F;&#x5728;&#x7EBF;&#x4EBA;&#x6570;&#xFF0C;&#x641C;&#x7D22;&#xFF09;&#x4EE5;&#x53CA;&#x66F2;&#x7EBF;&#x7684;&#x7C7B;&#x578B;&#xFF08;CPU&#x4F7F;&#x7528;&#x7387;&#xFF0C;&#x6210;&#x529F;&#x7387;&#xFF09;&#x6240;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x800C;&#x975E;&#x96C6;&#x7FA4;&#x7684;&#x89C4;&#x6A21;&#x3002;&#x9664;&#x975E;&#x662F;&#x4E0A;&#x7EBF;&#x4E00;&#x4E2A;&#x5168;&#x65B0;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x5426;&#x5219;&#x65B0;&#x7684;&#x66F2;&#x7EBF;&#x7684;&#x5F62;&#x72B6;&#x5927;&#x6982;&#x7387;&#x4F1A;&#x548C;&#x65E7;&#x66F2;&#x7EBF;&#x7684;&#x5F62;&#x72B6;&#x76F8;&#x4F3C;&#x3002;&#x8FD9;&#x542F;&#x793A;&#x4F5C;&#x8005;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x66F2;&#x7EBF;&#x505A;&#x805A;&#x7C7B;&#xFF0C;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x7C7B;&#x522B;&#x7684;&#x66F2;&#x7EBF;&#xFF0C;&#x5176;&#x7279;&#x5F81;&#x7A7A;&#x95F4;&#x4E5F;&#x5927;&#x81F4;&#x76F8;&#x4F3C;&#x3002;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x7C7B;&#x522B;&#x7684;&#x66F2;&#x7EBF;&#x5F62;&#x72B6;&#x76F8;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x5E76;&#x4E0D;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#xFF0C;&#x5728;&#x6A21;&#x578B;&#x5C42;&#x9762;&#x4E0A;&#x9700;&#x8981;&#x6709;&#x6240;&#x533A;&#x5206;&#x3002;&#x4F5C;&#x8005;&#x5F00;&#x59CB;&#x601D;&#x8003;&#xFF0C;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x7528;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x4E2D;&#x7684;&#x534A;&#x76D1;&#x7763;&#x7B97;&#x6CD5;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x539F;&#x6709;&#x7684;label&#x6807;&#x6CE8;&#xFF0C;&#x63D0;&#x9AD8;&#x51C6;&#x786E;&#x7387;&#xFF0C;&#x53C8;&#x80FD;&#x591F;&#x4E3A;&#x6BCF;&#x6839;&#x65B0;&#x4E0A;&#x7EBF;&#x7684;&#x66F2;&#x7EBF;&#x5206;&#x914D;&#x4E0D;&#x540C;&#x7684;&#x6A21;&#x578B;&#x3002; ROCKA &#x5206;&#x6790;&#x66F2;&#x7EBF;&#x76F8;&#x4F3C;&#x5EA6; &#x817E;&#x8BAF;Metis &#x5BF9;&#x4E8E;&#x5DF2;&#x77E5;&#x7684;&#x6545;&#x969C;&#xFF1A;&#x7EC7;&#x4E91; Metis &#x80FD;&#x591F;&#x7EFC;&#x5408;&#x6545;&#x969C;&#x6570;&#x636E;&#x548C;&#x4EBA;&#x5DE5;&#x7ECF;&#x9A8C;&#x81EA;&#x52A8;&#x63D0;&#x53D6;&#x6545;&#x969C;&#x7279;&#x5F81;&#xFF0C;&#x4EE5;&#x6545;&#x969C;&#x7279;&#x5F81;&#x5E93;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x81EA;&#x52A8;&#x5339;&#x914D;&#x5B9A;&#x4F4D;&#x6545;&#x969C;&#xFF1B; &#x5BF9;&#x4E8E;&#x672A;&#x77E5;&#x573A;&#x666F;&#xFF1A;&#x7EC7;&#x4E91; Metis &#x53EF;&#x6839;&#x636E;&#x6545;&#x969C;&#x7279;&#x5F81;&#x63A8;&#x7B97;&#x51FA;&#x53EF;&#x80FD;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x5E76;&#x5728;&#x4EBA;&#x5DE5;&#x786E;&#x8BA4;&#x540E;&#x52A0;&#x5165;&#x6545;&#x969C;&#x7279;&#x5F81;&#x5E93;&#x3002; &#x7279;&#x5F81;&#xFF1A;&#x63D0;&#x4F9B;&#x4E09;&#x7C7B;&#x65F6;&#x95F4;&#x5E8F;&#x5217;&#x7684;&#x7279;&#x5F81;&#xFF08;&#x7EDF;&#x8BA1;&#x7279;&#x5F81;&#x3001;&#x62DF;&#x5408;&#x7279;&#x5F81;&#x3001;&#x5206;&#x7C7B;&#x7279;&#x5F81;&#xFF09;&#x7528;&#x4E8E;&#x5BF9;&#x65F6;&#x5E8F;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#xFF0C;&#x5728;&#x76D1;&#x7763;&#x5B66;&#x4E60;&#x548C;&#x8BAD;&#x7EC3;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x652F;&#x6301;&#x589E;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x7279;&#x5F81; &#x7B97;&#x6CD5;&#xFF1A; &#x63D0;&#x4F9B;&#x5E38;&#x89C1;&#x7684;&#x51E0;&#x79CD;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x5C01;&#x88C5;&#xFF08;&#x7EDF;&#x8BA1;&#x5224;&#x522B;&#x7B97;&#x6CD5;&#x3001;&#x6307;&#x6570;&#x79FB;&#x52A8;&#x5E73;&#x5747;&#x7B97;&#x6CD5;&#x3001;&#x591A;&#x9879;&#x5F0F;&#x7B97;&#x6CD5;&#x3001;GBDT&#x548C;xgboost&#x7B49;&#xFF09;&#x7528;&#x4E8E;&#x5BF9;&#x5E8F;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8054;&#x5408;&#x4EF2;&#x88C1;&#x68C0;&#x6D4B;&#x3002; &#x767E;&#x5EA6; &#x9608;&#x503C;&#x68C0;&#x6D4B; &#x7A81;&#x5347;&#x7A81;&#x964D;&#x7C7B;&#x7B97;&#x6CD5;&#xFF08;&#x68C0;&#x6D4B;&#x5747;&#x503C;&#x6F02;&#x79FB;&#xFF09; &#x540C;&#x6BD4;&#x7C7B;&#x7B97;&#x6CD5;&#xFF08;&#x5224;&#x65AD;&#x6B63;&#x6001;&#x5206;&#x5E03;&#x7684;&#x5747;&#x503C;&#x4E0E;&#x65B9;&#x5DEE;&#xFF09; &#x53C2;&#x6570;&#x81EA;&#x52A8;&#x914D;&#x7F6E;","categories":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/categories/Security/"}],"tags":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/tags/Security/"}],"author":"刘丰瑞"},{"title":"强化学习(3)","slug":"强化学习/2019-05-29-强化学习(3)","date":"2019-05-28T16:00:00.000Z","updated":"2019-05-29T09:43:28.842Z","comments":true,"path":"2019/05/29/强化学习/2019-05-29-强化学习(3)/","link":"","permalink":"http://www.liufr.com/2019/05/29/强化学习/2019-05-29-强化学习(3)/","excerpt":"","text":"&#x5728;&#x7B56;&#x7565;&#x5B66;&#x4E60;&#x6839;&#x636E;&#x7B56;&#x7565;\\(\\pi\\) &#x4EA7;&#x751F;&#x7684;&#x6837;&#x672C;&#x6765;&#x5B66;&#x4E60;&#x5173;&#x4E8E;\\(\\pi\\)&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6; &#x79BB;&#x7B56;&#x7565;&#x5B66;&#x4E60;&#x6839;&#x636E;&#x53E6;&#x4E00;&#x4E2A;&#x7B56;&#x7565;\\(\\mu\\)&#x4EA7;&#x751F;&#x7684;&#x6837;&#x672C;&#x6765;&#x5B66;&#x4E60;&#x5173;&#x4E8E;\\(\\pi\\)&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;(&#x667A;&#x80FD;&#x4F53;&#x89C2;&#x5BDF;&#x4EBA;&#xFF1B;&#x91CD;&#x590D;&#x5229;&#x7528;&#x65E7;&#x7B56;&#x7565;&#xFF1B;&#x63A2;&#x7D22;&#x6027;&#x7B56;&#x7565;&#x5B66;&#x4E60;&#x6700;&#x4F18;&#x7B56;&#x7565;&#xFF1B;&#x5355;&#x4E00;&#x7B56;&#x7565;&#x53BB;&#x5B66;&#x4E60;&#x591A;&#x4E2A;&#x7B56;&#x7565;) \\(\\epsilon-&#x8D2A;&#x5FC3;&#x63A2;&#x7D22;\\):&#x4EE5;\\(1&#x2212;\\epsilon\\)&#x6982;&#x7387;&#x9009;&#x62E9;&#x8D2A;&#x5FC3;&#x52A8;&#x4F5C; &#x4EE5;\\(\\epsilon\\)&#x6982;&#x7387;&#x968F;&#x673A;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x52A8;&#x4F5C; \\(\\epsilon-&#x8D2A;&#x5FC3;&#x7B56;&#x7565;&#x63D0;&#x5347;\\)&#x7ED9;&#x5B9A;&#x4EFB;&#x610F;\\(\\epsilon\\)-&#x8D2A;&#x5FC3;&#x7B56;&#x7565;\\(\\pi\\), &#x6839;&#x636E; \\(q_{\\pi}\\) &#x6784;&#x9020;&#x51FA;&#x65B0;&#x7684; \\(\\epsilon\\)-&#x8D2A;&#x5FC3;&#x7B56;&#x7565; \\(\\pi&#x2032;\\) &#x5177;&#x6709; &#x66F4;&#x597D;&#x7684;&#x6027;&#x80FD;, &#x5373; \\(v_{\\pi&#x2032;}(s) &#x2265;v_{\\pi}(s)\\) &#x65E0;&#x9650;&#x63A2;&#x7D22;, &#x65E0;&#x7A77;&#x65F6;&#x523B;&#x6536;&#x655B;&#x4E3A;&#x8D2A;&#x5FC3;&#x7B56;&#x7565;&#xFF08;GLIE&#xFF09;&#x7684;&#x542B;&#x4E49;&#x662F;:&#x667A;&#x80FD;&#x4F53;&#x80FD;&#x591F;&#x65E0;&#x9650;&#x6B21;&#x6570;&#x5730;&#x63A2;&#x7D22;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;-&#x52A8;&#x4F5C;&#x5BF9;;&#x7B56;&#x7565;&#x5728;&#x65E0;&#x7A77;&#x65F6;&#x523B;&#x6536;&#x655B;&#x5230;&#x8D2A;&#x5FC3;&#x7B56;&#x7565;&#x3002; GLIE&#x8499;&#x7279;&#x5361;&#x6D1B;&#x63A7;&#x5236;&#xFF1A;&#x80FD;&#x591F;&#x6536;&#x655B;&#x5230;&#x6700;&#x4F18;&#x52A8;&#x4F5C; -&#x4EF7;&#x503C;&#x51FD;&#x6570;, \\(Q(s,a) \\rightarrow q&#x2217;(s,a)\\) &#x4F7F;&#x7528;&#x7B56;&#x7565;\\(\\pi\\)&#x91C7;&#x96C6;&#x7B2C;\\(k\\)&#x6B21;&#x4E8B;&#x4EF6;: \\({S_1,A_1,R_2,...,S_T}&#x223C; \\pi\\) &#x5BF9;&#x4E8B;&#x4EF6;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x72B6;&#x6001; \\(S_t\\) &#x548C;&#x52A8;&#x4F5C; \\(A_t\\):\\(N(S_t,A_t)\\leftarrow N(S_t,A_t)+1;Q(S_t,A_t)\\leftarrow Q(S_t,A_t)+\\frac{1}{N(S_t,A_t)}(G_t-Q(S_t,A_t))\\) &#x57FA;&#x4E8E;&#x65B0;&#x5F97;&#x5230;&#x7684;&#x52A8;&#x4F5C;-&#x4EF7;&#x503C;&#x51FD;&#x6570;&#x5BF9;&#x7B56;&#x7565;&#x8FDB;&#x884C;&#x63D0;&#x5347;\\(\\epsilon \\leftarrow \\frac{1}{k};\\pi \\leftarrow\\epsilon-greedy(Q)\\) Sarsa(S,A,R,S&apos;,A&apos;) &#x57FA;&#x4E8E;&#x6837;&#x672C;&#x7684;TD&#x66F4;&#x65B0; \\(Q(S,A) \\leftarrow Q(S,A) + \\alpha(R+ \\gamma Q(S^&#x2032;,A^&#x2032;)&#x2212;Q(S,A)\\) &#x4EFB;&#x610F;&#x521D;&#x59CB;&#x5316; \\(Q(s,a)\\), &#x4EE4; \\(Q(S_{terminal},\\cdot) = 0\\) repeat {&#x5728;&#x6BCF;&#x6B21;&#x4E8B;&#x4EF6;&#x4E2D;:} &#x521D;&#x59CB;&#x5316; S &#x6839;&#x636E;&#x4ECE; Q &#x63D0;&#x53D6;&#x7684;&#x7B56;&#x7565; (&#x4F8B;&#x5982; \\(\\epsilon\\)-&#x8D2A;&#x5FC3;&#x7B56;&#x7565;) &#x5BF9; S &#x9009;&#x62E9;&#x52A8;&#x4F5C; A repeat {&#x5BF9;&#x4E8B;&#x4EF6;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x65F6;&#x523B;} &#x6267;&#x884C;&#x52A8;&#x4F5C; A, &#x89C2;&#x5BDF; \\(R,S&#x2032;\\) &#x6839;&#x636E;&#x4ECE; Q &#x63D0;&#x53D6;&#x7684;&#x7B56;&#x7565; (&#x4F8B;&#x5982; \\(\\epsilon\\)-&#x8D2A;&#x5FC3;&#x7B56;&#x7565;) &#x5BF9; S&#x2032; &#x9009;&#x62E9;&#x52A8;&#x4F5C; A&#x2032; \\(Q(S,A) \\leftarrow Q(S,A) + \\alpha(R+ \\gamma Q(S^&#x2032;,A^&#x2032;)&#x2212;Q(S,A)\\) \\(S\\leftarrow S^&#x2032;, A\\leftarrow A^&#x2032;\\) until S &#x662F;&#x7EC8;&#x6B62;&#x72B6;&#x6001; until Sarsa vs MC * MC&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x8FBE;&#x5230;&#x7EC8;&#x6B62;&#x72B6;&#x6001;&#xFF08;&#x4F8B;&#x5982;&#x5B66;&#x4E60;&#x5230;&#x5446;&#x5728;&#x539F;&#x5730;&#x4E0D;&#x52A8;&#xFF09; * Sarsa&#x6BCF;&#x4E00;&#x6B65;&#x90FD;&#x5728;&#x5B66;&#x4E60;&#xFF0C;&#x8F6C;&#x5411;&#x5176;&#x4ED6;&#x7B56;&#x7565; &#x4E00;&#x6B65; Sarsa vs Sarsa(\\(\\lambda\\)) * &#x4E00;&#x6B65; Sarsa &#x53EA;&#x5BF9;&#x6700;&#x7EC8;&#x5BFC;&#x81F4;&#x9AD8;&#x5956;&#x52B1;&#x7684;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x52A8;&#x4F5C;&#x5F3A;&#x5316;&#x5B83;&#x7684;&#x4EF7;&#x503C; * &#x8D44;&#x683C;&#x8FF9;&#x65B9;&#x6CD5;&#x80FD;&#x591F;&#x5BF9;&#x4E8B;&#x4EF6;&#x4E2D;&#x7684;&#x591A;&#x4E2A;&#x52A8;&#x4F5C;&#x5F3A;&#x5316;&#x5B83;&#x4EEC;&#x7684;&#x4EF7;&#x503C;,&#x6B65;&#x6570;&#x589E;&#x52A0;&#x5F3A;&#x5316;&#x5E45;&#x5EA6;&#x51CF;&#x5C0F;&#xFF1B;&#x8870;&#x51CF;&#x7387;\\(\\gamma\\lambda\\) Q-&#x5B66;&#x4E60; &#x8003;&#x8651;&#x57FA;&#x4E8E;&#x52A8;&#x4F5C;-&#x4EF7;&#x503C; Q(s,a) &#x7684;&#x79BB;&#x7B56;&#x7565;&#x5B66;&#x4E60; &#x4E0D;&#x518D;&#x4F7F;&#x7528;&#x91CD;&#x8981;&#x6027;&#x91C7;&#x6837; &#x667A;&#x80FD;&#x4F53;&#x4E0B;&#x4E00;&#x65F6;&#x523B;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;&#x662F;&#x7531;&#x884C;&#x4E3A;&#x7B56;&#x7565;&#x4EA7;&#x751F;\\(A_{t+1} &#x223C; \\mu(\\cdot|S_t)\\) &#x4F46;&#x662F;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x8003;&#x8651;&#x7684;&#x662F;&#x7531;&#x53E6;&#x4E00;&#x4E2A;&#x76EE;&#x6807;&#x7B56;&#x7565;&#x4EA7;&#x751F;&#x7684;&#x540E;&#x7EE7;&#x52A8;&#x4F5C; \\(A^&#x2032; &#x223C; \\pi(\\cdot|S_t)\\) &#x66F4;&#x65B0; \\(Q(S_t,A_t)\\) &#x5411;&#x53E6;&#x4E00;&#x4E2A;&#x540E;&#x7EE7;&#x52A8;&#x4F5C;&#x7684;&#x4EF7;&#x503C;&#x903C;&#x8FD1; \\(Q(St,At) \\leftarrow Q(S_t,A_t)+\\alpha(R_{t+1} + \\gamma Q(S_{t+1},A^&#x2032;)&#x2212;Q(S_t,A_t))\\) &#x4EFB;&#x610F;&#x521D;&#x59CB;&#x5316; Q(s,a), &#x4EE4; \\(Q(Sterminal,\\cdot) = 0\\) repeat {&#x5728;&#x6BCF;&#x6B21;&#x4E8B;&#x4EF6;&#x4E2D;:} &#x521D;&#x59CB;&#x5316; S repeat {&#x5BF9;&#x4E8B;&#x4EF6;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x65F6;&#x523B;} &#x6839;&#x636E;&#x4ECE; Q &#x63D0;&#x53D6;&#x7684;&#x7B56;&#x7565; (&#x4F8B;&#x5982; \\(\\epsilon\\)-&#x8D2A;&#x5FC3;&#x7B56;&#x7565;) &#x5BF9; S &#x9009;&#x62E9;&#x52A8;&#x4F5C; A &#x6267;&#x884C;&#x52A8;&#x4F5C; A, &#x89C2;&#x5BDF; R,S&#x2032; \\(Q(St,At) \\leftarrow Q(S_t,A_t)+\\alpha(R_{t+1} + \\gamma Q(S_{t+1},A^&#x2032;)&#x2212;Q(S_t,A_t))\\) \\(S\\leftarrow S^&#x2032;\\) until S &#x662F;&#x7EC8;&#x6B62;&#x72B6;&#x6001; until &#x5BF9;&#x4E8E;&#x60AC;&#x5D16;&#x95EE;&#x9898;&#xFF1A; * Q-&#x5B66;&#x4E60;&#xFF1A;&#x6700;&#x4F18;&#x8DEF;&#x5F84;&#xFF1B;Sarsa&#x5B89;&#x5168;&#x8DEF;&#x5F84;&#xFF08;&#x8003;&#x8651;&#x5230;&#x4E86;&#x968F;&#x673A;&#x63A2;&#x7D22;&#xFF09; * &#x5373;&#x4F7F; Sarsa &#x5B66;&#x5230;&#x7684;&#x5B89;&#x5168;&#x8DEF;&#x5F84;&#x6BD4; Q-&#x5B66;&#x4E60;&#x7684;&#x6700;&#x4F18;&#x8DEF;&#x5F84;&#x884C;&#x8D70;&#x6B65;&#x6570;&#x8981;&#x957F;, &#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x83B7;&#x5F97;&#x7684;&#x5956;&#x52B1;&#x548C;&#x5374;&#x6BD4; Q-&#x5B66;&#x4E60;&#x7684;&#x9AD8; &#x5229;&#x7528;: &#x6839;&#x636E;&#x5F53;&#x524D;&#x7684;&#x4FE1;&#x606F;&#x505A;&#x51FA;&#x6700;&#x4F73;&#x7684;&#x51B3;&#x7B56;&#xFF1B; &#x63A2;&#x7D22;: &#x91C7;&#x6837;&#x66F4;&#x591A;&#x7684;&#x4FE1;&#x606F; &#x60F3;&#x8981;&#x505A;&#x51FA;&#x957F;&#x671F;&#x7684;&#x6700;&#x4F73;&#x51B3; &#x5BF9;&#x4E8E;Q&#x5B66;&#x4E60;&#x6765;&#x8BF4;&#xFF0C;\\(\\epsilon=0\\)&#x5B66;&#x4E60;&#x7ED3;&#x679C;&#x5BB9;&#x6613;&#x9677;&#x5165;&#x5C40;&#x90E8;&#x6700;&#x4F18;&#xFF1B;\\(\\epsilon\\)&#x8FC7;&#x5927;&#x63A2;&#x7D22;&#x6574;&#x4E2A;&#x7A7A;&#x95F4;&#xFF0C;&#x964D;&#x4F4E;&#x56DE;&#x62A5;&#x3002;&#x63A2;&#x7D22;&#x7387;&#x968F;&#x65F6;&#x95F4;&#x8870;&#x51CF; \\(\\epsilon\\)&#x8D2A;&#x5FC3;&#x6839;&#x636E;&#x52A8;&#x4F5C;-&#x4EF7;&#x503C;&#x51B3;&#x5B9A;&#x52A8;&#x4F5C;&#x88AB;&#x9009;&#x4E2D;&#x7684;&#x6982;&#x7387;","categories":[{"name":"RL","slug":"RL","permalink":"http://www.liufr.com/categories/RL/"}],"tags":[{"name":"RL","slug":"RL","permalink":"http://www.liufr.com/tags/RL/"}],"author":"刘丰瑞"},{"title":"强化学习(2)","slug":"强化学习/2019-05-28-强化学习(2)","date":"2019-05-27T16:00:00.000Z","updated":"2019-05-29T03:20:17.186Z","comments":true,"path":"2019/05/28/强化学习/2019-05-28-强化学习(2)/","link":"","permalink":"http://www.liufr.com/2019/05/28/强化学习/2019-05-28-强化学习(2)/","excerpt":"","text":"&#x52A8;&#x6001;&#x89C4;&#x5212; &#x901A;&#x8FC7;&#x628A;&#x539F;&#x95EE;&#x9898;&#x5206;&#x89E3;&#x4E3A;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#x7684;&#x5B50;&#x95EE;&#x9898;&#x6765;&#x6C42;&#x89E3;&#x590D;&#x6742;&#x95EE;&#x9898; &#x9A6C;&#x5C14;&#x53EF;&#x592B;&#x51B3;&#x7B56;&#x8FC7;&#x7A0B;&#x6EE1;&#x8DB3;&#x5982;&#x4E0B;&#x4E24;&#x4E2A;&#x5C5E;&#x6027; * &#x8D1D;&#x5C14;&#x66FC;&#x65B9;&#x7A0B;&#x5177;&#x6709;&#x9012;&#x5F52;&#x5F62;&#x5F0F; * &#x4EF7;&#x503C;&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x4FDD;&#x5B58;&#x548C;&#x91CD;&#x590D;&#x5229;&#x7528; &#x8D1D;&#x5C14;&#x66FC;&#x6700;&#x4F18;&#x65B9;&#x7A0B;&#x5982;&#x4E0B;,&#x5176;&#x96BE;&#x70B9;&#x662F;\\(v_*\\)&#x540C;&#x65F6;&#x5B58;&#x5728;&#x4E8E;&#x7B49;&#x5F0F;&#x5DE6;&#x53F3;&#x4E24;&#x8FB9; \\[ v_*(s)=max_a(R_s^a+\\gamma \\sum_{s&apos;\\in S}P_{ss&apos;}^av_*(s&apos;)) \\] &#x4EF7;&#x503C;&#x8FED;&#x4EE3;&#x7684;&#x57FA;&#x672C;&#x601D;&#x8DEF;: 1. &#x5BF9;\\(v_&#x2217;\\)&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x4F30;&#x8BA1;&#x51FD;&#x6570;\\(v\\) 2. &#x5C06;&#x4F30;&#x8BA1;&#x51FD;&#x6570;&#x4EE3;&#x5165;&#x65B9;&#x7A0B;&#x53F3;&#x8FB9;, &#x7B49;&#x5F0F;&#x5DE6;&#x8FB9;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x51FD;&#x6570;\\(v&#x2032;\\) 3. \\(v&#x2032;\\) &#x662F;&#x5BF9; \\(v_&#x2217;\\) &#x66F4;&#x4E3A;&#x51C6;&#x786E;&#x7684;&#x4F30;&#x8BA1; 4. &#x5C06; \\(v&#x2032;\\) &#x4EE3;&#x5165;&#x53F3;&#x5F0F;&#x7EE7;&#x7EED;&#x4E0A;&#x8FF0;&#x8FC7;&#x7A0B; \\[ v&apos;(s)=max_a(R_s^a+\\gamma \\sum_{s&apos;\\in S}P_{ss&apos;}^av(s&apos;)) \\] &#x4EF7;&#x503C;&#x8FED;&#x4EE3;&#x7B97;&#x5B50;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x4EE5;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x7684;&#x7B97;&#x5B50;\\(\\tau\\), &#x5BF9;&#x7ED9;&#x5B9A;&#x7684;&#x51FD;&#x6570;\\(v_k\\)&#x8BA1;&#x7B97;&#x65B0;&#x7684;&#x51FD;&#x6570; \\(v_{k+1}(s)=[\\tau(v_k)](s)\\),&#x8D1D;&#x5C14;&#x66FC;&#x6700;&#x4F18;&#x65B9;&#x7A0B;&#x5199;&#x6210; \\[ v_*(s)=[\\tau(v_*)](s)=max_a(R_s^a+\\gamma\\sum_{s&apos;\\in S}P_{ss&apos;}^av_*(s&apos;)) \\] \\(\\gamma &lt; 1\\) &#x65F6;, &#x4EF7;&#x503C;&#x8FED;&#x4EE3;&#x7B97;&#x5B50;&#x662F;&#x4E00;&#x4E2A;&#x6536;&#x7F29;&#x7B97;&#x5B50;(\\(||\\tau(f-g)||_{\\infty}&lt;||f-g||\\)) &#x786E;&#x5B9A;&#x6027;&#x7B56;&#x7565;&#xFF1A;&#x4EF7;&#x503C;&#x8FED;&#x4EE3;&#x627E;&#x5230;&#x6700;&#x4F18;&#x7B56;&#x7565;&#xFF1B;&#x968F;&#x673A;&#x6027;&#x7B56;&#x7565;&#xFF1A;&#x673A;&#x5668;&#x4EBA;&#x5728;&#x6240;&#x6709;&#x4F4D;&#x7F6E;&#x4EE5;&#x76F8;&#x540C;&#x7684;&#x6982;&#x7387;&#x5411;&#x5DE6;&#x6216;&#x5411;&#x53F3;&#x3002; &#x7B56;&#x7565;&#x8FED;&#x4EE3;&#xFF1A; &#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x521D;&#x59CB;&#x7B56;&#x7565; &#x3C0;1, k = 1 loop &#x7B56;&#x7565;&#x8BC4;&#x4F30;: &#x5BF9;&#x5F53;&#x524D;&#x7B56;&#x7565; &#x3C0;k &#x8BA1;&#x7B97;&#x5B83;&#x7684;&#x4EF7;&#x503C;&#x51FD;&#x6570; \\(v_{&#x3C0;k}(s) = \\mathbb E[R_{t+1} + \\gamma R_{t+2} + ...|_St = s,A_t &#x223C; &#x3C0;_k(St)] =\\sum_a &#x3C0;_k(a|s)(R^a_{ss&apos;} + \\gamma P^a_{ss&#x2032;}v_{&#x3C0;k}(s&#x2032;))\\) &#x7B56;&#x7565;&#x63D0;&#x5347;: &#x6839;&#x636E; \\(v_{&#x3C0;k}\\) &#x63D0;&#x53D6;&#x51FA;&#x65B0;&#x7684;&#x7B56;&#x7565; \\(&#x3C0;_{k+1}(s) = argmax_{a\\in A}(R^a_s + \\gamma \\sum_{s&#x2032;\\in S} P^a_{ss&#x2032;}v_{&#x3C0;k}(s&#x2032;))\\) k&#x2190;k+ 1 end loop &#x4EF7;&#x503C;&#x8FED;&#x4EE3; vs &#x7B56;&#x7565;&#x8FED;&#x4EE3; &#x4EF7;&#x503C;&#x8FED;&#x4EE3; 1. &#x53EA;&#x5728;&#x6536;&#x655B;&#x5F97;&#x5230; \\(v&#x2217;\\) &#x540E;&#x8BA1;&#x7B97; \\(&#x3C0;&#x2217;\\), &#x4E2D;&#x95F4;&#x8FC7;&#x7A0B;&#x4E0D;&#x4EA7;&#x751F;&#x7B56;&#x7565; 2. &#x6D89;&#x53CA;&#x8D4B;&#x503C;&#x64CD;&#x4F5C;, &#x8BA1;&#x7B97;&#x91CF;&#x5C0F;, \\(O(|S|^2|A|)\\) 3. &#x8FED;&#x4EE3;&#x6B21;&#x6570;&#x591A; &#x7B56;&#x7565;&#x8FED;&#x4EE3; 1. &#x6BCF;&#x6B21;&#x8FED;&#x4EE3;&#x5F00;&#x59CB;&#x65F6;&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A; \\(&#x3C0;\\), &#x7ED3;&#x675F;&#x65F6;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0; \\(&#x3C0;&#x2032;\\) 2. &#x6C42;&#x89E3;&#x65B9;&#x7A0B;, &#x8BA1;&#x7B97;&#x91CF;&#x5927;, &#x77E9;&#x9635;&#x6C42;&#x9006; \\(O(|S|^3)\\), &#x7B56;&#x7565;&#x63D0;&#x5347; \\(O(|S|^2|A|)\\) 3. &#x8FED;&#x4EE3;&#x6B21;&#x6570;&#x5C11; &#x5F02;&#x6B65;&#x52A8;&#x6001;&#x89C4;&#x5212;&#x5BF9;&#x6BCF;&#x4E2A;&#x72B6;&#x6001;&#x5355;&#x72EC;&#x66F4;&#x65B0;&#x4EF7;&#x503C;&#x51FD;&#x6570;&#x503C;, &#x53EF;&#x4EE5;&#x4EE5;&#x4EFB;&#x610F;&#x4E00;&#x79CD;&#x987A;&#x5E8F;&#x9009;&#x62E9;&#x88AB;&#x66F4;&#x65B0;&#x7684;&#x72B6;&#x6001; &#x53EA;&#x5BF9;&#x88AB;&#x9009;&#x4E2D;&#x7684;&#x72B6;&#x6001;&#x66F4;&#x65B0;&#x4EF7;&#x503C;, &#x672A;&#x9009;&#x4E2D;&#x7684;&#x4FDD;&#x6301;&#x4E0D;&#x53D8; &#x5C31;&#x5730;&#x4EF7;&#x503C;&#x8FED;&#x4EE3;&#x53EA;&#x5BF9;&#x6574;&#x4E2A;&#x72B6;&#x6001;&#x96C6;&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x4EF7;&#x503C;&#x51FD;&#x6570;, &#x4F18;&#x5316;&#x52A8;&#x6001;&#x89C4;&#x5212;&#x5BF9;&#x62E5;&#x6709;&#x6700;&#x5927;&#x8D1D;&#x5C14;&#x66FC;&#x8BEF;&#x5DEE;&#x7684;&#x72B6;&#x6001;&#x66F4;&#x65B0;&#x4EF7;&#x503C;&#x3002; &#x5B9E;&#x65F6;&#x52A8;&#x6001;&#x89C4;&#x5212; &#x53EA;&#x8003;&#x8651;&#x4E0E;&#x667A;&#x80FD;&#x4F53;&#x76F4;&#x63A5;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001; &#x7B56;&#x7565;&#x8BC4;&#x4F30;&#x7684;&#x4E0D;&#x8DB3;&#xFF1A;&#x5BF9;&#x6A21;&#x578B;&#x7684;&#x4F9D;&#x8D56;\\(R,P\\)(MDP &#x95EE;&#x9898;&#x7684;&#x6A21;&#x578B;&#x5DF2;&#x77E5;/&#x667A;&#x80FD;&#x4F53;&#x5BF9;&#x73AF;&#x5883;&#x5EFA;&#x6A21;) &#x8499;&#x7279;&#x5361;&#x6D1B;&#x65B9;&#x6CD5;MC MC &#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x4ECE;&#x7ECF;&#x5386;&#x8FC7;&#x7684;&#x4E8B;&#x4EF6;&#x4E2D;&#x5B66;&#x4E60; &#x65E0;&#x6A21;&#x578B;&#x65B9;&#x6CD5;: &#x4E0D;&#x9700;&#x8981; MDP &#x7684;&#x8F6C;&#x79FB;/&#x5956;&#x52B1;&#x51FD;&#x6570; &#x4ECE;&#x5B8C;&#x6574;&#x7684;&#x4E8B;&#x4EF6;&#x4E2D;&#x5B66;&#x4E60;: &#x6CA1;&#x6709;&#x81EA;&#x4E3E; &#x57FA;&#x4E8E;&#x6700;&#x7B80;&#x5355;&#x7684;&#x601D;&#x60F3;: &#x4EF7;&#x503C; = &#x5E73;&#x5747;&#x56DE;&#x62A5; &#x8FD0;&#x884C; MC &#x65B9;&#x6CD5;&#x901A;&#x5E38;&#x8981;&#x6C42;: &#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x90FD;&#x5230;&#x8FBE;&#x7EC8;&#x6B62;&#x72B6;&#x6001;&#x6216;&#x8005;&#x4E8B;&#x4EF6;&#x7684;&#x65F6;&#x5E8F;&#x8DB3;&#x591F;&#x957F; &#x76EE;&#x6807;: &#x4ECE;&#x7B56;&#x7565; \\(\\pi\\) &#x4EA7;&#x751F;&#x7684;&#x4E8B;&#x4EF6;&#x4E2D;&#x5B66;&#x4E60; \\(v_{\\pi}\\) \\(S_1,A_1,R_2,...,S_k &#x223C; \\pi\\) &#x56DE;&#x5FC6;&#x4E0B;&#x56DE;&#x62A5;&#x7684;&#x5B9A;&#x4E49;&#x662F;&#x6240;&#x6709;&#x6298;&#x6263;&#x5956;&#x52B1;&#x548C; \\(G_t = R_{t+1} + \\gamma R_{t+2} +&#xB7;&#xB7;&#xB7;+ \\gamma^{T&#x2212;1}R_t\\) &#x56DE;&#x5FC6;&#x4E0B;&#x4EF7;&#x503C;&#x51FD;&#x6570;&#x7684;&#x5B9A;&#x4E49;&#x662F;&#x56DE;&#x62A5;&#x7684;&#x671F;&#x671B; \\(v_&#x3C0;(s) = \\mathbb E \\pi[G_t|S_t = s]\\) &#x8499;&#x7279;&#x5361;&#x6D1B;&#x7B56;&#x7565;&#x8BC4;&#x4F30;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x56DE;&#x62A5;&#x7684;&#x7ECF;&#x9A8C;&#x5747;&#x503C;&#x4F5C;&#x4E3A;&#x56DE;&#x62A5;&#x7684;&#x671F;&#x671B; &#x6BCF;&#x6B21;&#x7ECF;&#x8FC7;&#x7684; MC &#x7B56;&#x7565;&#x8BC4;&#x4F30; * &#x4E3A;&#x4E86;&#x8BC4;&#x4F30;&#x72B6;&#x6001; s * &#x5BF9;&#x4E00;&#x6B21;&#x4E8B;&#x4EF6;&#x4E2D;&#x6BCF;&#x4E00;&#x6B21;&#x7ECF;&#x8FC7;&#x72B6;&#x6001; s &#x7684;&#x65F6;&#x523B; t * &#x8BA1;&#x6570;&#x52A0;&#x4E00; \\(N(s) \\leftarrow N(s) + 1\\) * &#x5168;&#x90E8;&#x56DE;&#x62A5;&#x76F8;&#x52A0; \\(S(s) \\leftarrow S(s) +G_t\\) * &#x4F30;&#x8BA1;&#x7684;&#x4EF7;&#x503C;&#x7B49;&#x4E8E;&#x56DE;&#x62A5;&#x5747;&#x503C; \\(V(s) = S(s)/N(s)\\) * &#x540C;&#x6837;&#x5F53; \\(N(s) \\rightarrow \\infty\\) &#x65F6;, \\(V(s) \\rightarrow v_&#x3C0;(s)\\) P75 &#x600E;&#x4E48;&#x7B97;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F; MC&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x589E;&#x91CF;&#x8BA1;&#x7B97;\\(V(S_t)\\leftarrow V(S_t)+\\frac{1}{N(S_t)}(G_t-V(S_t))\\) &#x65F6;&#x95F4;&#x5DEE;&#x5206;&#x5B66;&#x4E60;TD TD &#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x4ECE;&#x667A;&#x80FD;&#x4F53;&#x7ECF;&#x5386;&#x7684;&#x4E8B;&#x4EF6;&#x4E2D;&#x5B66;&#x4E60; &#x65E0;&#x6A21;&#x578B;&#x7684;: &#x4E0D;&#x77E5;&#x9053; MDP &#x95EE;&#x9898;&#x7684;&#x8F6C;&#x79FB;&#x548C;&#x5956;&#x52B1;&#x51FD;&#x6570; &#x53EF;&#x4EE5;&#x4ECE;&#x975E;&#x5B8C;&#x6574;&#x7684;&#x4E8B;&#x4EF6;&#x4E2D;&#x5B66;&#x4E60;, &#x501F;&#x52A9;&#x81EA;&#x4E3E;&#x6CD5; &#x6839;&#x636E;&#x4E00;&#x4E2A;&#x731C;&#x6D4B;&#x503C;&#x66F4;&#x65B0;&#x53E6;&#x4E00;&#x4E2A;&#x731C;&#x6D4B;&#x503C; TD&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#xFF1A; * &#x8C03;&#x6574;&#x4EF7;&#x503C; \\((S_t)\\) &#x5411;&#x4F30;&#x8BA1;&#x7684;&#x56DE;&#x62A5; \\(R_{t+1} + \\gamma V(S_{t+1})\\) &#x903C;&#x8FD1; \\(V(S_t) \\leftarrow V(S_t) + &#x3B1;(R_{t+1} + \\gamma V(S_{t+1})&#x2212;V(S_t))\\) * \\(R_{t+1} + \\gamma V(S_{t+1})\\) &#x79F0;&#x4E3A;TD &#x76EE;&#x6807; * \\(\\delta_t = R_{t+1} + \\gamma V(S_{t+1})&#x2212;V(S_t)\\) &#x79F0;&#x4E3A;TD &#x8BEF;&#x5DEE; MC &#x4E0E; TD &#x5BF9;&#x6BD4; * TD &#x53EF;&#x4EE5;&#x5728;&#x667A;&#x80FD;&#x4F53;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x6B65;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#xFF1B; MC &#x9700;&#x8981;&#x5B8C;&#x6574;&#x7684;&#x4E8B;&#x4EF6;&#x5E8F;&#x5217;&#x8BA1;&#x7B97;&#x51FA;&#x56DE;&#x62A5;&#x540E;&#x5B66;&#x4E60; * TD &#x53EF;&#x4EE5;&#x4ECE;&#x4E0D;&#x5B8C;&#x6574;&#x7684;&#x4E8B;&#x4EF6;&#x5E8F;&#x5217;&#x4E2D;&#x5B66;&#x4E60;&#xFF0C; MC &#x8981;&#x6C42;&#x4E8B;&#x4EF6;&#x8FBE;&#x5230;&#x7EC8;&#x6B62;&#x72B6;&#x6001;&#x6216;&#x5E8F;&#x5217;&#x8DB3;&#x591F;&#x957F; * TD &#x662F; &#x4F4E;&#x65B9;&#x5DEE;, &#x6709;&#x504F;&#x5DEE;&#xFF1B;MC &#x662F; &#x9AD8;&#x65B9;&#x5DEE;, &#x96F6;&#x504F;&#x5DEE; * TD &#x80FD;&#x591F;&#x5229;&#x7528;&#x9A6C;&#x5C14;&#x53EF;&#x592B;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x9A6C;&#x5C14;&#x53EF;&#x592B;&#x73AF;&#x5883;&#x4E0B;&#x66F4;&#x6709;&#x6548;&#xFF1B; MC &#x80FD;&#x5229;&#x7528;&#x9A6C;&#x5C14;&#x53EF;&#x592B;&#x6027;&#x56E0;&#x6B64;&#x5728;&#x975E;&#x9A6C;&#x5C14;&#x53EF;&#x592B;&#x73AF;&#x5883;&#x4E0B;&#x66F4;&#x6709;&#x6548;&#xFF08;&#x53EA;&#x8003;&#x8651;reward&#xFF09; P90 AB&#x95EE;&#x9898;&#xFF1A;&#x5047;&#x5982;&#x5E94;&#x7528;MC&#x7B97;&#x6CD5;&#xFF0C;&#x7531;&#x4E8E;&#x9700;&#x8981;&#x5B8C;&#x6574;&#x7684;episode&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x53EA;&#x6709;episode 1 &#x80FD;&#x591F;&#x7528;&#x6765;&#x8BA1;&#x7B97;A&#x7684;&#x72B6;&#x6001;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x663E;&#x7136;&#xFF0C;V(A) = 0&#xFF1B;&#x540C;&#x65F6;B&#x72B6;&#x6001;&#x7684;&#x4EF7;&#x503C;&#x4E3A;6/8&#x3002;&#x800C;&#x5BF9;&#x4E8E;TD&#x7B97;&#x6CD5;&#x6765;&#x8BF4;&#xFF0C;&#x7531;&#x4E8E;&#x72B6;&#x6001;A&#x7684;&#x540E;&#x7EE7;&#x6709;&#x72B6;&#x6001;B&#xFF08;A-&gt;B&#x662F;100%&#xFF1B;B-&gt;1&#x662F;75%&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x72B6;&#x6001;A&#x7684;&#x4EF7;&#x503C;&#x662F;&#x901A;&#x8FC7;&#x72B6;&#x6001;B&#x7684;&#x4EF7;&#x503C;&#x6765;&#x8BA1;&#x7B97;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x6839;&#x636E;&#x4E0A;&#x9762;TD&#x7684;&#x8BA1;&#x7B97;&#x516C;&#x5F0F;&#xFF0C;V(A)=V(B) = 6/8 &#x81EA;&#x4E3E;&#x6CD5; : &#x66F4;&#x65B0;&#x65F6;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x731C;&#x6D4B;&#x91CF;&#xFF1B;&#x91C7;&#x6837;&#x6CD5; : &#x4F7F;&#x7528;&#x91C7;&#x6837;&#x7684;&#x6570;&#x636E;&#x8BA1;&#x7B97;&#x671F;&#x671B; * MC &#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x4E3E;&#xFF0C;&#x4F7F;&#x7528;&#x91C7;&#x6837; * DP &#x4F7F;&#x7528;&#x81EA;&#x4E3E;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;&#x91C7;&#x6837; * TD &#x4F7F;&#x7528;&#x81EA;&#x4E3E;&#xFF0C;&#x4F7F;&#x7528;&#x91C7;&#x6837; \\(\\lambda -&#x56DE;&#x62A5;\\)&#xFF1A; &#x6BCF;&#x9879;&#x7684;&#x6743;&#x91CD;\\((1-\\lambda)\\lambda^{n-1}\\)&#x524D;&#x5411;&#x66F4;&#x65B0; \\[ G_t^{\\lambda}=(1-\\lambda)\\sum_{n=1}^{\\infty}\\lambda^{n-1}G_t^{(n)}\\\\ V(S_t)\\leftarrow V(S_t)+\\alpha(G_t^{\\lambda}-V(S_t)) \\] &#x8D44;&#x683C;&#x8FF9;&#xFF1A;&#x53D7;&#x9891;&#x7387;&#x542F;&#x53D1;&#xFF1B;&#x53D7;&#x8FD1;&#x56E0;&#x542F;&#x53D1;&#xFF08;&#x4E8C;&#x8005;&#x7ED3;&#x5408;&#xFF09;&#x66F4;&#x65B0;&#x91CF;&#x4E0E; TD &#x8BEF;&#x5DEE; &#x548C;&#x8D44;&#x683C;&#x8FF9; \\(E_t(s)\\) &#x5448;&#x6B63;&#x6BD4; &#x540E;&#x5411;&#x66F4;&#x65B0; \\[ \\delta_t = R_{t+1}+\\gamma V(S_{t+1})-V(S_t)\\\\ V(s)\\leftarrow V(s) + \\alpha\\delta_tE_t(s) \\] TD(1) &#x5927;&#x81F4;&#x7B49;&#x4EF7;&#x4E8E;&#x6BCF;&#x6B21;&#x7ECF;&#x8FC7;&#x7684; MC &#x65B9;&#x6CD5;,&#x8BEF;&#x5DEE;&#x4F1A;&#x968F;&#x5728;&#x7EBF;&#x8FD0;&#x884C;&#x9010;&#x6B65;&#x7D2F;&#x79EF;,&#x5982;&#x679C;&#x4EF7;&#x503C;&#x51FD;&#x6570;&#x53EA;&#x5728;&#x4E8B;&#x4EF6;&#x7ED3;&#x675F;&#x65F6;&#x79BB;&#x7EBF;&#x66F4;&#x65B0;, &#x90A3;&#x4E48;&#x6240;&#x6709;&#x7684;&#x66F4;&#x65B0;&#x91CF;&#x7B49;&#x540C;&#x4E8E; MC &#x65B9;&#x6CD5;","categories":[{"name":"RL","slug":"RL","permalink":"http://www.liufr.com/categories/RL/"}],"tags":[{"name":"RL","slug":"RL","permalink":"http://www.liufr.com/tags/RL/"}],"author":"刘丰瑞"},{"title":"强化学习(1)","slug":"强化学习/2019-05-27-强化学习(1)","date":"2019-05-26T16:00:00.000Z","updated":"2019-05-29T07:30:49.759Z","comments":true,"path":"2019/05/27/强化学习/2019-05-27-强化学习(1)/","link":"","permalink":"http://www.liufr.com/2019/05/27/强化学习/2019-05-27-强化学习(1)/","excerpt":"","text":"&#x5F3A;&#x5316;&#x5B66;&#x4E60;&#x8003;&#x8651;&#x7684;&#x662F;&#x5E8F;&#x8D2F;&#x51B3;&#x7B56;&#x8FC7;&#x7A0B;(&#x667A;&#x80FD;&#x4F53;&#x5904;&#x5728;&#x7279;&#x5B9A;&#x7684;&#x73AF;&#x5883;&#x4E2D;&#x4EA7;&#x751F;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x52A8;&#x4F5C;&#xFF0C;&#x800C;&#x73AF;&#x5883;&#x80FD;&#x591F;&#x6839;&#x636E;&#x8FD9;&#x4E9B;&#x52A8;&#x4F5C;&#x6539;&#x53D8;&#x667A;&#x80FD;&#x4F53;&#x7684;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x3002;) &#x6839;&#x636E;&#x73AF;&#x5883;&#x53CD;&#x9988;&#x7684;&#x5956;&#x52B1;&#xFF0C;&#x8C03;&#x6574;&#x667A;&#x80FD;&#x4F53;&#x7684;&#x884C;&#x4E3A;&#x7B56;&#x7565;&#xFF0C;&#x63D0;&#x5347;&#x667A;&#x80FD;&#x4F53; &#x5B9E;&#x73B0;&#x76EE;&#x6807;&#x7684;&#x80FD;&#x529B;&#x3002; &#x5F3A;&#x5316;&#x5B66;&#x4E60;&#x662F;&#x57FA;&#x4E8E;&#x5956;&#x52B1;&#x5047;&#x8BBE;&#xFF1A;&#x6240;&#x6709;&#x7684;&#x76EE;&#x6807;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6700;&#x5927;&#x5316;&#x671F;&#x671B;&#x7D2F;&#x52A0;&#x5956;&#x52B1;&#x5B9E;&#x73B0; &#x5F3A;&#x5316;&#x5B66;&#x4E60; &#x76D1;&#x7763;/&#x975E;&#x76D1;&#x7763;&#x5B66;&#x4E60; &#x4EA7;&#x751F;&#x7684;&#x7ED3;&#x679C;&#x80FD;&#x591F;&#x6539;&#x53D8;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03; &#x4EA7;&#x751F;&#x7684;&#x7ED3;&#x679C; (&#x8F93;&#x51FA;) &#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03; &#x6700;&#x7EC8;&#x7684;&#x76EE;&#x6807;&#x53EF;&#x80FD;&#x8981;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#x624D;&#x80FD;&#x89C2;&#x5BDF;&#x5230; &#x7ED3;&#x679C;&#x662F;&#x77AC;&#x65F6;&#x7684; &#x6CA1;&#x6709;&#x660E;&#x786E;&#x7684;&#x6807;&#x7B7E;&#x6570;&#x636E; &#x8981;&#x4E48;&#x6709;&#x660E;&#x786E;&#x7684;&#x6807;&#x7B7E;&#x6570;&#x636E; (SL) &#x6839;&#x636E;&#x5F53;&#x524D;&#x7684;&#x5956;&#x52B1;&#xFF0C;&#x5B9E;&#x73B0;&#x957F;&#x8FDC;&#x7684;&#x76EE;&#x6807; &#x8981;&#x4E48;&#x5B8C;&#x5168;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6807;&#x7B7E;&#x6570;&#x636E; (USL) &#x9A6C;&#x5C14;&#x79D1;&#x592B;&#x6027;(RL&#x4E3B;&#x8981;&#x7814;&#x7A76;&#x7684;&#x95EE;&#x9898;) &#x667A;&#x80FD;&#x4F53;&#x672A;&#x6765;&#x7684;&#x72B6;&#x6001;&#x53EA;&#x4E0E;&#x5F53;&#x524D;&#x65F6;&#x523B;&#x7684;&#x72B6;&#x6001;\\(S_t\\)&#x6709;&#x5173;, &#x800C;&#x4E0E;&#x8FC7;&#x53BB;&#x7684;&#x72B6;&#x6001;\\({S_1,...,S_{t&#x2212;1}}\\) &#x65E0;&#x5173;&#xFF0C;&#x90A3;&#x4E48;&#x79F0;&#x667A;&#x80FD;&#x4F53;&#x7684;&#x6A21;&#x578B;&#x5177;&#x6709;&#x9A6C;&#x5C14;&#x53EF;&#x592B;&#x6027;&#x3002; &#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x9A6C;&#x5C14;&#x53EF;&#x592B;&#x72B6;&#x6001; \\(s\\) &#x548C;&#x540E;&#x7EE7;&#x72B6;&#x6001; \\(s&#x2032;\\)&#xFF0C;&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x6982;&#x7387;&#x5B9A;&#x4E49;&#x4E3A;\\(P_{ss&apos;} = \\mathbb{P}[S_{t+1}=s&apos;|S_t=s]\\),&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x77E9;&#x9635;&#x5B9A;&#x4E49;&#x4E3A; \\[ P = from\\begin{bmatrix} P_{11}&amp;...&amp;P_{1n} \\\\ ... &amp; \\\\ P_{n1} &amp;... &amp; P_{nn} \\end{bmatrix} \\] &#x5176;&#x4E2D;&#x77E9;&#x9635;&#x7684;&#x6BCF;&#x4E00;&#x884C;&#x548C;&#x5747;&#x4E3A;1&#x3002; markov &#x9A6C;&#x5C14;&#x79D1;&#x592B;&#x5956;&#x52B1;&#x8FC7;&#x7A0B;=&#x9A6C;&#x5C14;&#x79D1;&#x592B;&#x94FE;+&#x5956;&#x52B1;&#xFF08;\\(&lt;S,P,R,\\gamma&gt;\\),\\(S\\)&#x6709;&#x9650;&#x72B6;&#x6001;&#x96C6;\\(P\\)&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x6982;&#x7387;&#x77E9;&#x9635;\\(R\\)&#x5956;&#x52B1;&#x51FD;&#x6570;\\(\\gamma\\)&#x6298;&#x6263;&#x56E0;&#x5B50;&#xFF09; &#x56DE;&#x62A5;\\(G_t = R_{t+1}+\\gamma R_{t+2}+... = \\sum_{k=0}^\\infty \\gamma^kR_{t+k+1}\\)&#xFF0C;&#x8FD9;&#x79CD;&#x5B9A;&#x4E49;&#x5F62;&#x5F0F;&#x66F4;&#x91CD;&#x89C6;&#x8FD1;&#x671F;&#x7684;&#x5956;&#x52B1;&#xFF0C;&#x5FFD;&#x89C6;&#x8FDC;&#x671F;&#x7684;&#x5956;&#x52B1;&#xFF0C;&#x4E14;\\(\\lambda\\)&#x8D8A;&#x5927;&#x56DE;&#x62A5;&#x8D8A;&#x957F;&#x8FDC;&#x3002; &#x72B6;&#x6001;&#x4EF7;&#x503C;&#x51FD;&#x6570; &#x7B49;&#x4E8E;&#x4ECE;&#x72B6;&#x6001;s&#x51FA;&#x53D1;&#x7684;&#x671F;&#x671B;&#x56DE;&#x62A5; \\(v(s)=\\mathbb{E}[G_t|S_t=s]\\)&#xFF0C;&#x5206;&#x4E3A;&#x77AC;&#x95F4;&#x5956;&#x52B1;\\(R_{t+1}\\)&#x4EE5;&#x53CA;&#x540E;&#x7EED;&#x72B6;&#x6001;&#x7684;&#x6298;&#x6263;&#x4EF7;&#x503C;\\(\\lambda v(S_{t+1})\\) \\[ v(s) = \\mathbb{E}[G_t|S_t=s] =\\mathbb{E}[R_{t+1}+\\lambda v(S_{t+1})|S_t=s]\\\\ v(s) = R_s + \\gamma \\sum_{s&apos;\\in S}P_{ss&apos;}v(s&apos;) \\] &#x77E9;&#x9635;&#x5F62;&#x5F0F;&#x7684;&#x8D1D;&#x5C14;&#x66FC;&#x65B9;&#x7A0B; \\[ v = R + \\lambda Pv; v=(I-\\lambda P)^{-1}R \\] &#x9A6C;&#x5C14;&#x53EF;&#x592B;&#x51B3;&#x7B56;&#x8FC7;&#x7A0B;\\(&lt;S,A,P,R,\\lambda&gt;\\)(A&#x6709;&#x9650;&#x52A8;&#x4F5C;&#x96C6;) &#x4E00;&#x4E2A;&#x5F3A;&#x5316;&#x5B66;&#x4E60;&#x7684;&#x667A;&#x80FD;&#x4F53;&#x53EF;&#x80FD;&#x5305;&#x62EC;&#x5982;&#x4E0B;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5143;&#x7D20; * &#x786E;&#x5B9A;&#x6027;/&#x968F;&#x673A;&#x6027;&#x7B56;&#x7565;&#xFF1A;&#x667A;&#x80FD;&#x4F53;&#x7684;&#x884C;&#x4E3A;(&#x72B6;&#x6001;&#x5230;&#x52A8;&#x4F5C;&#x7684;&#x6620;&#x5C04;)&#xFF0C;&#x4E0E;&#x5386;&#x53F2;&#x65E0;&#x5173;&#xFF0C;&#x9759;&#x6001;&#x6027;\\(A_t\\sim\\pi(\\cdot|S_t),\\forall t&gt;0\\) * &#x4EF7;&#x503C;&#x51FD;&#x6570;&#xFF08;&#x503C;&#x51FD;&#x6570;&#x3001;&#x6027;&#x80FD;&#x6307;&#x6807;&#x51FD;&#x6570;&#xFF09;&#xFF1A;&#x667A;&#x80FD;&#x4F53;&#x5728;&#x67D0;&#x4E00;&#x72B6;&#x6001;&#x548C;/&#x6216;&#x67D0;&#x4E00;&#x52A8;&#x4F5C;&#x65F6;&#x662F;&#x597D;&#x8FD8;&#x662F;&#x574F; * &#x6A21;&#x578B;&#xFF1A;&#x667A;&#x80FD;&#x4F53;&#x5BF9;&#x771F;&#x5B9E;&#x73AF;&#x5883;&#x7684;&#x4F30;&#x8BA1;&#xFF0C;&#x9884;&#x6D4B;&#x4E0B;&#x4E00;&#x65F6;&#x523B;&#x7684;&#x72B6;&#x6001;\\(P_{ss&apos;}^a\\)&#x548C;&#x5956;&#x52B1;\\(R_s^a\\) &#x7B56;&#x7565; &#xFF1A; &#x72B6;&#x6001;&#x5230;&#x52A8;&#x4F5C;&#x7684;&#x4E00;&#x79CD;&#x5206;&#x5E03;\\(\\pi (a|s)=\\mathbb{P}[A_t=a|S_t=s]\\),&#x9A6C;&#x5C14;&#x79D1;&#x592B;&#x5956;&#x52B1;&#x8FC7;&#x7A0B;\\(&lt;S,P^{\\pi},R^{\\pi},\\lambda&gt;,P_{ss&apos;}^{\\pi} = \\sum_{a\\in A}\\pi (a|s)P_{ss&apos;}^a,R_s^{\\pi}=\\sum_{a\\in A}\\pi(a|s)R_s^a\\) &#x72B6;&#x6001;-&#x4EF7;&#x503C;&#x51FD;&#x6570; &#x4ECE;&#x72B6;&#x6001;s&#x51FA;&#x53D1;, &#x5728;&#x7B56;&#x7565; \\(\\pi\\) &#x4F5C;&#x7528;&#x4E0B;&#x7684;&#x671F;&#x671B;&#x56DE;&#x62A5;\\(v_{\\pi}(s)=\\mathbb{E}_\\pi[G_t|S_t=s]\\) &#x52A8;&#x4F5C;-&#x4EF7;&#x503C;&#x51FD;&#x6570; &#x4ECE;&#x72B6;&#x6001;s&#x51FA;&#x53D1;, &#x9996;&#x5148;&#x6267;&#x884C;&#x52A8;&#x4F5C; a, &#x7136;&#x540E;&#x5728;&#x7B56;&#x7565;\\(\\pi\\)&#x4F5C;&#x7528;&#x4E0B;&#x7684;&#x671F;&#x671B;&#x56DE;&#x62A5;\\(q_\\pi(s,a)=\\mathbb E_{\\pi}[G_t|S_t=s,A_t=a]\\) &#x6700;&#x4F18;&#x4EF7;&#x503C;&#x51FD;&#x6570;(&#x667A;&#x80FD;&#x4F53;&#x5728;MDP&#x95EE;&#x9898;&#x4E0B;&#x6700;&#x597D;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x8868;&#x793A;&#x8BE5;&#x95EE;&#x9898;&#x53EF;&#x89E3;) &#x6700;&#x4F18;&#x72B6;&#x6001;-&#x4EF7;&#x503C;&#x51FD;&#x6570;&#x5728;&#x6240;&#x6709;&#x7B56;&#x7565;&#x4E2D;&#x4EF7;&#x503C;&#x6700;&#x5927;&#x7684;\\(v_*(s)=max_{\\pi}v_{\\pi}(s)\\) &#x6700;&#x4F18;&#x52A8;&#x4F5C;-&#x4EF7;&#x503C;&#x51FD;&#x6570;&#x5728;&#x6240;&#x6709;&#x7B56;&#x7565;&#x4E2D;&#x52A8;&#x4F5C;&#x4EF7;&#x503C;&#x51FD;&#x6570;&#x6700;&#x5927;&#x7684;\\(q_*(s,a)=max_{\\pi}q_{\\pi}(s,a)\\) &#x603B;&#x662F;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x6700;&#x4F18;&#x7B56;&#x7565;&#xFF0C;&#x901A;&#x8FC7;&#x6700;&#x5927;&#x5316;\\(q_*(s,a)\\)&#x6765;&#x786E;&#x5B9A; \\[ \\pi_*(a|s)\\left\\{\\begin{matrix} 1 &amp; if\\ a=argmax_{a\\in A}q_*(s,a)\\\\ 0 &amp; otherwise \\end{matrix}\\right. \\] &#x5F3A;&#x5316;&#x5B66;&#x4E60;&#x76EE;&#x6807;&#x662F;&#x627E;&#x5230;&#x4E00;&#x7EC4;&#x65F6;&#x95F4;&#x5E8F;&#x5217;&#x7684;&#x52A8;&#x4F5C;\\(\\{A_0,A_1,...\\}\\)&#xFF0C;&#x4F7F;&#x5F97;&#x667A;&#x80FD;&#x4F53;&#x4ECE;\\(S_0\\)&#x51FA;&#x53D1;&#x5F97;&#x5230;&#x7684;&#x671F;&#x671B;&#x7D2F;&#x52A0;&#x5956;&#x52B1;&#x6700;&#x5927;&#x5316;\\(v*(s_0)=\\mathbb E[max_{A_0,A_1,...}(R_1+\\lambda R_2+\\lambda^2R_3...)]\\) &#x6700;&#x4F18;&#x7B56;&#x7565;&#x6027;&#x8D28;&#xFF1A;&#x4EE5;&#x7B2C;&#x4E00;&#x6B65;&#x51B3;&#x7B56;&#x6240;&#x5F62;&#x6210;&#x7684;&#x9636;&#x6BB5;&#x548C;&#x72B6;&#x6001;&#x4F5C;&#x4E3A;&#x521D;&#x59CB;&#x6761;&#x4EF6;&#x6765; &#x8003;&#x8651;&#x65F6;&#xFF0C;&#x4F59;&#x4E0B;&#x7684;&#x51B3;&#x7B56;&#x5BF9;&#x4F59;&#x4E0B;&#x7684;&#x95EE;&#x9898;&#x800C;&#x8A00;&#x4E5F;&#x5FC5;&#x6784;&#x6210;&#x6700;&#x4F18;&#x7B56;&#x7565;","categories":[{"name":"RL","slug":"RL","permalink":"http://www.liufr.com/categories/RL/"}],"tags":[{"name":"RL","slug":"RL","permalink":"http://www.liufr.com/tags/RL/"}],"author":"刘丰瑞"},{"title":"大规模机器学习","slug":"数据挖掘/2018-12-05-大规模机器学习","date":"2018-12-04T16:00:00.000Z","updated":"2018-12-05T06:43:36.680Z","comments":true,"path":"2018/12/05/数据挖掘/2018-12-05-大规模机器学习/","link":"","permalink":"http://www.liufr.com/2018/12/05/数据挖掘/2018-12-05-大规模机器学习/","excerpt":"","text":"&#x767E;&#x4E07;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x636E;&#x6837;&#x672C;&#xFF1A;&#x6307;&#x6570;&#x7EA7;&#x522B;&#x7684;&#x7B97;&#x6CD5;&#x57FA;&#x672C;&#x544A;&#x522B;&#x4E86; &#x5341;&#x4EBF;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x636E;&#x6837;&#x672C;&#xFF1A;&#x5F00;&#x59CB;&#x8003;&#x8651;&#x5206;&#x5E03;&#x5F0F;&#x5B58;&#x50A8; &#x4E07;&#x4EBF;&#x7EA7;&#x522B;&#x7684;\b&#x6570;&#x636E;&#x6837;&#x672C;&#xFF1A;&#x65E0;&#x6CD5;&#x5F97;&#x77E5;&#x6570;&#x636E;&#x5168;&#x8C8C;&#xFF0C;&#x91C7;&#x7528;Peer-to-peer&#xFF08;&#x673A;&#x5668;&#x5904;&#x7406;&#x672C;&#x5730;&#x7684;&#x6570;&#x636E;&#x65E0;&#x603B;&#x63A7;&#xFF09; &#x7406;&#x89E3;&#x673A;&#x5668;&#x5B66;&#x4E60; &#x4ECE;&#x4F18;&#x5316;&#x7684;&#x89D2;&#x5EA6;&#x770B;&#x673A;&#x5668;&#x5B66;&#x4E60; \\[ \\arg max_{\\vec{\\theta}} \\equiv \\mathcal{L}(\\{x_i,y_i\\}_{i=1}^N;\\vec{\\theta})+ \\Omega(\\vec{\\theta}) \\] &#x5176;&#x4E2D;\\(\\mathcal{L}\\)&#x662F;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#xFF08;&#x7ECF;&#x9A8C;&#x98CE;&#x9669;&#xFF09;&#xFF0C;\\(x_i,y_i\\)&#x4EE3;&#x8868;&#x7684;&#x662F;&#x6570;&#x636E;&#xFF0C;\\(N\\)&#x662F;&#x6570;&#x636E;&#x89C4;&#x6A21;&#xFF0C;\\(\\vec{\\theta}\\)&#x4EE3;&#x8868;&#x53C2;&#x6570;&#xFF08;&#x7ED3;&#x6784;&#x98CE;&#x9669;&#xFF09;&#xFF0C;&#x6709;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6709;&#x504F;&#x4F30;&#x8BA1;&#xFF0C;&#x65B9;&#x5DEE;&#x5C0F;&#xFF0C;&#x6709;&#x66F4;&#x597D;&#x7684;&#x6CDB;&#x5316;&#x80FD;&#x529B;&#x3002;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x8FED;&#x4EE3;\b&#x6C42;&#x89E3;&#xFF1A; \\[ \\vec{\\theta}^{t+1}=g(\\vec{\\theta}^t,\\Delta_f \\vec{theta}(\\mathcal{D})) \\] &#x5176;&#x4E2D;&#x540E;&#x4E00;&#x9879;&#x4E3A;&#x6A21;&#x578B;&#x53C2;&#x6570;&#x7684;&#x68AF;&#x5EA6;&#x8BA1;&#x7B97;&#xFF0C;&#x7528;&#x4E8E;&#x8FED;&#x4EE3;&#x4E0E;&#x4FEE;&#x6B63;&#xFF0C;&#x68AF;&#x5EA6;&#x5982;&#x679C;&#x5404;&#x9879;&#x72EC;&#x7ACB;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x5E76;&#x884C;&#xFF0C;\b&#x5373;&#x6BCF;&#x53F0;&#x7535;&#x8111;&#x53EF;&#x4EE5;&#x7B97;&#x672C;&#x5730;&#x7684;&#xFF0C;&#x7136;&#x540E;&#x591A;&#x53F0;&#x673A;&#x5668;&#x5408;&#x5E76;&#xFF0C;&#x663E;&#x800C;&#x6613;&#x89C1;&#x7684;&#x662F;&#x6A21;&#x578B;&#x5E76;&#x884C;&#x6570;&#x636E;&#x4E00;&#x5B9A;&#x5E76;&#x884C;&#x3002; &#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x4E0E;&#x53C2;&#x6570;&#x90FD;&#x662F;&#x7A00;&#x758F;&#x7684;&#xFF0C;&#x53EA;&#x62C9;&#x5165;&#x5FC5;&#x8981;&#x7684;&#x53C2;&#x6570;&#x5373;&#x53EF;&#xFF0C;&#x5373;&#x4F7F;&#x53C2;&#x6570;&#x6709;&#x8BEF;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x6700;&#x540E;&#x6536;&#x655B;&#x3002; &#x53C2;&#x6570;&#x66F4;&#x65B0;&#x65B9;&#x6848; &#x540C;&#x6B65;&#x66F4;&#x65B0; \b&#x540C;&#x6B65;&#x66F4;&#x65B0;&#x7279;&#x70B9; &#x8BBE;&#x7F6E;&#x540C;&#x6B65;&#x70B9;&#xFF0C;&#x901A;&#x5E38;&#x6BCF;&#x4E00;&#x8F6E;&#x8FED;&#x4EE3;&#x81F3;&#x5C11;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x70B9; &#x540C;&#x6B65;&#x70B9;&#x7B49;&#x5019;&#x6240;&#x6709;&#x8282;&#x70B9;&#x5B8C;&#x6210;&#x4EFB;&#x52A1;&#xFF0C;&#x7EDF;&#x4E00;&#x66F4;&#x65B0;&#x53C2;&#x6570; &#x66F4;&#x65B0;&#x540E;&#x8FDB;&#x5165;&#x4E0B;&#x4E00;&#x8F6E;&#x8FED;&#x4EE3; &#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x6A21;&#x62DF;&#x5E8F;&#x5217;&#x8BA1;&#x7B97; &#x4E0E;&#x5E8F;&#x5217;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x57FA;&#x672C;&#x4E00;&#x81F4; &#x4E0E;&#x5E8F;&#x5217;&#x8BA1;&#x7B97;&#x5177;&#x6709;&#x540C;&#x6837;&#x7684;&#x7406;&#x8BBA;&#x4FDD;&#x969C; \b&#x540C;&#x6B65;&#x66F4;&#x65B0;&#x7F3A;&#x70B9; &#x4F4E;&#x6548; &#x7F51;&#x7EDC;&#x901F;&#x5EA6;&#x6162;&#xFF0C;&#x5EF6;&#x8FDF;&#x5927; &#x914D;&#x7F6E;&#x76F8;&#x540C;&#x7684;&#x673A;&#x5668;&#x8BA1;&#x7B97;&#x901F;&#x5EA6;&#x4E0D;&#x4E00;&#x81F4;&#x5BFC;&#x81F4;&#x7B49;&#x5F85; &#x4E0E;&#x673A;&#x5668;&#x7684;&#x5373;&#x65F6;&#x72B6;&#x6001;&#x6709;&#x5173; &#x4E0E;&#x9700;&#x8981;&#x5904;&#x7406;&#x7684;&#x6570;&#x636E;&#x6709;&#x5173; &#x5F02;&#x6B65;&#x66F4;&#x65B0; \b&#x5F02;&#x6B65;&#x66F4;&#x65B0;&#x7F3A;&#x70B9; &#x672C;&#x5730;&#x6570;&#x636E;&#x4E0D;&#x5168;&#x9762;&#xFF1A;&#x5355;&#x4E2A;&#x8282;&#x70B9;&#x53EA;&#x6709;&#x90E8;&#x5206;&#x6570;&#x636E;&#xFF0C;&#x72EC;&#x7ACB;&#x66F4;&#x65B0;&#x53C2;&#x6570;&#x4ECE;&#x603B;&#x4F53;&#x770B;&#x7ED3;&#x679C;&#x4E0D;&#x6B63;&#x786E; &#x4E0D;&#x540C;&#x7684;&#x673A;&#x5668;&#x6267;&#x884C;&#x7684;&#x66F4;&#x65B0;&#x6B21;&#x6570;&#x6709;&#x5F88;&#x5927;&#x7684;&#x5DEE;&#x5F02; &#x53C2;&#x6570;&#x4E92;&#x76F8;&#x4F9D;&#x8D56;&#xFF1A;&#x4E0B;&#x4E00;&#x8F6E;&#x7684;&#x68AF;&#x5EA6;&#x8BA1;&#x7B97;&#x53EF;&#x80FD;&#x4F9D;&#x8D56;&#x4E0A;&#x4E00;&#x8F6E;&#x6240;&#x6709;&#x7684;&#x6B63;&#x786E;&#x53C2;&#x6570;&#x503C; &#x53C2;&#x6570;&#x8FC7;&#x671F;&#xFF1A;&#x672C;&#x8F6E;&#x66F4;&#x65B0;&#x7684;&#x53C2;&#x6570;&#x7684;&#x68AF;&#x5EA6;&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x7684;&#x53C2;&#x6570;&#x7684;&#x68AF;&#x5EA6; &#x534A;&#x540C;&#x6B65;&#x66F4;&#x65B0; \b&#x534A;&#x540C;&#x6B65;&#x66F4;&#x65B0;&#x7279;&#x70B9; &#x8BBE;&#x7F6E;&#x6267;&#x884C;&#x6700;&#x5FEB;&#x548C;&#x6700;&#x6162;&#x7684;&#x8282;&#x70B9;&#x95F4;&#x8F6E;&#x6570;&#x7684;&#x6700;&#x5927;&#x5DEE;&#x5F02; &#x6BD4;&#x540C;&#x6B65;&#x5757;&#xFF0C;&#x6BD4;&#x5F02;&#x6B65;&#x51C6;&#x786E;","categories":[{"name":"Data mining","slug":"Data-mining","permalink":"http://www.liufr.com/categories/Data-mining/"}],"tags":[{"name":"Data mining","slug":"Data-mining","permalink":"http://www.liufr.com/tags/Data-mining/"}],"author":"刘丰瑞"},{"title":"互联网搜索与排序","slug":"数据挖掘/2018-12-05-互联网搜索与排序","date":"2018-12-04T16:00:00.000Z","updated":"2018-12-09T09:12:43.520Z","comments":true,"path":"2018/12/05/数据挖掘/2018-12-05-互联网搜索与排序/","link":"","permalink":"http://www.liufr.com/2018/12/05/数据挖掘/2018-12-05-互联网搜索与排序/","excerpt":"","text":"&#x5411;&#x91CF;&#x7A7A;&#x95F4;&#x6A21;&#x578B;&#xFF08;VSM&#xFF09; &#x5C06;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x8FBE;&#x4E3A;&#x5E26;&#x6743;&#x91CD;&#x7684;tf-idf&#x5411;&#x91CF;(&#x67E5;&#x8BE2;&#x5411;&#x91CF;) &#x7C7B;&#x4F3C;,&#x5C06;&#x6587;&#x6863;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x8FBE;&#x4E3A;&#x5E26;&#x6743;&#x91CD;tf-idf&#x5411;&#x91CF;(&#x6587;&#x6863;&#x5411;&#x91CF;) &#x8BA1;&#x7B97;&#x67E5;&#x8BE2;&#x67E5;&#x8BE2;&#x5411;&#x91CF;&#x548C;&#x6587;&#x6863;&#x5411;&#x91CF;&#x7684;&#x4F59;&#x5F26;&#x76F8;&#x4F3C;&#x5EA6; &#x5C06;&#x6587;&#x6863;&#x6309;&#x7167;&#x5176;&#x4E0E;&#x67E5;&#x8BE2;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x5206;&#x503C;&#x4ECE;&#x5927;&#x5230;&#x5C0F;&#x8FDB;&#x884C;&#x6392;&#x5E8F; &#x8FD4;&#x56DE;&#x524D;K&#x4E2A;(e.g.,K=10)&#x6587;&#x6863;&#x5E76;&#x5C55;&#x793A;&#x7ED9;&#x7528;&#x6237; tf-idf &#x8861;&#x91CF;&#x67D0;&#x4E00;&#x4E2A;&#x8BCD;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x91CD;&#x8981;&#x6027; tf(w,d):term frequency &#x8BCD;w&#x5728;d&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#xFF0C;tf&#x503C;&#x8D8A;&#x5927;&#xFF0C;w&#x5728;&#x6587;&#x6863;d&#x4E2D;&#x8D8A;&#x91CD;&#x8981;&#x3002; df(w): document frequency \b&#x6574;&#x4E2A;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#xFF0C;&#x5305;&#x542B;w&#x6587;&#x6863;&#x7684;&#x4E2A;&#x6570;&#xFF0C;df&#x8D8A;&#x5927;&#xFF0C;w&#x8D8A;&#x4E0D;&#x91CD;&#x8981;&#x3002; idf(w): inverse document frequency \\(idf = log \\frac{N}{df}\\) &#x5176;&#x4E2D;N&#x4E3A;&#x6587;&#x6863;&#x96C6;&#x7684;&#x4E2A;&#x6570; tf-idf(w,d) = tf(w,d)*idf(w) BM25(\bBest match 25) \\[ BM25 = \\sum_{i \\in q} \\log\\frac{N}{df_i} \\cdot \\frac{(k_1+1)tf_i}{k_1((1-b)+b\\frac{dl}{avdl})+tf_i} \\] avgdl:&#x96C6;&#x5408;&#x4E2D;&#x5E73;&#x5747;&#x6587;&#x6863;&#x957F;&#x5EA6; \\(k_1\\):&#x63A7;&#x5236;&#x56E0;\\(tf\\)&#x7684;&#x589E;&#x5927;&#x6700;&#x7EC8;&#x6392;&#x5E8F;&#x503C;&#x7684;&#x901F;&#x5EA6; k1=0:&#x4E8C;&#x503C;&#x6A21;&#x578B;,&#x53EA;&#x53CD;&#x6620;&#x8BCD;&#x662F;&#x5426;&#x51FA;&#x73B0;,&#x4E0D;&#x8003;&#x8651;&#x51FA;&#x73B0;&#x6B21;&#x6570; k1&#x65E0;&#x7A77;&#x5927;:&#x53CD;&#x6620;&#x771F;&#x6B63;&#x7684;tf&#x503C; b:&#x63A7;&#x5236;&#x6587;&#x6863;&#x957F;&#x5EA6;&#x5F52;&#x4E00;&#x5316;&#x7A0B;&#x5EA6; b=0:&#x4E0D;&#x8003;&#x8651;&#x6587;&#x6863;&#x957F;&#x5EA6;&#x5BF9;&#x6700;&#x7EC8;&#x5206;&#x503C;&#x7684;&#x5F71;&#x54CD; b=1:&#x8003;&#x8651;&#x6587;&#x6863;&#x957F;&#x5EA6;&#x5E73;&#x5747;&#x6587;&#x6863;&#x957F;&#x5EA6;&#x7684;&#x76F8;&#x5BF9;&#x503C; &#x7ECF;&#x9A8C;&#x503C;:k1=1.2~2,b=0.75 &#x5728;&#x4E0A;&#x8FF0;&#x516C;&#x5F0F;&#x4E2D;&#xFF0C;&#x6587;&#x6863;&#x957F;&#x5EA6;&#x5B9A;&#x4E49;&#x4E3A;\\(dl = \\sum_{i\\in V}tf_i\\)&#xFF0C;&#x6587;&#x6863;&#x957F;&#x5EA6;&#x5F52;&#x4E00;&#x5316;&#x90E8;&#x5206;&#x4E3A;\\((1-b)+b\\frac{dl}{avdl}, 0\\leq b \\leq 1\\) &#x5F53;\\(b=0\\)&#x65F6;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x5F52;&#x4E00;&#x5316;&#xFF0C;&#x5F53;\\(b=1\\)&#x65F6;&#xFF0C;&#x5168;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x5F52;&#x4E00;&#x5316;&#x3002; &#x6392;&#x5E8F;&#x8BC4;&#x4EF7;&#x6307;&#x6807; P@K(Precision at K) &#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6392;&#x5E8F;&#x4F4D;&#x7F6E;K \b&#x524D;K&#x4E2A;&#x4F4D;&#x7F6E;&#x76F8;&#x5173;&#x6587;&#x6863;&#x6240;&#x5360;&#x7684;&#x6BD4;&#x4F8B; &#x5FFD;&#x7565;K&#x4F4D;&#x7F6E;&#x4E4B;&#x540E;&#x7684;&#x6240;&#x6709;&#x503C; MAP(Mean average precision) &#x53EA;&#x8003;&#x8651;&#x51FA;&#x73B0;&#x8FC7;&#x76F8;&#x5173;&#x6587;&#x6863;&#x7684;&#x4F4D;&#x7F6E; DCG(Discounted Cumulative Gain) Gain: &#x6587;&#x6863;\b&#x5BF9;&#x7528;&#x6237;Gain&#x4E0E;&#x5176;&#x67E5;&#x8BE2;&#x76F8;&#x5173;&#x5EA6;&#x6709;&#x5173;&#xFF0C;\\(2^{label}-1\\)&#xFF0C;&#x5176;&#x4E2D;\\(label\\)&#x53D6;&#x503C;\b&#x5982;bad(0),fair(1),good(3),excellent(7),perfect(15)&#x7B49;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;Gain&#x662F;&#x4E00;&#x4E2A;&#x6307;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x6548;&#x679C;&#x8D8A;&#x597D;&#x5F71;&#x54CD;&#x8D8A;&#x5927;&#x3002; Discounted Cumulative Gain&#xFF1A;&#x7531;&#x4E8E;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x6709;&#x4E00;&#x4E2A;&#x6392;&#x5E8F;&#xFF0C;&#x56E0;&#x6B64;&#x6839;&#x636E;&#x6240;&#x5728;&#x6392;&#x5E8F;&#x8FD8;&#x9700;&#x8981;&#x4E00;&#x5B9A;&#x7684;&#x6253;&#x6298;\\(\\frac{1}{log_2(rank+1)}\\) &#x6BD4;&#x8F83;&#x4E8C;&#x8005;&#x90A3;&#x4E48; CG@N \b\\(CG=r_1+r_2+...+r_n\\) NCG@N \\(NCG= \\frac{r_1}{\\log(1+1)} + \\frac{r_2}{\\log(1+2)}+...+\\frac{r_n}{\\log(1+n)}\\) NDCG(Normalized DCG) &#x5229;&#x7528;&#x6700;&#x4F18;&#x6392;&#x5E8F;&#x5BF9;DCG@N&#x8FDB;&#x884C;&#x5F52;&#x4E00;&#x5316;&#x5904;&#x7406;&#xFF0C;&#x5176;&#x4E2D;&#x6700;&#x4F18;&#x6392;&#x5E8F;&#x4E3A;&#x6309;&#x7167;&#x7528;&#x6237;&#x6807;&#x6CE8;&#x5BF9;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x5176;&#x4E2D;\\(IDCG_p\\)&#x4E3A;&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#x6700;&#x5927;&#x7684;\\(DCG\\)&#x503C;&#x3002; \\[ nDCG_p = \\frac{DCG_p}{IDCG_p} \\] Pair-wise&#x6392;&#x5E8F;&#x5B66;&#x4E60;&#xFF1A;&#x533A;&#x5206;&#x6587;&#x6863;&#x95F4;&#x7684;&#x5DEE;&#x5F02; &#x6838;&#x5FC3;&#x601D;&#x60F3;&#xFF1A;&#x6A21;&#x578B;&#x53EA;&#x9700;&#x8981;&#x533A;&#x5206;&#x540C;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x5185;&#x90E8;&#x6807;&#x6CE8;&#x4E3A;&#x4E0D;&#x540C;&#x76F8;&#x5173;&#x5EA6;&#x6587;&#x6863;&#x95F4;&#x7684;&#x5DEE;&#x5F02; &#x6392;&#x5E8F;&#x652F;&#x6301;&#x5411;&#x91CF;&#x673A;&#xFF08;ranking SVM&#xFF09; Ranking SVM &#x8BAD;&#x7EC3; &#x6784;&#x9020;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x5408;\\(\\{\\phi(q_k,d_{ki})-\\phi(q_k,d_{kj}),+1\\}\\) &#x8BAD;&#x7EC3;&#x4E8C;&#x503C;&#x5206;&#x7C7B;SVM&#xFF0C;&#x5F97;&#x5230;&#x6253;&#x5206;&#x51FD;&#x6570;\\(f(q,d)=&lt;w,\\phi(q,d)&gt;\\) Ranking SVM &#x5728;&#x7EBF;&#x5E94;&#x7528; \b&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;q&#x548C;&#x68C0;&#x7D22;&#x51FA;&#x7684;&#x6587;&#x6863;&#x96C6;&#x5408;\\(C=\\{d_i\\}\\) &#x7528;\\(f(q,d)\\)&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;C&#x4E2D;&#x7684;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x6253;&#x5206; &#x5C06;C&#x4E2D;&#x7684;&#x6587;&#x6863;&#x6309;&#x7167;\\(f(q,d)\\)&#x4ECE;&#x5927;&#x5230;&#x5C0F;&#x6392;&#x5E8F; &#x4F18;&#x70B9; * &#x53EA;&#x5173;&#x6CE8;&#x6587;&#x6863;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x6027;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;&#x67E5;&#x8BE2;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x95EE;&#x9898; * &#x5B9E;&#x9645;&#x5E94;&#x7528;&#x6548;&#x679C;&#x826F;&#x597D; &#x7F3A;&#x70B9; * N&#x4E2A;&#x6587;&#x6863;&#x6709;\\(O(N^2)\\)&#x6587;&#x6863;&#x6709;&#x5E8F;&#x5BF9;&#xFF0C;&#x590D;&#x6742;&#x5EA6;&#x9AD8; * \b&#x6CA1;&#x6709;&#x8003;&#x8651;&#x6D4F;&#x89C8;&#x7279;&#x6027; * &#x8FDD;&#x80CC;&#x5206;&#x7C7B;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x72EC;&#x7ACB;&#x540C;&#x5206;&#x5E03;&#x5047;&#x8BBE; &#x8BED;&#x8A00;&#x6392;&#x5E8F;&#x6A21;&#x578B; &#x8BCD;&#x888B;&#x5047;&#x8BBE;\\(P(w_1,w_2,...w_m)=P(w_1)P(w_2)...P(w_m)\\) &#x4F30;&#x8BA1;&#x6BCF;&#x4E00;&#x4E2A;&#x8BCD;&#x7684;&#x51FA;&#x73B0;&#x6982;&#x7387;\\(P(w)=\\frac{#w}{all\\,words}\\)&#xFF0C;&#x5176;&#x4E2D;\\(\\sum_{w\\in V}P(w)=1\\) &#x8BED;&#x8A00;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x9A6C;&#x5C14;&#x79D1;&#x592B;&#x5047;&#x8BBE;&#xFF0C;\\(P(w_n|w_{n-1},w_{n-2},...,w_1)=P(w_n|w_{n-1})\\) \\(P(w_1,w_2,...,w_m)=P(w_1)P(w_2|w_1)P(w_3|w_2)...P(w_m|w_{m-1})\\) &#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x8BAD;&#x7EC3;&#x6587;&#x6863;&#x96C6;&#x5408;&#xFF0C;&#x7EDF;&#x8BA1;&#x7ED9;&#x4E2A;&#x4E00;&#x4E2A;&#x8BCD;&#x4E4B;&#x540E;&#xFF0C;&#x5176;&#x4ED6;&#x8BCD;&#x51FA;&#x73B0;&#x7684;&#x6982;&#x7387;\\(P(w_i|w_j)=\\frac{#(w_jw_i)}{#w_j}\\) &#x4E3E;&#x4F8B;&#x6765;&#x8BF4;\\(\\sum_{w_i\\in V}P(w_i|&apos;is&apos;)=1\\) &#x6570;&#x636E;&#x7A00;&#x758F;&#x95EE;&#x9898; &#x5BF9;&#x4E8E;0&#x6982;&#x7387;&#x95EE;&#x9898;&#x91C7;&#x7528;&#x5E73;&#x6ED1;&#x5316;&#x65B9;&#x6CD5; LM for IR &#x5B9A;&#x4E49;&#x751F;&#x6210;&#x6A21;&#x578B;&#x7684;&#x7EC6;&#x8282; &#x4F30;&#x8BA1;&#x6A21;&#x578B;&#x53C2;&#x6570;\\(P(w|d)\\) &#x5E73;&#x6ED1;&#x5316;&#xFF0C;&#x9632;&#x6B62;&#x96F6;&#x6982;&#x7387; &#x5C06;&#x6587;&#x6863;&#x5BF9;&#x5E94;&#x7684;&#x751F;&#x6210;&#x6A21;&#x578B;&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#xFF0C;&#x8BA1;&#x7B97;&#x751F;&#x6210;&#x6982;&#x7387; &#x6309;&#x7167;&#x751F;&#x6210;&#x6982;&#x7387;&#x5C06;&#x6587;&#x6863;&#x6392;&#x5E8F;&#xFF0C;&#x53D6;topN&#x5C55;&#x73B0;&#x7ED9;&#x7528;&#x6237; &#x7ED9;&#x5B9A;&#x67E5;&#x8BE2;\\(q\\)&#x548C;&#x6587;&#x6863;\\(d\\)&#xFF0C;&#x5BF9;&#x6587;&#x6863;&#x7684;&#x6253;&#x5206;&#x4E3A;\\(P(d|q)\\)&#x6839;&#x636E;&#x8D1D;&#x53F6;&#x65AF;&#x516C;&#x5F0F; \\[ P(d|q) = \\frac{P(q|d)P(d)}{P(q)} \\] &#x5BF9;&#x4E8E;&#x72EC;&#x7ACB;&#x5047;&#x8BBE;&#x6765;&#x8BF4;\\(P(q|d)=P(q_1q_2,....q_m|d)=\\Pi_{i=1}^MP(q_i|d)\\) &#x4E3E;&#x4F8B;&#xFF1A; \\(q\\) &#x4E2D;&#x56FD;_&#x79D1;&#x5B66;&#x9662;_&#x5927;&#x5B66; \\(d\\) &#x79D1;&#x5B66;&#x9662;_&#x5927;&#x5B66;_&#x8BA1;&#x7B97;&#x673A;_&#x5B66;&#x9662; \\(P(q|d)=P(&#x4E2D;&#x56FD;|d)P(&#x79D1;&#x5B66;&#x9662;|d)P(&#x5927;&#x5B66;|d)=0*0.25*0.25=0\\) Dirichlet &#x5E73;&#x6ED1; &#x4E0E;&#x6DF7;&#x5408;&#x5E73;&#x6ED1; D={d1,d2}, Query q: Michael Jackson d1: Jackson was one of the most talented entertainers of all time&#xFF08;11&#xFF09; d2: Michael Jackson anointed himself King of Pop&#xFF08;7&#xFF09; \\(P(q|d_1)=\\frac{0}{11}*\\frac{1}{11}=0,P(q|d_2)=\\frac{1}{7}*\\frac{1}{7}=\\frac{1}{49},P(Michael|C)=\\frac{1}{18},P(Jackson|C)=\\frac{2}{18}\\) &#x6DF7;&#x5408;&#x6A21;&#x578B;\\(\\lambda=0.5\\) \\(P_{mix}(q|d_1)=(\\frac{0}{11}*\\frac{1}{2}+\\frac{1}{18}*\\frac{1}{2})*(\\frac{1}{11}*\\frac{1}{2}+\\frac{2}{18}*\\frac{1}{2})\\) \\(P_{mix}(q|d_2)=(\\frac{1}{7}*\\frac{1}{2}+\\frac{1}{18}*\\frac{1}{2})*(\\frac{1}{7}*\\frac{1}{2}+\\frac{2}{18}*\\frac{1}{2})\\) &#x72C4;&#x91CC;&#x514B;&#x83B1;&#x5E73;&#x6ED1;\\(\\mu = 5\\) \\(P_{dir}(q|d_1)=(\\frac{0+\\frac{5}{18}}{11+5})(\\frac{1+5*\\frac{2}{18}}{11+5})\\) \\(P_{dir}(q|d_2)=(\\frac{1+\\frac{5}{18}}{7+5})(\\frac{1+5*\\frac{2}{18}}{7+5})\\)","categories":[{"name":"Data mining","slug":"Data-mining","permalink":"http://www.liufr.com/categories/Data-mining/"}],"tags":[{"name":"Data mining","slug":"Data-mining","permalink":"http://www.liufr.com/tags/Data-mining/"}],"author":"刘丰瑞"},{"title":"无监督学习 Unsupervised Learning(聚类、矩阵分解、话题模型)","slug":"数据挖掘/2018-12-03-非监督学习","date":"2018-12-02T16:00:00.000Z","updated":"2018-12-05T02:25:55.650Z","comments":true,"path":"2018/12/03/数据挖掘/2018-12-03-非监督学习/","link":"","permalink":"http://www.liufr.com/2018/12/03/数据挖掘/2018-12-03-非监督学习/","excerpt":"","text":"&#x805A;&#x7C7B; K-means &#x8F93;&#x5165;&#xFF1A;&#x6570;&#x636E;D={x1,x2,...,xn},&#x7C07;&#x6570;&#x76EE;K1. &#x968F;&#x673A;&#x9009;&#x53D6;K&#x4E2A;&#x79CD;&#x5B50;&#x6570;&#x636E;&#x70B9;&#xFF08;seeds&#xFF09;&#x4F5C;&#x4E3A;K&#x4E2A;\b&#x7C07;&#x4E2D;&#x5FC3;2. repeat3. foreach x in D do4. &#x8BA1;&#x7B97;x&#x4E0E;&#x6BCF;&#x4E00;&#x4E2A;&#x7C07;&#x4E2D;&#x5FC3;&#x7684;&#x8DDD;&#x79BB;5. &#x5C06;x&#x6307;&#x914D;&#x5230;&#x8DDD;&#x79BB;&#x6700;&#x8FD1;&#x7684;\b&#x7C07;&#x4E2D;&#x5FC3;6. endfor7. &#x7528;&#x5F53;&#x524D;&#x7684;&#x7C07;&#x5185;&#x70B9;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;K&#x4E2A;&#x7C07;&#x4E2D;&#x5FC3;&#x4F4D;&#x7F6E;8. until&#xFF08;&#x8FBE;&#x5230;&#x7EC8;&#x6B62;&#x6761;&#x4EF6;&#xFF09; &#x4F18;&#x70B9;&#xFF1A; * &#x7B80;&#x5355;&#xFF1A;&#x6613;&#x4E8E;&#x7406;&#x89E3;&#x548C;&#x5B9E;&#x73B0; * &#x9AD8;&#x6548;&#xFF1A;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(TKN)&#xFF0C;&#x5176;&#x4E2D;T&#x4E3A;\b&#x8FD0;&#x884C;&#x8F6E;&#x6570;&#xFF0C;K&#x4E3A;&#x7C07;&#x6570;&#x76EE;&#xFF0C;N&#x4E3A;&#x6837;&#x672C;&#x6570; \b&#x7F3A;&#x70B9;&#xFF1A; * &#x5C40;&#x90E8;&#x6700;&#x4F18;&#x89E3;&#xFF1A;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x70B9;&#x8D2A;&#x5FC3;&#x9009;&#x62E9;&#x8DDD;&#x79BB;&#x6700;&#x8FD1;&#x7684;&#x4E2D;&#x5FC3;&#xFF0C;&#x4E0D;&#x540C;&#x521D;&#x59CB;&#x4E2D;&#x5FC3;&#x53EF;&#x80FD;&#x5F97;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x65CF; * &#x5E73;&#x5747;&#x503C;&#x70B9;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x8981;&#x6C42;&#x4E3A;&#x6570;&#x503C;&#x578B;&#xFF0C;&#x5BF9;&#x4E8E;&#x7C7B;&#x522B;&#x578B;&#x7279;&#x79CD;&#x4E0D;&#x9002;&#x5E94; * &#x7528;&#x6237;&#x6307;&#x5B9A;K&#xFF0C;&#x63D0;&#x524D;&#x96BE;&#x4EE5;&#x9884;&#x77E5; * &#x79BB;&#x7FA4;&#x70B9;&#x654F;&#x611F;&#xFF08;&#x53EF;&#x80FD;&#x4E3A;&#x6570;&#x636E;&#x51C6;&#x5907;&#xFF0C;&#x9884;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x9519;&#x8BEF;&#xFF09; &#x77E9;&#x9635;&#x5206;&#x89E3; SVD&#x5206;&#x89E3; \\[ D = \\sum_{k=1}^p\\sigma_k\\mu_kv_k^T=U {\\tiny \\sum} V^T \\] \\({\\tiny \\sum}=\\begin{bmatrix} \\sigma_1 &amp; 0 &amp; 0 &amp; 0\\\\ 0 &amp; \\sigma_2 &amp; 0 &amp; 0\\\\ 0 &amp; 0 &amp; ... &amp; 0\\\\ 0 &amp; 0 &amp; 0 &amp; \\sigma_n \\end{bmatrix}\\) &#x5BF9;&#x89D2;&#x77E9;&#x9635;&#xFF0C;&#x8868;&#x793A;&#x7684;&#x662F;&#x7279;&#x5F81;&#x503C;,&#x6B64;&#x7EF4;&#x5EA6;&#x4E0A;&#x7684;&#x65B9;&#x5DEE;&#x4E0E;&#x80FD;&#x91CF;&#x3002; \\(u_k,v_k\\)&#x8868;&#x793A;&#x7684;&#x662F;&#x5BF9;&#x4E8E;\\(\\sigma_k\\)&#x5BF9;&#x5E94;&#x7684;&#x7279;&#x5F81;&#x5411;&#x91CF;&#x3002; \\(U^TU=I,V^TV=I:U,V\\)&#x5747;&#x4E3A;&#x6B63;&#x4EA4;&#x77E9;&#x9635;&#x3002; &#x5DE6;&#x7279;&#x5F81;&#x5411;&#x91CF;\\(U\\)&#xFF0C;&#x6BCF;&#x4E00;&#x5217;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x65B9;&#x5411;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5217;&#x5BF9;&#x5E94;&#x7684;&#x5411;&#x91CF;&#x4E92;&#x76F8;&#x5782;&#x76F4;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;\\({\\tiny \\sum}\\)&#x4E2D;&#x7684;\\(\\sigma_k\\)&#x6309;&#x7167;&#x4ECE;&#x5C0F;&#x5230;&#x5927;&#x6392;&#x5E8F;&#xFF0C;\\(u_k&#xFF0C;v_k\\)&#x4E5F;&#x76F8;&#x5E94;&#x6392;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x5230;\\(u_1\\)&#x662F;&#x5BF9;&#x5E94;&#x65B9;&#x5DEE;&#x80FD;&#x91CF;&#x6700;&#x5927;&#x7684;&#x65B9;&#x5411;&#xFF0C;\\(u_2\\)&#x662F;&#x4E0E;\\(u_1\\)\b&#x5782;&#x76F4;&#x7684;&#x65B9;&#x5DEE;&#x6700;&#x5927;&#x7684;&#x65B9;&#x5411;... \b&#x53F3;&#x7279;&#x5F81;&#x5411;&#x91CF;\\(V\\)&#xFF0C;\b&#x7531;&#x4E8E;\\(D^T=V{\\tiny \\sum}U^T\\)&#xFF0C;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4E0E;&#x4E0A;&#x8FF0;&#x76F8;&#x540C;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x662F;&#x7EF4;&#x5EA6;&#x5B58;&#x5728;&#x7684;&#x4E0D;&#x540C;&#x3002; SVD&#x5206;&#x89E3;&#x4E0E;&#x4E3B;&#x6210;&#x5206;&#x5206;&#x6790;(PCA) &#x7ED9;&#x5B9A;&#x77E9;&#x9635; \\[ \\begin{aligned} S_{M*M}&amp;=D*D^T\\\\ &amp;=(U {\\tiny \\sum} V^T)(U {\\tiny \\sum} V^T)^T\\\\ &amp;={\\tiny \\sum}^2 \\end{aligned} \\] &#x4E5F;&#x5C31;&#x662F;&#x8BF4;\\(U\\)&#x4E2D;&#x5BF9;&#x5E94;&#x6700;&#x5927;&#x7684;&#x5411;&#x91CF;&#x4F4D;&#x4E3B;&#x6210;&#x5206; LSI&#x5206;&#x89E3; NMF&#x5206;&#x89E3; &#x5355;&#x8BCD;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x8868;&#x8FBE; &#x6BCF;&#x4E00;&#x4E2A;&#x8BCD;&#x7528;&#x4E00;&#x822C;&#x7684;&#x5411;&#x91CF;&#x8868;&#x793A; &#x79D1;&#x5B66;&#x9662;&#xFF1A;[1.0,0.5,0],&#x4E2D;&#x79D1;&#x9662;&#xFF1A;[0.5,1.0,0],&#x6570;&#x636E;&#x6316;&#x6398;&#xFF1A;[0,0.1,1.0] &#x5206;&#x5E03;&#x5F0F;&#x5047;&#x8BBE;&#xFF1A; * Syntagmatic:&#x4E24;&#x4E2A;&#x5355;&#x8BCD;&#x9891;&#x7E41;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x5171;&#x73B0;&#xFF0C;&#x5219;&#x5B83;&#x4EEC;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x8BED;&#x4E49;&#x76F8;&#x4F3C;&#x5EA6; * Paradigmatic:&#x4E24;&#x4E2A;&#x5355;&#x8BCD;&#x9891;&#x7E41;&#x5728;&#x6587;&#x6863;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x5171;&#x73B0;&#xFF0C;&#x5219;&#x5B83;&#x4EEC;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x8BED;&#x4E49;&#x76F8;&#x4F3C;&#x5EA6; &#x6838;&#x5FC3;&#x601D;&#x60F3;&#xFF1A;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#x7684;&#x8868;&#x8FBE;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x5B83;&#x5468;&#x56F4;&#x51FA;&#x73B0;&#x7684;&#x5355;&#x8BCD;&#x8BA1;&#x7B97;&#x51FA;&#x6765;&#xFF08;Word2Vec&#xFF09; &#x4E3E;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A; d1: Albert Einstein was a physicist d2: Richard Feynman was a physicist WordsVec &#x5206;&#x89E3;Word-Word&#x77E9;&#x9635;&#xFF0C;&#x5EFA;&#x6A21;&#x5355;&#x8BCD;&#x95F4;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x5171;&#x73B0; Einstein Feynman physicist Einstein 0 0 1 Feynman 0 0 1 physicist 1 1 0","categories":[{"name":"Data mining","slug":"Data-mining","permalink":"http://www.liufr.com/categories/Data-mining/"}],"tags":[{"name":"Data mining","slug":"Data-mining","permalink":"http://www.liufr.com/tags/Data-mining/"}],"author":"刘丰瑞"},{"title":"监督学习 Supervised Learning(决策树+SVM/Perceptron+AdaBoost)","slug":"数据挖掘/2018-12-02-监督学习","date":"2018-12-01T16:00:00.000Z","updated":"2018-12-03T09:10:37.250Z","comments":true,"path":"2018/12/02/数据挖掘/2018-12-02-监督学习/","link":"","permalink":"http://www.liufr.com/2018/12/02/数据挖掘/2018-12-02-监督学习/","excerpt":"","text":"&#x76D1;&#x7763;&#x5B66;&#x4E60;&#x7684;&#x5F62;&#x5F0F;&#x5316;&#x63CF;&#x8FF0; &#x95EE;&#x9898;&#x63CF;&#x8FF0; &#x6837;&#x672C;&#x7A7A;&#x95F4;\\(X\\)(&#x5982;X&#x4E3A;&#x6240;&#x6709;&#x7684;&#x7F51;&#x9875;&#x96C6;&#x5408;)&#x548C;&#x76EE;&#x6807;&#x7A7A;&#x95F4;\\(Y\\)(Y={&#x4E2A;&#x4EBA;&#x4E3B;&#x9875;&#xFF0C;&#x516C;&#x53F8;&#x4E3B;&#x9875;&#xFF0C;&#x79D1;&#x7814;&#x673A;&#x6784;&#x4E3B;&#x9875;&#xFF0C;&#x5176;&#x4ED6;&#x7F51;&#x9875;}) &#x9884;&#x6D4B;&#x51FD;&#x6570;\\(f&#xFF1A;X-&gt;Y\\) &#x5047;&#x8BBE;&#x7A7A;&#x95F4;\\(H=\\{h|h:X-&gt;Y\\}\\) &#x7B97;&#x6CD5;&#x8F93;&#x5165; &#x8BAD;&#x7EC3;&#x96C6;&#x5408;\\(D={(x_i,y_i)}_{i=1}^N\\),&#x5176;&#x4E2D;\\((x_i,y_i)\\in X*Y\\) &#x7B97;&#x6CD5;&#x8F93;&#x51FA; &#x6839;&#x636E;D&#x4E2D;&#x7684;&#x6837;&#x672C;&#x4F30;&#x8BA1;&quot;&#x6700;&#x4F18;&quot;&#x7684;&#x51FD;&#x6570;\\(h\\in H\\),&#x4F7F;&#x4E4B;&#x80FD;&#x591F;&#x5BF9;&#x672A;&#x51FA;&#x73B0;&#x5728;D&#x4E2D;&#x7684;&#x6837;&#x672C;&#x7684;&#x6807;&#x7B7E;&#x8FDB;&#x884C;&#x9884;&#x6D4B; &#x4E8C;&#x503C;&#x5206;&#x7C7B;&#xFF08;Y&#x4E3A;&#x7C7B;&#x522B;&#x96C6;&#x5408;&#xFF09; &#x56DE;&#x5F52;&#xFF08;Y&#x4E3A;&#x5B9E;&#x6570;&#x96C6;&#x5408;&#xFF09; &#x7ED3;&#x6784;&#x9884;&#x6D4B;/&#x6392;&#x5E8F;&#xFF08;Y&#x4E3A;&#x7ED3;&#x6784;&#x7C7B;&#x578B;/&#x6392;&#x5E8F;&#xFF09; &#x7EBF;&#x6027;&#x51FD;&#x6570;\\(f(x)=&lt;w,x&gt;\\) Perceptron,SVM Ridge regression SVR Structured SVM,Ranking SVM &#x6811; Decision tree Regression tree LambdaMART &#x795E;&#x7ECF;&#x7F51;&#x7EDC; &#x795E;&#x7ECF;&#x7F51;&#x7EDC; &#x795E;&#x7ECF;&#x7F51;&#x7EDC; RankNet &#x53E0;&#x52A0;&#x51FD;&#x6570;\\(f(x)=\\sum_th_t(x)\\) AdaBoost Boosted Regression Tree RankBoost &#x5206;&#x7C7B;&#x6A21;&#x578B;&#x7684;&#x8BC4;&#x4EF7;&#x65B9;&#x6CD5; n&#x6298;&#x4EA4;&#x53C9;&#x9A8C;&#x8BC1; &#x8BC4;&#x4EF7;&#x51C6;&#x5219; &#x9884;&#x6D4B;&#x4E3A;&#x6B63;&#x6837;&#x672C; &#x9884;&#x6D4B;&#x4E3A;&#x8D1F;&#x6837;&#x672C; &#x6807;&#x6CE8;&#x4E3A;&#x6B63;&#x6837;&#x672C; TP(true positive) FN(false negative) &#x6807;&#x6CE8;&#x4E3A;&#x8D1F;&#x6837;&#x672C; FP(false positive) TN(true negative) \\(Accuracy = \\frac{TP+TN}{TP+FN+FP+TN}\\) \\(Precision = \\frac{TP}{TP+FP}\\) \\(Recall = \\frac{TP}{TP+FN}\\) \\(F = \\frac{2PR}{P+R}\\) &#x8C03;&#x548C;&#x5E73;&#x5747;&#x6570; &#x7531;&#x4E8E;&#x6570;&#x636E;&#x5927;&#x591A;&#x4E0D;&#x5E73;&#x8861;&#xFF0C;Accuracy&#x5728;&#x6240;&#x6709;&#x7684;&#x9884;&#x6D4B;&#x6837;&#x672C;&#x5747;&#x9884;&#x6D4B;&#x5230;&#x8D1F;&#x6837;&#x672C;&#x7684;&#x65F6;&#x5019;&#xFF0C;\b&#x4F1A;&#x4E25;&#x91CD;&#x504F;&#x5DEE;&#x3002; &#x51B3;&#x7B56;&#x6811; &#x5206;&#x7C7B;&#x51FD;&#x6570;\\(f\\)&#x4E3A;&#x4E00;&#x68F5;&#x6811;&#xFF0C;&#x79F0;&#x4E3A;&#x51B3;&#x7B56;&#x6811; &#x4E2D;&#x95F4;&#x8282;&#x70B9;&#xFF1A;&#x51B3;&#x7B56;&#x6B65;&#x9AA4; &#x53F6;&#x5B50;&#x8282;&#x70B9;&#xFF1A;&#x51B3;&#x7B56;&#x7ED3;&#x679C;&#x3001;&#x7C7B;&#x522B;&#x6807;&#x7B7E; &#x7ED9;&#x5B9A;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x591A;&#x9897;&#x80FD;&#x591F;&#x62DF;&#x5408;&#x6570;&#x636E;&#x7684;&#x51B3;&#x7B56;&#x6811;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x9009;&#x62E9;&#x5462;&#xFF1F; 1. &#x9009;&#x62E9;&#x6700;&#x7B80;&#x5355;&#x7684;&#x6811; 2. &#x62DF;&#x5408;&#x7CBE;&#x5EA6;&#x9AD8;&#x7684;&#x6811; &#x9009;&#x62E9;&#x51B3;&#x7B56;&#x7279;&#x5F81; &#x6838;&#x5FC3;&#x6B65;&#x9AA4;&#xFF1A;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x7279;&#x5F81;&#x8FDB;&#x884C;&#x51B3;&#x7B56;&#xFF0C;&#x5212;&#x5206;&#x6570;&#x636E;&#xFF0C;&#x751F;&#x6210;&#x5B50;&#x8282;&#x70B9; &#x5408;&#x9002;&#xFF1A;&#x5C3D;&#x91CF;&#x5927;&#x7684;&#x51CF;&#x5C11;&#x5212;&#x5206;&#x540E;&#x81EA;&#x6570;&#x636E;&#x96C6;&#x7684;&#x6DF7;&#x6742;&#x5EA6; &#x4FE1;&#x606F;&#x589E;&#x76CA;(Information gain) \b&#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6709;&#x4EE5;&#x4E0B;&#x6027;&#x8D28; \\[ \\begin{aligned} &amp;H(A,X) = H(X,A)\\\\ &amp;IG(X|A) = IG(A|X)\\\\ &amp;IG(X|X) = H(X)\\\\ &amp;IG(X|A) = H(X) + H(A) - H(X,A) \\end{aligned} \\] \b&#x5BF9;&#x4E8E;&#x4E0A;&#x8FF0;&#x51B3;&#x7B56;&#x6811;&#x7B97;&#x6CD5;&#x6709;&#x4EE5;&#x4E0B;&#x7279;&#x5F81;&#xFF1A; * &#x8D2A;&#x5FC3;&#x7B56;&#x7565; * &#x4ECE;&#x6839;&#x8282;&#x70B9;&#x5F00;&#x59CB;&#xFF0C;&#x5DF2;&#x5EFA;&#x7ACB;&#x7684;&#x6811;&#x4E0D;&#x518D;&#x6539;&#x53D8; * &#x6570;&#x636E;&#x5212;&#x5206;&#x540E;&#x4E0D;&#x518D;&#x6539;&#x53D8; * &#x6BCF;&#x6B21;&#x9009;&#x62E9;&#x5C40;&#x90E8;&#x4FE1;&#x606F;&#x589E;&#x76CA;&#x6700;&#x5927;&#x7684;&#x7279;&#x5F81;&#x5212;&#x5206;&#x6570;&#x636E; * &#x5C40;&#x90E8;&#x6700;&#x4F18;&#x89E3; * &#x9012;&#x5F52;&#x7B97;&#x6CD5; - &#x6BCF;&#x4E00;&#x4E2A;&#x51B3;&#x7B56;&#x8282;&#x70B9;&#x7528;&#x76F8;&#x540C;&#x7684;&#x7B56;&#x7565;&#x6269;&#x5F20; * &#x4FE1;&#x606F;&#x589E;&#x76CA;IG&#x4E0D;&#x662F;&#x552F;&#x4E00;&#x7684;&#x9009;&#x62E9; &#x6539;&#x8FDB; &#x4E0A;&#x8FF0;&#x7B97;&#x6CD5;&#x53EA;&#x80FD;&#x591F;&#x5904;&#x7406;&#x7C7B;&#x522B;&#x578B;&#x7684;&#x7279;&#x5F81;&#xFF0C;&#x5BF9;&#x4E8E;&#x6570;&#x503C;&#x578B;&#x7279;&#x5F81;&#x9700;&#x8981;&#x5212;&#x5206;&#x533A;&#x95F4;&#xFF0C;&#x6309;&#x7167;IG&#x6700;&#x5927;&#x5316;&#x7684;&#x539F;&#x5219;&#x9009;&#x62E9;&#x9608;&#x503C;&#x3002; &#x5BF9;&#x4E8E;&#x8FC7;&#x62DF;&#x5408;&#x7684;&#x60C5;&#x51B5;&#x8981;&#x964D;&#x4F4E;&#x6A21;&#x578B;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x91C7;&#x7528;&#x526A;&#x679D;&#x65B9;&#x6CD5;&#x51CF;&#x5C11;&#x8282;&#x70B9;&#x6570;&#x76EE;(post-pruning)&#x3002; SVM/Perceptron &#x5206;&#x7C7B;&#x8FB9;&#x8DDD;Margin&#xFF1A;&#x5BF9;&#x7EBF;&#x6027;&#x5206;&#x7C7B;&#x5668;&#x800C;&#x8A00;&#xFF0C;&#x8FB9;&#x8DDD;&#x5C31;&#x662F;&#x4ECE;&#x5206;&#x7C7B;&#x9762;&#x5230;&#x6700;&#x8FD1;&#x7684;&#x8BAD;&#x7EC3;&#x6837;&#x672C;&#x7684;&#x8DDD;&#x79BB;&#x3002; SVM(support vector machine)&#xFF1A;&#x6700;&#x5927;&#x5316;&#x5206;&#x7C7B;&#x8FB9;&#x8DDD;&#xFF0C;VC&#x7406;&#x8BBA;&#x8BC1;&#x660E;&#x6700;&#x5927;&#x8FB9;&#x8DDD;&#x5206;&#x7C7B;&#x5668;&#x6709;&#x8F83;&#x597D;&#x7684;&#x6CDB;&#x5316;&#x80FD;&#x529B;&#x3002; \b\\[ Margin = |x^+-x^-| = |\\lambda w|=\\frac{2}{&lt;w,w&gt;}\\sqrt{&lt;w,w&gt;}=\\frac{2}{\\sqrt{w,w}} \\] &#x4F18;&#x5316;&#x76EE;&#x6807;: \\(min_{w,b}|w|^2\\)&#xFF0C;&#x7EA6;&#x675F;&#x6761;&#x4EF6;\\(y_i(&lt;w,x_i&gt;+b)\\geq 1, for \\,i=1,...,N\\) &#x5F53;&#x51FA;&#x73B0;&#x7EBF;&#x6027;&#x4E0D;&#x53EF;&#x5206;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x5BB9;&#x5FCD;&#x9519;&#x8BEF;&#x7684;&#x53D1;&#x751F;&#xFF0C;&#x91C7;&#x7528;&#x8F6F;&#x8FB9;&#x8DDD; &#x4F18;&#x5316;&#x76EE;&#x6807;&#xFF1A;\\(min_{w,b}|w|^2+C\\cdot \\sum_{i=1}^N\\xi_i\\)&#xFF0C;&#x7EA6;&#x675F;&#x6761;&#x4EF6;\\(y_i(&lt;w,x_i&gt;+b)\\geq 1-\\xi_i,\\xi_i \\geq 0\\) \\(C\\)&#xFF1A;&#x6743;&#x8861;&#x8FB9;&#x8DDD;&#x5927;&#x5C0F;&#x4E0E;&#x9519;&#x8BEF;&#x5BB9;&#x5FCD;&#x5EA6;&#xFF0C;C&#x53D8;&#x5927;&#x727A;&#x7272;&#x8FB9;&#x8DDD;&#x51CF;&#x5C11;&#x8BAD;&#x7EC3;&#x96C6;&#x5408;&#x4E0A;&#x7684;&#x9519;&#x8BEF; AdaBoost &#x7EC4;&#x4F1A;&#x6709;&#x5DEE;&#x5F02;&#x6027;&#x7684;&#x5F31;&#x5206;&#x7C7B;&#x5668;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x5F3A;&#x5206;&#x7C7B;&#x5668; &#x4E0D;&#x540C;&#x7684;&#x5F31;&#x5206;&#x7C7B;&#x5668;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x7B97;&#x6CD5;&#x3001;&#x7279;&#x5F81;&#x3001;&#x6570;&#x636E;&#x8BAD;&#x7EC3;&#x5F97;&#x5230; &#x5F31;&#x5206;&#x7C7B;&#x5668;&#x7684;&#x9884;&#x6D4B;&#x7CBE;&#x5EA6;&#x5F3A;&#x4E8E;&#x968F;&#x673A;&#x9884;&#x6D4B; &#x57FA;&#x672C;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; AdaBoost &#x7B97;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;","categories":[{"name":"Data mining","slug":"Data-mining","permalink":"http://www.liufr.com/categories/Data-mining/"}],"tags":[{"name":"Data mining","slug":"Data-mining","permalink":"http://www.liufr.com/tags/Data-mining/"}],"author":"刘丰瑞"},{"title":"证明拉普拉斯矩阵是半正定矩阵","slug":"模式识别/2018-11-19-证明拉普拉斯矩阵是半正定矩阵","date":"2018-11-18T16:00:00.000Z","updated":"2018-11-19T08:28:01.610Z","comments":true,"path":"2018/11/19/模式识别/2018-11-19-证明拉普拉斯矩阵是半正定矩阵/","link":"","permalink":"http://www.liufr.com/2018/11/19/模式识别/2018-11-19-证明拉普拉斯矩阵是半正定矩阵/","excerpt":"","text":"&#x56E0;&#x4E3A;\\(L=D-W\\),&#x90A3;&#x4E48;\\(x^TLx\\)&#x6709;&#xFF1A; \\[ x^TLx = x^T(D-W)x = x^TDx - x^TWx \\] \\(W\\)&#x4E3A;&#x4E00;&#x4E2A;&#x5BF9;&#x79F0;&#x77E9;&#x9635;,&#x5C06;\\(W\\)&#x7684;&#x5404;&#x884C;&#x5143;&#x7D20;&#x7D2F;&#x52A0;&#x5F97;&#x5230;&#x4E86;\\(D\\),&#x7531;&#x4E8E;\\(D\\)&#x662F;&#x5BF9;&#x89D2;&#x77E9;&#x9635;\\(x^TDx=\\sum_{i=1}^nd_ix_i^2\\)&#xFF0C; \\[ \\begin{aligned} x^TLx &amp;= \\sum_{i=1}^nd_ix_i^2 - \\sum_{i=1}^n\\sum_{j=1}^nw_{ij}x_ix_j\\\\\\ &amp;=\\frac{1}{2}(\\sum_{i=1}^nd_ix_i^2 - 2\\sum_{i=1}^n\\sum_{j=1}^nw_{ij}x_ix_j + \\sum_{j=1}^nd_jx_j^2)\\\\\\ &amp;=\\frac{1}{2}\\sum_{i=1}^n\\sum_{j=1}^n(w_{ij}x_i^2-2w_{ij}x_ix_j+w_{ji}x_i^2)\\\\\\ &amp;=\\frac{1}{2}\\sum_{i=1}^n\\sum_{j=1}^nw_{ij}(x_i-x_j)^2\\geq0 \\end{aligned} \\] &#x7EFC;&#x4E0A;&#x62C9;&#x666E;&#x62C9;&#x65AF;&#x77E9;&#x9635;\\(L=D-W\\)&#x662F;&#x4E00;&#x4E2A;&#x534A;&#x6B63;&#x5B9A;&#x7684;&#x77E9;&#x9635;&#x3002;","categories":[{"name":"Pattern recognition","slug":"Pattern-recognition","permalink":"http://www.liufr.com/categories/Pattern-recognition/"}],"tags":[{"name":"Pattern recognition","slug":"Pattern-recognition","permalink":"http://www.liufr.com/tags/Pattern-recognition/"}],"author":"刘丰瑞"},{"title":"ETH Zurich at TREC Precision Medicine 2017","slug":"检索/2018-11-7-ETH Zurich at TREC Precision Medicine 2017","date":"2018-11-06T16:00:00.000Z","updated":"2018-11-07T15:24:10.730Z","comments":true,"path":"2018/11/07/检索/2018-11-7-ETH Zurich at TREC Precision Medicine 2017/","link":"","permalink":"http://www.liufr.com/2018/11/07/检索/2018-11-7-ETH Zurich at TREC Precision Medicine 2017/","excerpt":"","text":"&#x6458;&#x8981; &#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x8BB2;&#x7684;&#x662F;ETH&#x5728;TREC 2017&#x7ADE;&#x8D5B;&#x4E0A;&#x7684;&#x6210;&#x679C;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5C06;&#x6587;&#x672C;&#x9010;&#x5B57;&#x7684;&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x5176;&#x4E2D;&#x8981;&#x8003;&#x8651;&#x5230;&#x7684;&#x5173;&#x952E;&#x9879;&#x662F;&#x764C;&#x75C7;&#x7684;&#x7C7B;&#x578B;&#x3001;&#x57FA;&#x56E0;&#x7684;&#x53D8;&#x4F53;&#xFF0C;&#x4EE5;&#x53CA;&#x4EBA;&#x5458;&#x7684;&#x7EDF;&#x8BA1;&#x8D44;&#x6599;&#x3002;&#x5176;&#x6B21;&#xFF0C;&#x6211;&#x4EEC;&#x6839;&#x636E;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6DF1;&#x5EA6;&#x57FA;&#x56E0;&#x5D4C;&#x5165;&#x91CD;&#x65B0;&#x7ED9;&#x6700;&#x76F8;&#x5173;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;rank&#x6392;&#x540D;&#xFF0C;&#x4F7F;&#x7528;PubMed&#x548C;NCBI&#x4FE1;&#x606F;&#x4E0A;&#x8BAD;&#x7EC3;&#x7684;&#x524D;&#x9988;&#x7F51;&#x7EDC;&#x5C06;&#x6587;&#x5B57;&#x6295;&#x5C04;&#x5230;&#x4FDD;&#x7559;&#x8BED;&#x4E49;&#x7684;&#x5411;&#x91CF;&#x7A7A;&#x95F4;&#x4E2D;&#xFF0C;&#x4F46;&#x4E5F;&#x4F9D;&#x8D56;&#x4E8E;&#x5173;&#x4E8E;&#x751F;&#x6210;&#x5BF9;&#x6297;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x786E;&#x5B9A;&#x540C;&#x4E00;&#x60A3;&#x8005;&#x4E2D;&#x5404;&#x79CD;&#x7A81;&#x53D8;&#x5171;&#x540C;&#x53D1;&#x751F;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002;&#x5B9E;&#x8BC1;&#x7ED3;&#x679C;&#x8868;&#x660E;&#xFF0C;&#x5373;&#x4F7F;&#x6CA1;&#x6709;&#x73B0;&#x6709;&#x7684;&#x4E13;&#x5BB6;&#x6807;&#x7B7E;&#xFF0C;&#x6240;&#x63D0;&#x51FA;&#x7684;&#x65B9;&#x6CD5;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x7ADE;&#x4E89;&#x6027;tf-idf&#x57FA;&#x7EBF;&#x4E0A;&#x5F15;&#x5165;&#x8FB9;&#x9645;&#x6539;&#x8FDB;&#x3002; &#x4ECB;&#x7ECD; &#x6211;&#x4EEC;&#x7684;rank&#x6392;&#x540D;&#x65B9;&#x6CD5;&#x7ED3;&#x5408;&#x4E86;&#x4EE5;&#x4E0B;&#x56DB;&#x4E2A;&#x6765;&#x6E90;&#x7684;&#x4FE1;&#x606F;&#xFF1A; 1. &#x5BF9;&#x4E8E;&#x60A3;&#x8005;&#x3001;&#x764C;&#x75C7;&#x7C7B;&#x578B;&#x4EE5;&#x53CA;&#x57FA;&#x56E0;&#x53D8;&#x4F53;&#x7684;&#x6587;&#x5B57;&#x63CF;&#x8FF0;&#x3002; 2. &#x5BF9;&#x4E8E;&#x5173;&#x952E;&#x533B;&#x5B66;&#x672F;&#x8BED;&#x7684;&#x5BC6;&#x96C6;&#x8BED;&#x4E49;&#x5411;&#x91CF;&#x8868;&#x793A;&#x3002; 3. &#x5BF9;&#x4E8E;&#x57FA;&#x56E0;&#x8868;&#x793A;&#x4EE5;&#x53CA;&#x60A3;&#x8005;&#x5317;&#x4EAC;&#x7684;&#x529F;&#x80FD;&#x578B;&#x7684;&#x795E;&#x7ECF;&#x5D4C;&#x5165;&#x3002; 4. &#x57FA;&#x56E0;&#x7A81;&#x53D8;&#x5171;&#x751F;&#x7684;&#x751F;&#x6210;&#x5BF9;&#x6297;&#x6A21;&#x578B; &#x5728;&#x5BF9;&#x4E8E;&#x4EE5;&#x4E0A;&#x53EF;&#x5229;&#x7528;&#x4FE1;&#x606F;&#x7684;&#x521D;&#x59CB;&#x5316;&#x68C0;&#x7D22;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4E0D;&#x7528;&#x7684;&#x6570;&#x636E;&#x6E90;&#x90FD;&#x805A;&#x5408;&#x8D77;&#x6765;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x7ED3;&#x679C;&#x9010;&#x6B65;&#x5BFC;&#x5411;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x9C81;&#x68D2;&#x6027;&#x7684;rank&#x6392;&#x540D;&#x3002; &#x7531;&#x4E8E;&#x7F3A;&#x5C11;&#x5386;&#x53F2;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x6211;&#x4EEC;&#x521A;&#x5F00;&#x59CB;&#x4EBA;&#x5DE5;&#x5BF9;1800&#x4E2A;&#x6837;&#x672C;&#xFF08;&#x5305;&#x62EC;1200&#x4E2A;&#x6458;&#x8981;&#x4EE5;&#x53CA;600&#x4E2A;&#x4E34;&#x5E8A;&#x5B9E;&#x9A8C;&#xFF09;&#x505A;&#x4E86;&#x6CE8;&#x91CA;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x6837;&#x672C;&#x6765;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#x4EE5;&#x53CA;&#x4F18;&#x5316;&#x6709;&#x76D1;&#x7763;&#x7684;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x4EE5;&#x53CA;&#x6A21;&#x7CCA;&#x89C4;&#x5219;&#x3002;&#x7531;&#x4E8E;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5E76;&#x975E;&#x4E13;&#x5BB6;&#x6807;&#x6CE8;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x65E0;&#x8BAD;&#x7EC3;&#x7684;&#x5339;&#x914D;&#x89C4;&#x5219;&#x4E2D;&#x4F1A;&#x6709;&#x8F83;&#x5927;&#x7684;&#x6027;&#x80FD;&#x63D0;&#x5347;&#x3002; &#x65B9;&#x6CD5; &#x57FA;&#x4E8E;&#x7CBE;&#x786E;&#x5339;&#x914D;&#x7684;&#x8BCD;&#x9879; &#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x60A3;&#x8005;&#x63CF;&#x8FF0;&#x6765;&#x751F;&#x6210;&#x961F;&#x5217;&#xFF0C;&#x4EE5;&#x4F7F;&#x5F97;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x5BF9;&#x6BD4;&#x6587;&#x6863;&#x6765;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x76F8;&#x4F3C;&#x7684;&#x8BC4;&#x5206;&#x3002;&#x5047;&#x8BBE;&#x7684;&#x6846;&#x67B6;&#x4E2D;&#x91C7;&#x7528;&#x4E86;&#x7B80;&#x8981;&#x7684;&#x6570;&#x636E;&#x4EE5;&#x53CA;&#x4E34;&#x5E8A;&#x5B9E;&#x9A8C;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x5411;&#x91CF;&#x7A7A;&#x95F4;&#x6A21;&#x578B;&#xFF0C;&#x5176;&#x4E2D;&#x8BCD;&#x9879;&#x7684;&#x6743;&#x91CD;&#x7531;\\(tf-idf\\)&#x7684;&#x5F97;&#x5206;&#x3002;&#x5BF9;&#x4E8E;&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;&#x5F00;&#x6E90;&#x6846;&#x67B6;\\(Lucene\\)&#xFF0C;&#x4E3A;&#x4E86;&#x5728;&#x56FA;&#x5B9A;&#x7ED3;&#x6784;&#x7684;topic&#x4E2D;&#x786E;&#x5B9A;&#x4E0D;&#x540C;field&#xFF08;&#x7406;&#x89E3;&#x6210;&#x4E0D;&#x540C;&#x5143;&#x7D20;/&#x9879;&#xFF09;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x7684;&#x9759;&#x6001;&#x6743;&#x91CD;&#x56E0;&#x5B50;&#xFF1A; &#x4E3A;&#x4E86;&#x66F4;&#x79D1;&#x5B66;&#x7684;&#x7B80;&#x5316;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5E74;&#x9F84;&#x5177;&#x4F53;&#x5212;&#x5206;&#x6210;&#x4E09;&#x4E2A;&#x7C7B;&#x522B;&#xFF08;&#x5C0F;&#x513F;&#xFF0C;&#x6210;&#x5E74;&#xFF0C;&#x8001;&#x5E74;&#x533B;&#x7597;&#xFF09;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#x522B;&#x6211;&#x4EEC;&#x90FD;&#x52A0;&#x5165;&#x5E74;&#x9F84;&#x3002;&#x901A;&#x8FC7;&#x4E34;&#x5E8A;&#x5B9E;&#x9A8C;&#x6765;&#x52A0;&#x5F3A;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#x522B;&#x7684;&#x7279;&#x5B9A;&#x5E74;&#x9F84;&#x8303;&#x56F4;&#x3002; &#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x5185;&#x5BB9;&#x5D4C;&#x5165; &#x5728;&#x7B2C;&#x4E8C;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x6587;&#x5B57;&#x9879;&#x6765;&#x5339;&#x914D;&#x8BA1;&#x7B97;&#x51FA;&#x7684;&#x8BED;&#x4E49;&#x5411;&#x91CF;&#xFF0C;&#x5305;&#x62EC;&#x5BF9;&#x4E8E;&#x60A3;&#x8005;&#x57FA;&#x56E0;&#x7279;&#x5F81;&#x7684;&#x63CF;&#x8FF0;&#x4EE5;&#x53CA;&#x62BD;&#x8C61;&#x3002;&#x6211;&#x4EEC;&#x6784;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x57FA;&#x56E0;&#x7279;&#x5F81;&#x7684;&#x8BCD;&#x6C47;&#x8868;&#xFF0C;&#x6709;&#x751F;&#x7269;&#x4FE1;&#x606F;&#x6982;&#x5FF5;&#x4EE5;&#x53CA;&#x6587;&#x6863;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x5E38;&#x7528;&#x8BCD;&#x3002;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x795E;&#x7ECF;&#x6982;&#x7387;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF0C;&#x627E;&#x51FA;&#x8FD9;&#x4E9B;&#x8BCD;&#x9879;&#x7684;&#x8FDE;&#x7EED;&#x5D4C;&#x5165;&#x3002;&#x7136;&#x540E;&#x73B0;&#x5728;&#x5BF9;&#x4E8E;&#x60A3;&#x8005;&#x4EE5;&#x53CA;&#x79D1;&#x5B66;&#x62BD;&#x8C61;&#x7684;&#x4E34;&#x5E8A;&#x8BD5;&#x9A8C;&#x6587;&#x6863;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;&#x8DDD;&#x79BB;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5E94;&#x7528;&#x5230;&#x5404;&#x81EA;&#x7684;&#x5411;&#x91CF;&#x8868;&#x8FBE;&#x4E2D;&#x3002; &#x4E3A;&#x4E86;&#x533A;&#x5206;&#x6587;&#x6863;&#x96C6;&#x4E2D;&#x76F8;&#x5173;&#x57FA;&#x56E0;&#x7684;&#x533A;&#x5206;&#x5EA6;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;HGNC&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x57FA;&#x56E0;&#x7279;&#x5F81;&#xFF0C;&#x5E76;&#x5E94;&#x7528;&#x57FA;&#x4E8E;&#x7B26;&#x53F7;&#x540C;&#x4E49;&#x8BCD;&#x5173;&#x7CFB;&#x7684;&#x7B80;&#x5355;&#x542F;&#x53D1;&#x5F0F;&#x65B9;&#x6CD5;&#x6765;&#x6D88;&#x9664;&#x6A21;&#x7CCA;&#x57FA;&#x56E0;&#x7B26;&#x53F7;&#xFF0C;&#x5982;CO2&#x6216;SARS&#xFF0C;&#x8FD9;&#x4E9B;&#x7B26;&#x53F7;&#x4E5F;&#x5177;&#x6709;&#x975E;&#x57FA;&#x56E0;&#x7EC4;&#x89E3;&#x91CA;&#x3002;&#x6211;&#x4EEC;&#x8BCD;&#x6C47;&#x8868;&#x7684;&#x751F;&#x7269;&#x533B;&#x5B66;&#x6982;&#x5FF5;&#x7531;Uni&#xFB01;ed Medical Language System&#xFF08;UMLS&#xFF09;&#x63D0;&#x4F9B;&#x3002;&#x6211;&#x4EEC;&#x5728;PubMed&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6458;&#x8981;&#x4E2D;&#x8BAD;&#x7EC3;&#x6211;&#x4EEC;&#x7684;&#x5D4C;&#x5165;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x5DF2;&#x8BC6;&#x522B;&#x7684;&#x76F8;&#x5173;&#x57FA;&#x56E0;&#x7B26;&#x53F7;&#x3002; &#x76F8;&#x5173;&#x5EA6;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;topic&#x6587;&#x7AE0;&#x7684;&#x5206;&#x6570;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5411;&#x91CF;&#x8868;&#x793A;&#x6765;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x4EE5;&#x53CA;&#x57FA;&#x4E8E;&#x5185;&#x5BB9;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x7684;&#x5206;&#x6570;&#x53EF;&#x4EE5;&#x5199;&#x4F5C;\\(s_c\\)&#x3002;&#x6211;&#x4EEC;&#x8003;&#x8651;&#x5BF9;&#x4E8E;&#x57FA;&#x56E0;&#x7B26;&#x53F7;\\(g_t\\)&#x6700;&#x76F8;&#x4F3C;&#x7684;&#x4E09;&#x4E2A;&#x8BCD;&#x9879;\\(d_{i,1},d_{i,2},d_{i,3}\\)&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x7684;&#x91CD;&#x8981;&#x6027;&#x7684;&#x9012;&#x51CF;&#x6743;&#x91CD;&#xFF0C;&#x91C7;&#x7528;&#x6700;&#x5E38;&#x7528;&#x7684;\\(1+log(k_{ij})\\)&#x6765;&#x8868;&#x793A;&#x8BCD;&#x9879;&#x9891;&#x7387;\\(tf(d_{ij})\\)&#x6765;&#x8BA1;&#x7B97;&#x8BCD;&#x9879;\\(d_{ij}\\)&#x5728;&#x6587;&#x6863;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x591A;&#x4E2A;&#x6B21;&#x6570;&#xFF0C;&#x6700;&#x540E;&#x7684;&#x8BC4;&#x5206;&#x53EF;&#x4EE5;&#x88AB;&#x5199;&#x4F5C;&#x4F59;&#x5F26;&#x8DDD;&#x79BB;&#xFF1A; \\[ s_c(T,D)= \\\\sum_{g_t\\in T} \\\\sum_{j=1}^3 \\omega_j*(1+log(tf(d_{ij})))(1-cos(g_t,d_{ij})) \\] &#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x57FA;&#x56E0;&#x5D4C;&#x5165; &#x5728;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x795E;&#x7ECF;&#x5D4C;&#x5165;&#x89C4;&#x5219;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x76EE;&#x6807;&#x662F;&#x5BF9;&#x4E00;&#x4E2A;&#x533B;&#x5B66;&#x7684;&#x57FA;&#x56E0;&#x7279;&#x6027;&#x4EE5;&#x53CA;&#x57FA;&#x56E0;&#x7A81;&#x53D8;&#x5EFA;&#x6A21;&#x3002;&#x51FD;&#x6570;&#x7684;&#x76F8;&#x4F3C;&#x6027;&#x53EF;&#x4EE5;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x57FA;&#x4E8E;&#x76F8;&#x540C;&#x7684;&#x764C;&#x75C7;&#x7C7B;&#x578B;&#x4EE5;&#x53CA;&#x57FA;&#x56E0;&#xFF0C;&#x4F7F;&#x5F97;&#x5BF9;&#x4E8E;&#x76F8;&#x540C;&#x764C;&#x75C7;&#x7684;&#x76F8;&#x5173;&#x57FA;&#x56E0;&#x76F8;&#x4F3C;&#x5EA6;&#x66F4;&#x9AD8;&#x3002; &#x6211;&#x4EEC;&#x4F7F;&#x7528;NCBI&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x57FA;&#x56E0;&#x90FD;&#x5305;&#x542B;&#x67D3;&#x8272;&#x4F53;&#xFF0C;&#x57FA;&#x56E0;&#x4EE5;&#x53CA;&#x5B83;&#x4EEC;&#x7684;&#x5C5E;&#x6027;&#xFF08;&#x4F8B;&#x5982;&#x86CB;&#x767D;&#x8D28;&#x4F5C;&#x7528;&#xFF09;&#xFF0C;&#x76F8;&#x5173;&#x6807;&#x8BB0;&#xFF0C;&#x663E;&#x6027;&#x4EE5;&#x53CA;&#x76F8;&#x4E92;&#x4F5C;&#x7528;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x7684;&#x57FA;&#x56E0;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x300E;&#x603B;&#x7ED3;&#x300F;&#xFF0C;&#x5728;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x4E2D;&#xFF0C;&#x591A;&#x6709;&#x4E0E;&#x8BE5;&#x57FA;&#x56E0;&#x6709;&#x5173;&#x7684;&#x764C;&#x75C7;&#x7C7B;&#x578B;&#x90FD;&#x88AB;&#x5217;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x603B;&#x8BA1;&#x6709;1357&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x57FA;&#x56E0;&#x4E0E;109&#x79CD;&#x764C;&#x75C7;&#x7C7B;&#x578B;&#x3002; &#x91C7;&#x7528;&#x5355;&#x5C42;&#x7684;&#x6B27;&#x5F0F;&#x51FD;&#x6570;&#x7A7A;&#x95F4;&#x6765;&#x524D;&#x53CD;&#x9988;&#x57FA;&#x56E0;&#x578B;&#x3002;&#x8BE5;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x8F93;&#x5165;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5411;&#x91CF;&#x53EF;&#x4EE5;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x5730;&#x8868;&#x793A;&#x8FD9;&#x4E2A;&#x57FA;&#x56E0;&#xFF0C;&#x8F93;&#x51FA;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5411;&#x91CF;&#xFF0C;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x764C;&#x75C7;&#x7C7B;&#x578B;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x57FA;&#x56E0;&#x5BF9;&#x5E94;&#x7740;&#x4E00;&#x4E2A;&#x764C;&#x75C7;&#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x5E94;&#x5143;&#x7D20;&#x7684;&#x8F93;&#x51FA;&#x5411;&#x91CF;(&#x764C;&#x75C7;&#x7C7B;&#x578B;)&#x5C31;&#x7F6E;&#x4E3A;1&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A; &#x8F93;&#x5165;&#x5C42;&#x7684;&#x5927;&#x5C0F;&#x7B49;&#x4E8E;&#x57FA;&#x56E0;&#x7684;&#x6570;&#x91CF;&#xFF08;1347&#xFF09;&#xFF0C;&#x8F93;&#x51FA;&#x5C42;&#x5BF9;&#x5E94;&#x764C;&#x75C7;&#x7684;&#x7C7B;&#x578B;&#xFF08;109&#xFF09;&#xFF0C;&#x9690;&#x85CF;&#x5C42;&#x5927;&#x4E8E;&#x4E3A;50&#xFF0C;&#x6700;&#x5927;&#x7684;&#x7528;&#x4E8E;&#x9884;&#x6D4B;&#x764C;&#x75C7;&#x7684;&#x4EA4;&#x53C9;&#x5BF9;&#x6BD4;&#x51C6;&#x786E;&#x5EA6;&#x7EA6;&#x4E3A;60%&#x3002;&#x5728;&#x8BAD;&#x7EC3;&#x5B8C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x7684;&#x7279;&#x5F81;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x57FA;&#x56E0;&#x8868;&#x793A;&#x6765;&#x5BF9;&#x5B66;&#x672F;&#x6587;&#x7AE0;&#x8FDB;&#x884C;&#x6392;&#x540D;&#xFF0C;&#x7528;&#x4F59;&#x5F26;&#x51FD;&#x6570;&#x6765;&#x8868;&#x793A;&#x4EFB;&#x610F;&#x4E24;&#x4E2A;&#x57FA;&#x56E0;&#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x3002;\\(a = {mean,max,mean max}\\) \\[ s_f(T,D) = a(cos(g_t,g_d))\\forall g_t \\in T, g_d \\in D \\] &#x5176;&#x4ED6;&#x7684;&#x5BF9;&#x4E8E;&#x57FA;&#x56E0;&#x5BF9;&#x6392;&#x540D;&#x7684;&#x8BAD;&#x7EC3; &#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x7F51;&#x7EDC;GAN&#xFF0C;&#x4E00;&#x4E2A;GAN&#x7F51;&#x7EDC;&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x76EE;&#x6807;&#x7684;&#x8BAD;&#x7EC3;&#xFF0C; GAN&#x7531;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x76EE;&#x6807;&#x8BAD;&#x7EC3;&#x7684;&#x4E24;&#x4E2A;&#x7F51;&#x7EDC;&#x7EC4;&#x6210;&#xFF1A;&#x53D1;&#x751F;&#x5668;&#x7F51;&#x7EDC;&#x65E8;&#x5728;&#x590D;&#x5236;&#x539F;&#x59CB;&#x6570;&#x636E;&#x5206;&#x5E03;&#xFF0C;&#x800C;&#x9274;&#x522B;&#x5668;&#x7F51;&#x7EDC;&#x4EA4;&#x66FF;&#x5730;&#x9988;&#x9001;&#x5B9E;&#x9645;&#x548C;&#x751F;&#x6210;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x8D1F;&#x8D23;&#x8BC6;&#x522B;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x70B9;&#x3002;&#x57FA;&#x672C;&#x5047;&#x8BBE;&#x5C31;&#x662F;&#x7ECF;&#x5E38;&#x4E00;&#x8D77;&#x53D1;&#x751F;&#x7684;&#x57FA;&#x56E0;&#x4E5F;&#x6709;&#x76F8;&#x4F3C;&#x4E4B;&#x5904;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x8BAD;&#x7EC3;&#x6709;&#x7D20;&#x7684;GAN&#x6765;&#x6784;&#x5EFA;&#x5EA6;&#x91CF;&#xFF0C;&#x4EE5;&#x6839;&#x636E;&#x6587;&#x6863;&#x7684;&#x57FA;&#x56E0;&#x517C;&#x5BB9;&#x6027;&#x5BF9;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x6392;&#x540D;&#x3002;&#x5BF9;&#x4E8E;&#x7ED9;&#x5B9A;&#x6587;&#x4EF6;\\(g_d\\)&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x60A3;&#x8005;&#x57FA;&#x56E0;\\(g_t\\)&#x548C;&#x57FA;&#x56E0;&#x63D0;&#x53CA;&#xFF0C;&#x6211;&#x4EEC;&#x8BA1;&#x7B97;Disc&#x7684;&#x9274;&#x522B;&#x503C;\\((g_t,g_d)\\)&#x3002;&#x5BF9;&#x4E8E;&#x53EF;&#x80FD;&#x7684;&#x5B9E;&#x5BF9;&#xFF0C;&#x9274;&#x522B;&#x5668;&#x5206;&#x522B;&#x8F93;&#x51FA;1&#x548C;0&#x7528;&#x4E8E;&#x53EF;&#x80FD;&#x4E0D;&#x76F8;&#x5173;&#x7684;&#x6570;&#x636E;&#x3002;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x5E94;&#x7528;&#x805A;&#x5408;&#x51FD;&#x6570;\\(a = {min&#xFF0C;max&#xFF0C;mean}\\)&#x5C06;\\(Disc(.)\\)&#x7684;&#x503C;&#x7EC4;&#x5408;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x57FA;&#x56E0;&#x4E2D;&#x3002; \\[ s_g(T,D) = a(cos(g_t,g_d)) \\forall g_t \\in T, g_d \\in D \\] &#x5206;&#x6570;&#x6A21;&#x7CCA; &#x6839;&#x636E;&#x4EE5;&#x4E0A;&#x6211;&#x4EEC;&#x8BA1;&#x7B97;&#x51FA;&#x4E86;&#x5206;&#x6570;\\((tfidf(.),s_c(.),s_f(.)&#x4EE5;&#x53CA;s_g(.))\\) &#x9996;&#x5148;&#x6211;&#x4EEC;&#x5C06;&#x6240;&#x6709;&#x7684;&#x7EC4;&#x6210;&#x5206;&#x9AD8;&#x9020;&#x6210;&#x5411;&#x91CF;&#xFF1A; &#x6211;&#x4EEC;&#x4ECB;&#x7ECD;5&#x4E2D;&#x65B9;&#x6CD5;&#x6765;&#x6A21;&#x7CCA;&#x5206;&#x6570;&#x4F7F;&#x5F97;&#x4ED6;&#x4EEC;&#x53EF;&#x4EE5;&#x878D;&#x5408;&#x8D77;&#x6765;&#x3002; 1. Weighted Sum (nDCG)&#xFF1A;&#x5C06;&#x4E0D;&#x540C;&#x5206;&#x6570;&#x5206;&#x914D;&#x4E0D;&#x540C;&#x6743;&#x91CD;&#x76F8;&#x52A0;&#x3002; 2. Pure Term-based Exact Matching&#xFF1A;&#x9759;&#x6001;&#x7684;&#x7CBE;&#x786E;&#x5339;&#x914D;&#x6A21;&#x7CCA; 3. Neural Fusion&#xFF1A;&#x5305;&#x542B;&#x4E00;&#x4E2A;16&#x4E2A;&#x795E;&#x7ECF;&#x5143;&#x7684;&#x9690;&#x85CF;&#x5C42;&#xFF0C;&#x7ED3;&#x5408;&#x5206;&#x6570;&#x5411;&#x91CF;&#x7528;&#x6765;&#x5B66;&#x4E60;&#x6587;&#x6863;&#x7684;rank&#x503C;&#x3002;&#x8BE5;&#x7F51;&#x7EDC;&#x88AB;&#x8BAD;&#x7EC3;&#x6765;&#x5339;&#x914D;&#x8F93;&#x5165;&#x5411;&#x91CF;&#xFF0C;&#x8F93;&#x51FA;&#x4E3A;0&#x6216;&#x8005;1&#x3002;&#x5BF9;&#x4E8E;&#x8FC7;&#x62DF;&#x5408;&#x7684;&#x6570;&#x636E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E22;&#x5F03;&#x6570;&#x636E;&#x3002; 4. Weighted Sum&#xFF1A;&#x4E0E;nDCG&#x65B9;&#x6CD5;&#x76F8;&#x53CD;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x65E8;&#x5728;&#x901A;&#x8FC7;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x5C06;&#x5F97;&#x5206;&#x5411;&#x91CF;&#x6620;&#x5C04;&#x5230;&#x5E26;&#x6CE8;&#x91CA;&#x7684;&#x6587;&#x6863;&#x6807;&#x7B7E;&#x4E0A;&#x3002; 5. Neural Embeddings and GAN Values Exclusively&#xFF1A;&#x6700;&#x540E;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x4E0E;&#x7B2C;&#x56DB;&#x79CD;&#x878D;&#x5408;&#x65B9;&#x6CD5;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x4E0D;&#x8003;&#x8651;&#x4EFB;&#x4F55;tfidf&#x5206;&#x6570;&#x3002; &#x5982;&#x524D;&#x6240;&#x8FF0;&#xFF0C;&#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x901A;&#x8FC7;&#x7CBE;&#x786E;&#x5339;&#x914D;&#x65B9;&#x6CD5;&#x9884;&#x5148;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x79CD;&#x878D;&#x5408;&#x6D4B;&#x8BD5;&#x4E86;&#x8FD9;&#x79CD;&#x7CBE;&#x786E;&#x672F;&#x8BED;&#x7684;&#x9884;&#x9009;&#x662F;&#x5426;&#x8DB3;&#x4EE5;&#x4EC5;&#x4F7F;&#x7528;&#x795E;&#x7ECF;&#x5D4C;&#x5165;&#x5206;&#x6570;&#x548C;GAN&#x4F30;&#x503C;&#x5BF9;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x6392;&#x540D;&#x3002;","categories":[{"name":"Information Retrieval","slug":"Information-Retrieval","permalink":"http://www.liufr.com/categories/Information-Retrieval/"}],"tags":[{"name":"Information Retrieval","slug":"Information-Retrieval","permalink":"http://www.liufr.com/tags/Information-Retrieval/"}],"author":"刘丰瑞"},{"title":"非负矩阵分解","slug":"算法/2018-10-15-非负矩阵分解","date":"2018-10-17T16:00:00.000Z","updated":"2019-09-17T07:56:27.700Z","comments":true,"path":"2018/10/18/算法/2018-10-15-非负矩阵分解/","link":"","permalink":"http://www.liufr.com/2018/10/18/算法/2018-10-15-非负矩阵分解/","excerpt":"","text":"&#x539F;&#x8BBA;&#x6587; Algorithms for Non-negative Matrix Factorization &#x6458;&#x8981; &#x975E;&#x8D1F;&#x77E9;&#x9635;(NMF)&#x5BF9;&#x4E8E;&#x591A;&#x5143;&#x6570;&#x636E;&#x7684;&#x5206;&#x89E3;&#x6765;&#x8BF4;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x8FD9;&#x91CC;&#x5206;&#x6790;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;NMF&#x7B97;&#x6CD5;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x6700;&#x5C0F;&#x5316;&#x4E8C;&#x4E58;&#x8BEF;&#x5DEE;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x6700;&#x5C0F;&#x5316;&#x5E7F;&#x4E49;Kullback-Leibler&#x5206;&#x6B67;&#x3002;&#x4E24;&#x79CD;&#x7B97;&#x6CD5;&#x7684;&#x5355;&#x8C03;&#x6536;&#x655B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7C7B;&#x4F3C;&#x4E8E;&#x7528;&#x4E8E;&#x8BC1;&#x660E;&#x671F;&#x671B;&#x6700;&#x5927;&#x5316;&#x7B97;&#x6CD5;&#x7684;&#x6536;&#x655B;&#x7684;&#x8F85;&#x52A9;&#x529F;&#x80FD;&#x6765;&#x8BC1;&#x660E;&#x3002;&#x7B97;&#x6CD5;&#x4E5F;&#x53EF;&#x4EE5;&#x89E3;&#x91CA;&#x4E3A;&#x5BF9;&#x89D2;&#x91CD;&#x65B0;&#x7F29;&#x653E;&#x7684;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#xFF0C;&#x5176;&#x4E2D;&#x6700;&#x4F73;&#x5730;&#x9009;&#x62E9;&#x91CD;&#x5B9A;&#x6807;&#x56E0;&#x5B50;&#x4EE5;&#x786E;&#x4FDD;&#x6536;&#x655B;&#x3002; &#x975E;&#x8D1F;&#x77E9;&#x9635;&#x7684;&#x5206;&#x89E3; &#x6211;&#x4EEC;&#x8003;&#x8651;&#x4EE5;&#x4E0B;&#x5F62;&#x5F0F;&#x5316;&#x95EE;&#x9898;&#x7684;&#x6C42;&#x89E3;&#xFF1A; NMF &#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x975E;&#x8D1F;&#x77E9;&#x9635;\\(V\\)&#xFF0C;&#x627E;&#x5230;&#x975E;&#x8D1F;&#x77E9;&#x9635;\\(W\\)&#x548C;\\(H\\)&#x4F7F;&#x5F97;&#x6709;&#x4EE5;&#x4E0B;&#x5F0F;&#x5B50;&#xFF1A; \\[V \\approx WH \\tag{1}\\] NMF&#x53EF;&#x4EE5;\b&#x88AB;&#x5E94;&#x7528;&#x5230;&#x591A;&#x5143;&#x6570;&#x636E;&#x7684;&#x7EDF;&#x8BA1;&#x5206;&#x6790;&#x5F53;&#x4E2D;&#xFF0C;&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;n&#x7EF4;&#x7684;&#x6570;&#x636E;&#x5411;&#x91CF;&#x96C6;&#xFF0C;&#x7531;&#x4E00;&#x4E2A; \\(n*m\\) &#x7684;&#x77E9;&#x9635;\\(V\\)&#x6765;&#x8868;&#x793A;&#xFF0C;&#x5176;&#x4E2D;\\(m\\)&#x8868;&#x793A;&#x6570;&#x636E;&#x96C6;&#x7684;&#x4F8B;&#x5B50;&#x4E2A;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x77E9;&#x9635;&#x53EF;&#x4EE5;&#x88AB;&#x5206;&#x89E3;&#x6210;\\(n*r\\)&#x7684;&#x77E9;&#x9635;\\(W\\)&#x4EE5;&#x53CA;\\(r*m\\)&#x7684;&#x77E9;&#x9635;\\(H\\)&#xFF0C;&#x901A;&#x5E38;\\(r\\)&#x90FD;&#x662F;&#x8981;&#x6BD4;\\(n\\)&#x548C;\\(m\\)&#x8981;&#x5C0F;&#x7684;&#xFF0C;&#x6240;&#x4EE5;\\(W\\)&#x4E0E;\\(H\\)&#x4E5F;&#x6BD4;&#x539F;&#x59CB;&#x77E9;&#x9635;&#x8981;&#x5C0F;&#x4E00;&#x4E9B;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x662F;&#x539F;&#x59CB;&#x6570;&#x636E;&#x77E9;&#x9635;&#x7684;&#x4E00;&#x79CD;&#x538B;&#x7F29;&#x3002; \b&#x90A3;&#x4E48;&#x516C;&#x5F0F;&#xFF08;1&#xFF09;&#x6709;&#x4EC0;&#x4E48;&#x610F;&#x4E49;&#x5462;&#xFF1F;&#x4ED6;&#x53EF;&#x4EE5;&#x643A;&#x7A0B;&#x5217;&#x7684;&#x5F62;&#x5F0F;\\(v \\approx Wh\\)&#xFF0C;\\(v\\)&#x548C;\\(h\\)&#x90FD;&#x662F;&#x5BF9;&#x5E94;&#x77E9;&#x9635;\\(V\\)&#x548C;\\(H\\)&#x7684;&#x67D0;&#x4E00;&#x5217;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6BCF;&#x4E00;&#x5217;&#x7684;&#x6570;&#x636E;&#x5411;&#x91CF;\\(v\\)&#x90FD;&#x662F;&#x5BF9;&#x4E8E;&#x77E9;&#x9635;\\(W\\)&#x7684;&#x4E00;&#x4E2A;&#x7EBF;&#x6027;&#x53D8;&#x6362;&#xFF0C;&#x6743;&#x91CD;&#x53D6;&#x503C;&#x4E3A;\\(h\\)&#x3002;&#x56E0;&#x6B64;\\(W\\)&#x53EF;&#x4EE5;&#x88AB;&#x89C6;&#x4E3A;&#x5305;&#x542B;&#x9488;&#x5BF9;V&#x4E2D;&#x7684;&#x6570;&#x636E;&#x7684;&#x7EBF;&#x6027;&#x8FD1;&#x4F3C;&#x800C;&#x4F18;&#x5316;&#x7684;&#x57FA;&#x7840;&#x3002;&#x56E0;&#x4E3A;&#x5F88;&#x591A;&#x57FA;&#x672C;&#x5217;&#x90FD;&#x53EF;&#x4EE5;&#x53D8;&#x6362;&#x5F97;&#x5230;&#x5176;&#x4ED6;&#x7684;&#x6570;&#x636E;&#x5411;&#x91CF;&#xFF0C;&#x56E0;&#x6B64;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x53D8;&#x6362;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x57FA;&#x672C;&#x5217;&#x6765;&#x5B9E;&#x73B0;&#x3002; &#x73B0;&#x5728;&#x6240;&#x5173;&#x6CE8;&#x7684;&#x4E0D;&#x662F;NMF&#x7684;&#x5982;&#x4F55;&#x5E94;&#x7528;&#xFF0C;&#x800C;&#x662F;&#x5173;&#x6CE8;&#x4E0E;&#x627E;&#x5230;&#x975E;&#x8D1F;&#x77E9;&#x9635;&#x5982;&#x4F55;&#x5206;&#x89E3;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x7684;&#x77E9;&#x9635;&#x5206;&#x89E3;&#x5DF2;&#x7ECF;&#x5728;&#x6570;&#x503C;&#x7EBF;&#x6027;&#x4EE3;&#x6570;&#x4E2D;&#x88AB;&#x5E7F;&#x6CDB;&#x7814;&#x7A76;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x975E;&#x8D1F;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x4F7F;&#x5F97;&#x4E4B;&#x524D;&#x7684;&#x5DE5;&#x4F5C;&#x4E0E;&#x73B0;&#x5728;&#x7684;&#x4F8B;&#x5B50;&#x4E0D;&#x5B8C;&#x5168;&#x517C;&#x5BB9;&#x3002; &#x73B0;&#x5728;&#x6211;&#x4EEC;&#x8003;&#x8651;&#x4E24;&#x79CD;&#x57FA;&#x4E8E;&#x4E0D;&#x65AD;&#x8FED;&#x4EE3;&#x66F4;&#x65B0;\\(W\\)&#x548C;\\(H\\)&#x7684;NMF&#x7B97;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x7B97;&#x6CD5;&#x5BB9;&#x6613;&#x5B9E;&#x73B0;&#x4E14;&#x53EF;&#x4EE5;&#x6536;&#x655B;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x4E2D;&#x4E5F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x3002;&#x5176;&#x4ED6;&#x7B97;&#x6CD5;&#x53EF;&#x80FD;&#x4E5F;&#x6709;&#x6548;&#x4F46;&#x662F;&#x6BD4;&#x8F83;&#x96BE;&#x5B9E;&#x73B0;&#x3002; &#x5728;&#x6211;&#x4EEC;&#x7B97;&#x6CD5;&#x7684;&#x6BCF;&#x4E00;&#x6B21;&#x8FED;&#x4EE3;&#x4E2D;&#xFF0C;\\(W\\)&#x4E0E;\\(H\\)&#x7684;&#x65B0;&#x503C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x516C;&#x5F0F;&#xFF08;1&#xFF09;&#x5C06;&#x5F53;&#x524D;&#x503C;&#x4E58;&#x4EE5;&#x8D28;&#x91CF;&#x56E0;&#x5B50;&#x800C;&#x5F97;&#x3002;&#x6211;&#x4EEC;&#x8BC1;&#x660E;&#x5F97;&#x51FA;&#x8FD9;&#x79CD;&#x8FD1;&#x4F3C;&#x4F30;&#x8BA1;&#x7684;&#x8D28;&#x91CF;&#x968F;&#x7740;&#x5E94;&#x7528;&#x7684;&#x591A;&#x6B21;&#x8FED;&#x4EE3;&#xFF0C;&#x5355;&#x8C03;&#x9012;&#x589E;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x8FD9;&#x79CD;&#x91CD;&#x590D;&#x8FED;&#x4EE3;&#x901A;&#x8FC7;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x4FDD;&#x8BC1;&#x4E86;&#x77E9;&#x9635;&#x5206;&#x89E3;&#x7684;&#x5C40;&#x90E8;&#x4F18;&#x5316;&#x7684;&#x6536;&#x655B;&#x3002; \b&#x6210;&#x672C;&#x51FD;&#x6570; &#x4E3A;&#x4E86;&#x627E;&#x5230;&#x8FD1;&#x4F3C;&#x5206;&#x89E3;\\(V \\approx WH\\)&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x9700;&#x8981;&#x786E;&#x5B9A;&#x6210;&#x672C;&#x51FD;&#x6570;&#x6765;&#x91CF;&#x5316;&#x4F30;&#x8BA1;&#x8D28;&#x91CF;&#x3002;&#x6210;&#x672C;&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6784;&#x9020;&#x4E24;&#x4E2A;&#x975E;&#x8D1F;&#x77E9;&#x9635;\\(A\\)&#x548C;\\(B\\)&#x7684;&#x8DDD;&#x79BB;&#x6765;&#x786E;&#x5B9A;&#x3002;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x6D4B;&#x91CF;&#x5C31;&#x662F;&#x7B80;&#x5355;&#x8BA1;&#x7B97;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x7684;&#x6B27;&#x6C0F;&#x8DDD;&#x79BB; \\[ \\left \\| A-B \\right \\|^2=\\sum_{ij}(A_{ij}-B_{ij})^2 \\tag{2} \\] &#x6839;&#x636E;&#x4E0A;&#x5F0F;&#x53EF;&#x4EE5;&#x660E;&#x663E;&#x770B;&#x51FA;&#x5F53;\\(A=B\\)&#x65F6;&#xFF0C;&#x53D6;&#x4E0B;&#x754C;0&#x3002;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x6D4B;&#x91CF;&#x65B9;&#x6CD5;&#x662F; \\[ D(A||B)=\\sum_{ij}(A_{ij}log\\frac{A_{ij}}{B_{ij}})-A_{ij}+B_{ij} \\tag{3} \\] &#x867D;&#x7136;&#x4E0A;&#x5F0F;&#x7684;&#x4E0B;&#x754C;&#x4E5F;&#x662F;0&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x4E0D;&#x80FD;&#x79F0;&#x4E4B;&#x4E3A;&#x8DDD;&#x79BB;&#xFF0C;&#x56E0;&#x4E3A;&#x5E76;&#x6CA1;&#x6709;&#x6839;&#x636E;A&#x548C;B&#x5BF9;&#x79F0;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C06;&#x5176;&#x79F0;&#x4E4B;&#x4E3A;A&#x4E0E;B&#x7684;&#x533A;&#x5206;&#x5EA6;&#xFF0C;&#x5B83;&#x7B80;&#x5316;&#x4E86;Kullback-Leibler&#x5206;&#x6B67;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x662F;&#x76F8;&#x5BF9;&#x71B5;&#x3002;&#x5F53;\\(\\sum_{ij}A_{ij}=\\sum_{ij}B_{ij}=1\\)&#xFF0C;A&#x548C;B&#x53EF;&#x4EE5;&#x88AB;&#x770B;&#x4F5C;&#x662F;&#x5F52;&#x4E00;&#x5316;&#x7684;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002; &#x73B0;&#x5728;&#x6211;&#x4EEC;&#x8003;&#x8651;&#x4E24;&#x4E2A;&#x53EF;&#x80FD;&#x7684;&#x5F62;&#x5F0F;&#x5316;NMF&#x4F18;&#x5316;&#x95EE;&#x9898;&#xFF1A; Problem 1 &#x6700;&#x5C0F;&#x5316;&#x5173;&#x4E8E;W&#x548C;H&#x7684;&#x5F0F;&#x5B50;\\(\\left \\|V-WH \\right \\|^2\\)&#xFF0C;&#x5176;&#x4E2D;\\(W&#xFF0C;H\\geq0\\) Problem 2&#x6700;&#x5C0F;&#x5316;&#x5173;&#x4E8E;W&#x548C;H&#x7684;&#x5F0F;&#x5B50;\\(D(V \\|WH)\\)&#xFF0C;&#x5176;&#x4E2D;\\(W&#xFF0C;H\\geq0\\) &#x5C3D;&#x7BA1;&#x4E0A;&#x5F0F;&#x5BF9;&#x4E8E;\\(WH\\)&#x90FD;&#x5206;&#x522B;&#x662F;&#x51F8;&#x51FD;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x4E8C;&#x8005;&#x4E00;&#x8D77;&#x6765;&#x770B;&#x5C31;&#x4E0D;&#x662F;&#x51F8;&#x51FD;&#x6570;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x5168;&#x5C40;&#x5BF9;&#x4E8E;\\(WH\\)&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x6700;&#x5C0F;&#x503C;&#x662F;&#x4E0D;&#x73B0;&#x5B9E;&#x7684;&#xFF0C;&#x7136;&#x800C;&#x6709;&#x5F88;&#x591A;&#x6280;&#x672F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6570;&#x503C;&#x4F18;&#x5316;&#x627E;&#x5230;&#x5C40;&#x90E8;&#x6700;&#x5C0F;&#x503C;&#x3002; &#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5;&#x53EF;&#x80FD;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x6536;&#x655B;&#x901F;&#x5EA6;&#x53EF;&#x80FD;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x53E6;&#x5916;&#x7684;&#x5982;&#x5171;&#x8F6D;&#x68AF;&#x5EA6;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x6536;&#x655B;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x5C40;&#x90E8;&#x6700;&#x5C0F;&#x503C;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x73B0;&#x590D;&#x6742;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5;&#x5BF9;&#x4E8E;&#x6B65;&#x957F;&#x8FD8;&#x6BD4;&#x8F83;&#x654F;&#x611F;&#xFF0C;&#x5BF9;&#x4E8E;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x5E94;&#x7528;&#x6765;&#x8BF4;&#x9002;&#x5E94;&#x6027;&#x6BD4;&#x8F83;&#x4F4E;&#x3002; &#x4E58;&#x6CD5;&#x66F4;&#x65B0;&#x89C4;&#x5219; &#x6211;&#x4EEC;&#x53D1;&#x73B0;&quot;&#x4E58;&#x6CD5;&#x66F4;&#x65B0;&#x89C4;&#x5219;&quot;&#x5BF9;&#x4E8E;&#x89E3;&#x51B3;Problem 1&amp;2&#x6765;&#x8BF4;&#x6709;&#x8F83;&#x9AD8;&#x7684;&#x6548;&#x7387;&#x63D0;&#x5347;&#x4E14;&#x6613;&#x4E8E;&#x5B9E;&#x73B0;&#x3002; Theorem 1 &#x6B27;&#x6C0F;&#x8DDD;&#x79BB;\\(\\left \\| V -WH \\right \\|\\)&#x5728;&#x4EE5;&#x4E0B;&#x7684;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x4E2D;&#x662F;&#x975E;&#x589E;&#x957F;&#x7684;&#x5F53;W&#x548C;H&#x8FBE;&#x5230;&#x5E73;&#x7A33;&#x70B9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6B27;&#x6C0F;&#x8DDD;&#x79BB;&#x4E0D;&#x518D;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002; \\[ H_{a \\mu} \\leftarrow H_{a \\mu} \\\\frac{(W^TV)\\_{a\\mu}}{(W^TWH)_{a\\mu}} \\] \\[ W_{ia} \\leftarrow W_{ia} \\frac{(VH^T)\\_{ia}}{(WHH^T)_{ia}} \\tag{4} \\] Theorem 2 \\(D(V \\|WH)\\)&#x7684;&#x5206;&#x6B67;&#x5B50;&#x554A;&#x4EE5;&#x4E0B;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x4E2D;&#x4E0D;&#x518D;&#x589E;&#x52A0;&#x3002; \\[ H_{a \\mu} \\leftarrow H_{a \\mu} \\frac{\\sum_iW_{ia}V_{i\\mu}/(WH)_{i\\mu}}{\\sum_kW_{ka}} \\\\\\\\ W_{ia} \\leftarrow W_{ia} \\frac{\\sum_{\\mu}H_{a\\mu}V_{i\\mu}/(WH)_{i\\mu}}{\\sum_vH_{av}} \\tag{5} \\] &#x5F53;W&#x548C;H&#x8FBE;&#x5230;&#x5E73;&#x7A33;&#x70B9;&#x65F6;&#xFF0C;&#x533A;&#x5206;&#x5EA6;\b&#x4F1A;&#x4FDD;&#x6301;&#x4E0D;&#x53D8; &#x4E58;&#x6CD5;&#x4E0E;&#x52A0;&#x6CD5;&#x66F4;&#x65B0;&#x89C4;&#x5219; &#x62FF;&#x4E58;&#x6CD5;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x4E0E;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5;&#x76F8;&#x6BD4;&#x8F83;&#x662F;&#x5F88;&#x6709;&#x7528;&#x7684;&#x3002;&#x7279;&#x522B;&#x7684;&#x6709;&#xFF0C;&#x4E00;&#x4E2A;&#x5BF9;&#x4E8E;H&#x7684;&#x7B80;&#x5355;&#x52A0;&#x6CD5;&#x66F4;&#x65B0;&#x53EF;&#x4EE5;&#x51CF;&#x5C0F;&#x5E73;&#x65B9;&#x8DDD;&#x79BB;&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x5199;&#x4F5C;&#xFF1A; \\[ H_{a\\mu} \\leftarrow H_{a\\mu}+ \\eta_{a\\mu}[(W^TV)\\_{a\\mu}-(W^TWH)_{a\\mu}] \\tag{6} \\] &#x5982;&#x679C;\\(\\eta_{a\\mu}\\)&#x90FD;&#x7B49;&#x4E8E;&#x5C0F;&#x7684;&#x6B63;&#x6574;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x662F;&#x5E38;&#x89C4;&#x7684;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5;&#xFF0C;&#x53EA;&#x8981;&#x8FD9;&#x4E2A;&#x6570;&#x8DB3;&#x591F;&#x5C0F;&#x90A3;&#x4E48;&#x8BE5;&#x5F0F;&#x5C31;&#x53EF;&#x4EE5;&#x89C4;&#x7EA6;&#x6210;\\(\\left \\| V-WH \\right \\|\\) &#x5982;&#x679C;&#x6211;&#x4EEC;&#x89C4;&#x5B9A;&#x53D8;&#x91CF;\b \\[ \\eta_{a\\mu} = \\frac{H_{a\\mu}}{(W^TWH)_{a\\mu}} \\tag{7} \\] &#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x5F97;&#x5230;&#x4E86;Theorem 1&#x7684;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x3002;&#x6CE8;&#x610F;&#x5230;&#x91CD;&#x7F29;&#x653E;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x7531;&#x4E58;&#x6CD5;&#x56E0;&#x5B50;&#x4E0E;&#x5206;&#x6BCD;&#x4E2D;&#x7684;&#x68AF;&#x5EA6;&#x7684;&#x6B63;&#x5206;&#x91CF;&#x4EE5;&#x53CA;&#x5206;&#x5B50;&#x4E2D;&#x7684;&#x8D1F;&#x5206;&#x91CF;&#x7684;&#x7EDD;&#x5BF9;&#x503C;&#x6765;&#x51B3;&#x5B9A;&#x7684;&#x3002; &#x81F3;&#x4E8E;&#x533A;&#x5206;&#x5EA6;&#xFF0C;&#x659C;&#x5411;&#x91CD;&#x7F29;&#x653E;&#x7684;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x4E3A; \\[ H_{a\\mu} \\leftarrow H_{a\\mu}+\\eta_{a\\mu}[\\sum_iW_{ia}\\frac{V_{i\\mu}}{(WH)_{i\\mu}}-\\sum_iW_{ia}] \\tag{8} \\] &#x540C;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x679C;\\(\\eta_{a\\mu}\\)&#x662F;&#x5C0F;&#x7684;&#x6B63;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x66F4;&#x65B0;&#x5E94;&#x8BE5;&#x4F1A;&#x51CF;&#x5C11;\\(D(V||WH)\\)&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8BBE;&#x5B9A; \\[ \\eta_{a\\mu}=\\frac{H_{a\\mu}}{\\sum_iW_{ia}} \\tag{9} \\] &#x6211;&#x4EEC;&#x5C06;&#x4F1A;&#x5F97;&#x5230;&#x5BF9;&#x4E8E;H&#x7684;Theorem 2&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x3002;&#x8FD9;&#x4E2A;&#x91CD;&#x7F29;&#x653E;&#x80FD;&#x591F;&#x88AB;&#x89E3;&#x91CA;&#x6210;&#x4E00;&#x4E2A;&#x5728;&#x5206;&#x6BCD;&#x4E2D;&#x6709;&#x6B63;\b&#x56E0;&#x5B50;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x7684;&#x4E58;&#x6CD5;&#x89C4;&#x5219;&#x548C;&#x5206;&#x5B50;&#x4E2D;&#x6709;&#x8D1F;&#x56E0;&#x5B50;&#x7684;&#x4E58;&#x6CD5;&#x56E0;&#x5B50;&#x3002; &#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x7684;\\(\\eta_{a\\mu}\\)&#x5E76;&#x4E0D;&#x975E;&#x5E38;&#x5C0F;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x5E76;&#x4E0D;&#x4FDD;&#x8BC1;&#x8FD9;&#x6837;&#x7684;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x4F1A;&#x9020;&#x6210;&#x6210;&#x672C;&#x51FD;&#x6570;&#x7684;&#x6536;&#x655B;&#x3002;&#x4F46;&#x662F;&#x4E0B;&#x4E00;&#x8282;&#x5C06;&#x4F1A;&#x5BF9;&#x6B64;&#x8BC1;&#x660E;&#x3002; &#x6536;&#x655B;&#x8BC1;&#x660E; &#x4E3A;&#x4E86;&#x8BC1;&#x660E;\\(Theorems 1,2\\)&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#x6765;&#x8FD1;&#x4F3C;&#x671F;&#x671B;&#x6700;&#x5927;&#x5316;&#x7684;&#x7B97;&#x6CD5;&#x3002; &#x5B9A;&#x7406; 1 \\(G(h,h&apos;)\\)&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x4E8E;\\(F(h)\\)&#x7684;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#xFF0C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x4EE5;&#x4E0B;&#x6761;&#x4EF6;&#x6EE1;&#x8DB3;&#x65F6; \\[ G(h,h&apos;) \\geq F(h),G(h,h)=F(h) \\tag{10} \\] &#x7531;&#x4E8E;Lemma 1&#xFF0C;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x6709;&#x5E2E;&#x52A9;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5728;Fig.1&#x4E2D;&#x6709;&#x6240;&#x9610;&#x91CA;&#x3002; &#x5982;&#x679C;G&#x662F;&#x4E00;&#x4E2A;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#xFF0C;&#x90A3;&#x4E48;F&#x5728;&#x66F4;&#x65B0;&#x8FC7;&#x7A0B;&#x4E2D;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x589E;&#x957F;&#x7684;&#x3002; \\[ h^{t+1}=arg min_h\\,G(h,h^t) \\tag{11} \\] &#x8BC1;&#x660E;&#xFF1A; \\(F(h^{t+1})\\leq G(h^{t+1},h^t)\\leq G(h^t,h^t) = F(h^t)\\) &#x6CE8;&#x610F;&#x5230;&#x5F53;\\(h^t\\)&#x662F;&#x51FD;&#x6570;\\(G(h,h^t)\\)&#x7684;&#x5C40;&#x90E8;&#x6700;&#x5C0F;&#x70B9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6709;\\(F(h^{t+1})=F(h^t)\\)&#x3002;&#x5982;&#x679C;\\(F\\)&#x5B58;&#x5728;&#x5206;&#x6B67;&#x4E14;&#x5728;\\(h^t\\)&#x7684;&#x5F88;&#x5C0F;&#x4E00;&#x4E2A;&#x90BB;&#x57DF;&#x5185;&#x8FDE;&#x7EED;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;\\(\\bigtriangledown F(h^t)=0\\)&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x7531;(11)&#x7684;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#xFF0C;&#x6211;&#x4EEC;&#x80FD;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5E8F;&#x5217;&#xFF0C;&#x5728;&#x5C40;&#x90E8;&#x5BF9;&#x76EE;&#x6807;&#x51FD;&#x6570;&#x7684;&#x6700;&#x5C0F;&#x503C;&#x8FDE;&#x7EED;&#x7684;&#x6536;&#x655B;&#x4F30;&#x8BA1;\\(h_{min}=arg\\,min_hF(h)\\) \\[ F(h_{min}) \\leq ...F(h^{t+1}) \\leq F(h^t) ... \\leq F(h_2) \\leq F(h_1) \\leq F(h_0) \\tag{12} \\] &#x5B9A;&#x7406; 2 &#x5982;&#x679C;\\(K(h^t)\\)&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x89D2;&#x77E9;&#x9635; \\[ K_{ab}(h^t) = \\delta_{ab}(W^TWh^t)_a/h_a^t/h_a^t \\tag{13} \\] &#x7136;&#x540E; \\[ G(h,h^t) = F(h^t)+(h-h^t)^T\\bigtriangledown F(h^t) + \\frac{1}{2}(h-h^t)^TK(h^t)(h-h^t) \\tag{14} \\] &#x4F5C;&#x4E3A;&#x4EE5;&#x4E0B;&#x51FD;&#x6570;&#x7684;&#x8F85;&#x52A9;&#x51FD;&#x6570; \\[ F(h)=\\frac{1}{2}\\sum_i(v_i-\\sum_aW_{ia}h_a)^2 \\tag{15} \\] &#x8BC1;&#x660E;&#x6709;&#xFF1A; &#x56E0;&#x4E3A;G(h,h) = F(h),&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8BC1;&#x660E;\\(G(h,h^t)\\geq F(h)\\) &#x6211;&#x4EEC;&#x6BD4;&#x8F83;&#x4E0B;&#x5F0F;&#x4E0E;(14) \\[ F(h) = F(h^t)+(h-h^t)^T\\bigtriangledown F(h^t) + \\frac{1}{2}(h-h^t)^T(W^TW)(h-h^t) \\tag{16} \\] &#x53D1;&#x73B0;&#x8981;&#x6EE1;&#x8DB3;\\(G(h,h^t)\\geq F(h)\\)&#x7B49;&#x4EF7;&#x4E8E; \\[ 0 \\leq (h-h^t)^T\\[K(h^t)-W^TW\\]\\(h-h^t) \\tag{17} \\] &#x4E3A;&#x4E86;&#x8BC1;&#x660E;&#x534A;&#x5B9A;&#xFF0C;&#x8003;&#x8651;&#x4EE5;&#x4E0B;&#x77E9;&#x9635;&#xFF1A; \\[ M_{ab}(h^t) = h_a^t(K(h^t)-W^TW)_{ab}h_b^t \\tag{18} \\] &#x8FD9;&#x6837;&#xFF0C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;\\(M\\)&#x662F;&#x4E00;&#x4E2A;&#x534A;&#x6B63;&#x5B9A;&#x77E9;&#x9635;&#x65F6;&#xFF0C;\\(K-W^TW\\)&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x534A;&#x6B63;&#x5B9A;&#x7684;&#x77E9;&#x9635;&#x3002;&#x6709;&#xFF1A; \\[ \\begin{aligned} \\upsilon^TM\\upsilon = \\frac{1}{2}\\sum_{ab}(W^TW)_{ab}h_a^th_b^t(\\upsilon_a - \\upsilon_b)^2 \\end{aligned} \\] &#x4E0A;&#x5F0F;&#x5927;&#x4E8E;0&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BC1;&#x660E;Theorem1&#x7684;&#x6536;&#x655B; Theorem 1&#x8BC1;&#x660E; &#x5C06;&#x516C;&#x5F0F;(1\b4)&#x7684;\b&#x7ED3;&#x679C;&#x4EE3;&#x5165;&#x516C;&#x5F0F;(11)&#x4E2D;&#x5F97;&#x5230;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#xFF1A; \\[ h^{t+1} = h^t - K(h^t)^{-1} \\bigtriangledown F(h^t) \\tag{21} \\] &#x56E0;&#x4E3A;&#x516C;&#x5F0F;(14)&#x662F;&#x4E00;&#x4E2A;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#xFF0C;F&#x5728;&#x6B64;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x4E0B;&#x662F;&#x975E;&#x589E;&#x957F;&#x7684;&#xFF0C;&#x6839;&#x636E;Lemma 1&#xFF0C;&#x53EF;&#x4EE5;&#x660E;&#x786E;&#x5F97;&#x5230;&#x4E0B;&#x5F0F;&#xFF1A; \\[ h_a^{t+1} = h_a^t\\frac{W^T\\upsilon_a}{W^TWh^t}_a \\tag{22} \\] &#x7FFB;&#x8F6C;W&#x4E0E;H&#x7684;&#x89D2;&#x8272;&#xFF0C;F&#x4E5F;&#x53EF;&#x4EE5;&#x5728;W&#x7684;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x4E0B;&#x4FDD;&#x6301;&#x4E0D;&#x589E;&#x957F;&#x3002; \b&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x8003;&#x8651;&#x5BF9;&#x4E8E;&#x5206;&#x6B67;&#x5F00;&#x9500;&#x51FD;&#x6570;&#x7684;&#x4F30;&#x8BA1;&#x51FD;&#x6570;&#x3002; Lemma 3 &#x5B9A;&#x4E49; \\[ G(h,h^t) = \\sum_i(\\upsilon_i log\\upsilon_i - \\upsilon_i)+\\sum_{ia}W_{ia}h_a \\\\ -\\sum_{ia}\\upsilon_i \\frac{W_{ia}h_a^t}{\\sum_bW_{ib}h_b^t}(logW_{ia}h_a-log\\frac{W_{ia}h_a^t}{\\sum_b}W_{ib}h_b^t) \\tag{23} \\] &#x8FD9;&#x662F;&#x5BF9;&#x4E8E;&#x4E0B;&#x5F0F;&#x7684;&#x8F85;&#x52A9;&#x51FD;&#x6570; \\[ F(h) = \\sum_i \\upsilon_ilog(\\frac{\\upsilon_i}{\\sum_aW_{ia}h_a}) - \\upsilon_i + \\sum_aW_{ia}h_a \\tag{24} \\] &#x8BC1;&#x660E; &#x53EF;&#x4EE5;&#x5F88;&#x76F4;&#x63A5;&#x8BC1;&#x660E;\\(G(h,h)=F(h)\\)&#xFF0C;&#x4E3A;&#x4E86;&#x8BC1;&#x660E;\\(G(h,h) \\geq F(h)\\)&#xFF0C;&#x6709; \\[ -log \\sum_aW_{ia}h_a \\leq -\\sum_a\\alpha_a log\\frac{W_{ia}h_a}{\\alpha_a} \\tag{25} \\] &#x603B;&#x7684;&#x6765;&#x8BF4;&#x8FD9;&#x91CC;&#x7684;\\(\\alpha_a\\)&#x662F;&#x975E;&#x8D1F;&#x7684;&#x3002;&#x8BBE;&#x5B9A;&#x6709; \\[ \\alpha_a = \\frac{W_{ia}h_a^t}{\\sum_bW_{ib}h_b^t} \\tag{26} \\] &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7531;&#x6B64;&#x5F97;&#x5230; \\[ -log\\sum_aW_{ia}h_a \\leq - \\sum_a\\frac{W_{ia}h_a^t}{\\sum_bW_{ib}h_b^t}(log W_{ia}h_a - log\\frac{W_{ia}}{\\sum_bW_{ib}h_b^t}) \\tag{27} \\] &#x4ECE;&#x4E0A;&#x8FF0;&#x4E0D;&#x7B49;&#x5F0F;&#x53EF;&#x4EE5;&#x770B;&#x51FA;\\(F(h)\\leq G(h,h^t)\\) Theorem 2&#x8BC1;&#x660E; &#x5173;&#x4E8E;h&#x7684;\\(G(h,h^t)\\)&#x7684;&#x6700;&#x5C0F;&#x503C;&#x662F;&#x7531;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x4E3A;0&#x65F6;&#x800C;&#x51B3;&#x5B9A;&#x7684;&#xFF1A; \\[ \\frac{dF(h,h^t)}{dh_a}=-\\sum_i \\upsilon_i\\frac{W_{ia}h_a^t}{\\sum_bW_{ib}h_b^t}W_{ia} \\tag{28} \\] &#x56E0;&#x4E3A;G&#x662F;&#x4E00;&#x4E2A;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x516C;&#x5F0F;(24)&#x91CC;&#x9762;&#xFF0C;F&#x5728;&#x66F4;&#x65B0;&#x4E0B;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x589E;&#x957F;&#x7684;&#x51FD;&#x6570;&#x3002;&#x91CD;&#x5199;&#x8BE5;&#x77E9;&#x9635;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x516C;&#x5F0F;(5)&#x3002;&#x7FFB;&#x8F6C;H&#x548C;W&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x5173;&#x4E8E;W&#x7684;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x662F;&#x975E;&#x589E;&#x957F;&#x7684;&#x3002;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"蜜罐技术","slug":"安全/2018-09-02-蜜罐技术","date":"2018-09-01T16:00:00.000Z","updated":"2018-09-02T13:57:28.640Z","comments":true,"path":"2018/09/02/安全/2018-09-02-蜜罐技术/","link":"","permalink":"http://www.liufr.com/2018/09/02/安全/2018-09-02-蜜罐技术/","excerpt":"","text":"&#x871C;&#x7F50;&#x6280;&#x672F; &#x871C;&#x7F50;&#x4E3B;&#x8981;&#x5DE5;&#x4F5C;&#x539F;&#x7406; &#x871C;&#x7F50;&#x901A;&#x5E38;&#x4F2A;&#x88C5;&#x6210;&#x770B;&#x4F3C;&#x6709;&#x5229;&#x7528;&#x4EF7;&#x503C;&#x7684;&#x7F51;&#x7EDC;&#x4E14;&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x5FC5;&#x8981;&#x7684;&#x6F0F;&#x6D1E;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x653B;&#x51FB;&#x8005;&#x8BD5;&#x56FE;&#x4FB5;&#x5165;&#x871C;&#x7F50;&#x65F6;&#xFF0C;&#x5165;&#x4FB5;&#x68C0;&#x6D4B;&#x7CFB;&#x7EDF;&#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x62A5;&#x8B66;&#xFF0C;&#x9690;&#x85CF;&#x7684;&#x8BB0;&#x5F55;&#x5668;&#x4F1A;&#x8BB0;&#x5F55;&#x4E0B;&#x5165;&#x4FB5;&#x8005;&#x4E00;&#x5207;&#x6D3B;&#x52A8;&#xFF0C;&#x5F53;&#x5165;&#x4FB5;&#x8005;&#x8BD5;&#x56FE;&#x4ECE;&#x871C;&#x7F50;&#x4E2D;&#x8F6C;&#x5411;&#x771F;&#x5B9E;&#x4E3B;&#x673A;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x9632;&#x706B;&#x5899;&#x4F1A;&#x968F;&#x65F6;&#x628A;&#x4E3B;&#x673A;&#x4ECE;&#x7F51;&#x7EDC;&#x4E0A;&#x65AD;&#x5F00;&#x3002; &#x871C;&#x7F50;&#x6280;&#x672F;&#x7684;&#x5206;&#x7C7B; &#x9AD8;&#x4EA4;&#x4E92;&#x871C;&#x7F50;&#xFF1A; &#x6A21;&#x62DF;&#x4E00;&#x4E2A;&#x5168;&#x529F;&#x80FD;&#x7684;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#xFF0C;&#x56E0;&#x6B64;&#x653B;&#x51FB;&#x8005;&#x53EF;&#x80FD;&#x56E0;&#x4E3A;&#x591A;&#x79CD;&#x670D;&#x52A1;&#x6D6A;&#x8D39;&#x653B;&#x51FB;&#x65F6;&#x95F4;&#x3002;&#x901A;&#x8FC7;&#x865A;&#x62DF;&#x673A;&#x6280;&#x672F;&#x53EF;&#x4EE5;&#x5728;&#x5355;&#x4E2A;&#x7269;&#x7406;&#x673A;&#x4E0A;&#x6258;&#x7BA1;&#x591A;&#x4E2A;&#x871C;&#x7F50;&#xFF0C;&#x4E5F;&#x65B9;&#x4FBF;&#x6062;&#x590D;&#x3002;&#x9AD8;&#x4EA4;&#x4E92;&#x871C;&#x7F50;&#x96BE;&#x4EE5;&#x68C0;&#x6D4B;&#xFF0C;&#x5B89;&#x5168;&#x6027;&#x8F83;&#x9AD8;&#x4F46;&#x662F;&#x7EF4;&#x62A4;&#x5F00;&#x9500;&#x4E5F;&#x8F83;&#x9AD8;&#xFF0C;&#x5BF9;&#x4E8E;&#x67D0;&#x4E9B;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x751A;&#x81F3;&#x9700;&#x8981;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x673A;&#x90E8;&#x7F72;&#x4E00;&#x4E2A;&#x871C;&#x7F50;&#x3002; &#x4F4E;&#x4EA4;&#x4E92;&#x871C;&#x7F50;&#xFF1A; &#x53EA;&#x6A21;&#x62DF;&#x90A3;&#x4E9B;&#x7ECF;&#x5E38;&#x88AB;&#x653B;&#x51FB;&#x8BF7;&#x6C42;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x7531;&#x4E8E;&#x5B83;&#x6D88;&#x8017;&#x7684;&#x8D44;&#x6E90;&#x6709;&#x9650;&#xFF0C;&#x590D;&#x6742;&#x5EA6;&#x8F83;&#x4F4E;&#x53EF;&#x4EE5;&#x964D;&#x4F4E;&#x4E00;&#x5B9A;&#x7684;&#x90E8;&#x7F72;&#x8D39;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x5B89;&#x5168;&#x6027;&#x4E5F;&#x76F8;&#x5BF9;&#x8F83;&#x4F4E;&#x3002; &#x871C;&#x7F50;&#x6280;&#x672F;&#x5B58;&#x5728;&#x7684;&#x98CE;&#x9669;&#xFF1A; &#x5982;&#x679C;&#x871C;&#x7F50;&#x88AB;&#x8BBE;&#x8BA1;&#x4ECE;&#x4E92;&#x8054;&#x7F51;&#x6765;&#x8BBF;&#x95EE;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x98CE;&#x9669;&#xFF0C;&#x521B;&#x5EFA;&#x975E;&#x4FE1;&#x4EFB;&#x7AD9;&#x70B9;&#x5217;&#x8868;&#x7684;&#x5916;&#x90E8;&#x76D1;&#x63A7;&#x7EC4;&#x7EC7;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x544A;&#x7EC4;&#x7EC7;&#x7684;&#x7CFB;&#x7EDF;&#x662F;&#x8106;&#x5F31;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x65E0;&#x6CD5;&#x533A;&#x5206;&#x8FD9;&#x4E2A;&#x8106;&#x5F31;&#x6027;&#x662F;&#x5C5E;&#x4E8E;&#x871C;&#x7F50;&#x8FD8;&#x662F;&#x7CFB;&#x7EDF;&#x81EA;&#x8EAB;&#x3002; &#x871C;&#x7F50;&#x539F;&#x672C;&#x63D0;&#x4F9B;&#x7684;&#x6F0F;&#x6D1E;&#x7A0D;&#x6709;&#x4E0D;&#x614E;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x88AB;&#x6E17;&#x900F;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6D89;&#x53CA;&#x9690;&#x79C1;&#x3001;&#x8D23;&#x4EFB;&#x4E0E;&#x8BBE;&#x9677;&#x6280;&#x672F;&#x7B49;&#x3002;&#x4F8B;&#x5982;&#x9ED1;&#x5BA2;&#x53EF;&#x80FD;&#x5229;&#x7528;&#x88AB;&#x653B;&#x9677;&#x7684;&#x7535;&#x8111;&#x4F5C;&#x4E3A;&#x8DF3;&#x677F;&#x6216;&#x8005;&#x4F20;&#x64AD;&#x75C5;&#x6BD2;&#x7B49;&#x7B49;&#x3002; &#x5DE5;&#x5177;&#x8D44;&#x6599; &#x73B0;&#x6709;&#x7684;&#x871C;&#x7F50;&#x53C2;&#x8003;&#x5217;&#x8868; &#x871C;&#x7F50;&#x5E73;&#x53F0; &#x5F00;&#x6E90;&#x871C;&#x7F50;&#x9879;&#x76EE;T-Pot&#xFF1A;&#x57FA;&#x4E8E;docker&#x6280;&#x672F;&#x96C6;&#x6210;\b&#x4E86;&#x4F17;&#x591A;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x5E94;&#x7528;&#x871C;&#x7F50;&#x7A0B;&#x5E8F;&#x7684;&#x7CFB;&#x7EDF;&#x3002; &#x73B0;&#x4EE3;&#x871C;&#x7F51;MHN&#xFF1A;&#x96C6;&#x6210;&#x4E86;&#x591A;&#x79CD;&#x871C;&#x7F50;&#x7684;&#x5B89;&#x88C5;&#x811A;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x90E8;&#x7F72;&#x3001;&#x4F7F;&#x7528;&#xFF0C;&#x4E5F;&#x80FD;&#x591F;&#x5FEB;&#x901F;&#x7684;&#x4ECE;&#x8282;&#x70B9;&#x6536;&#x96C6;&#x6570;&#x636E;&#x3002; T-pot&#x548C;MHN&#x652F;&#x6301;&#x7684;&#x871C;&#x7F50;&#x5BB9;&#x5668;&#xFF1A; Conpot&#xFF1A;&#x4F4E;&#x4EA4;&#x4E92;&#x5DE5;&#x63A7;&#x871C;&#x7F50;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x7CFB;&#x5217;&#x901A;&#x7528;&#x5DE5;&#x4E1A;&#x63A7;&#x5236;&#x534F;&#x8BAE;, &#x80FD;&#x591F;&#x6A21;&#x62DF;&#x590D;&#x6742;&#x7684;&#x5DE5;&#x63A7;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x3002; Cowire&#xFF1A;&#x4E2D;&#x7B49;&#x4EA4;&#x4E92;&#x7684;SSH&#x4E0E;Telnet&#x871C;&#x7F50;&#xFF0C;&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x66B4;&#x529B;&#x653B;&#x51FB;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4F2A;&#x9020;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x8BB0;&#x5F55;&#x9ED1;&#x5BA2;&#x64CD;&#x4F5C;&#x884C;&#x4E3A;&#x3002; Dionaea: &#x5B83;&#x5F00;&#x653E;&#x5E38;&#x89C1;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x7684;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#xFF0C;&#x5F53;&#x6709;&#x5916;&#x6765;&#x8FDE;&#x63A5;&#x65F6;&#x6A21;&#x62DF;&#x6B63;&#x5E38;&#x53CD;&#x9988;&#xFF0C;&#x540C;&#x65F6;&#x8BB0;&#x5F55;&#x4E0B;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x6D41;&#x7ECF;&#x7531;&#x68C0;&#x6D4B;&#x6A21;&#x5757;&#x68C0;&#x6D4B;&#x540E;&#x6309;&#x7C7B;&#x522B;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002; Glastopf: &#x4F4E;&#x4EA4;&#x4E92;&#x578B;Web&#x5E94;&#x7528;&#x871C;&#x7F50;&#xFF0C;&#x80FD;&#x591F;&#x6A21;&#x62DF;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x7684;web&#x6F0F;&#x6D1E;&#xFF0C;&#x9488;&#x5BF9;&#x653B;&#x51FB;&#x7684;&#x4E0D;&#x540C;&#x653B;&#x51FB;&#x624B;&#x6BB5;&#x6765;&#x56DE;&#x5E94;&#x653B;&#x51FB;&#x8005;&#xFF0C;&#x7136;&#x540E;&#x4ECE;&#x5BF9;&#x76EE;&#x6807;Web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x653B;&#x51FB;&#x8FC7;&#x7A0B;&#x4E2D;&#x6536;&#x96C6;&#x6570;&#x636E;&#x3002; Honeytrap: &#x89C2;&#x5BDF;&#x9488;&#x5BF9;TCP&#x6216;UDP&#x670D;&#x52A1;&#x7684;&#x653B;&#x51FB;&#xFF0C;&#x5E76;&#x80FD;&#x591F;&#x5206;&#x6790;&#x653B;&#x51FB;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x6307;&#x4EE4;&#x3002; &#x53EF;&#x89C6;&#x5316;&#x754C;&#x9762;&#xFF1A; &#x871C;&#x7F50;&#x884D;&#x751F;&#x6982;&#x5FF5; &#x871C;&#x573A;&#xFF1A; &#x871C;&#x573A;&#x7684;&#x601D;&#x60F3;&#x662F;&#x5C06;&#x7F51;&#x7EDC;&#x4E2D;&#x53EF;&#x7591;&#x6570;&#x636E;&#x6D41;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x871C;&#x573A;&#x4E2D;&#x3002;&#x5728;&#x7F51;&#x7EDC;&#x4E2D;&#x653E;&#x7F6E;&#x68C0;&#x6D4B;&#x5668;&#xFF0C;&#x5F53;&#x53D1;&#x73B0;&#x53EF;&#x7591;&#x6570;&#x636E;&#x6D41;&#x65F6;&#xFF0C;&#x5229;&#x7528;&#x91CD;&#x5B9A;&#x5411;&#x5668;&#x5C06;&#x5176;&#x5BFC;&#x5411;&#x871C;&#x573A;&#x3002;&#x6240;&#x6709;&#x871C;&#x7F50;&#x96C6;&#x4E2D;&#x4E8E;&#x871C;&#x573A;&#xFF0C;&#x4E0E;&#x5916;&#x7F51;&#x4E4B;&#x95F4;&#x7528;&#x9632;&#x706B;&#x5899;&#x9694;&#x79BB;&#x3002;&#x871C;&#x573A;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x4E8E;&#x96C6;&#x4E2D;&#x6027;&#x3002; &#x871C;&#x7F51;&#xFF1A; &#x5F53;&#x591A;&#x4E2A;&#x871C;&#x7F50;&#x88AB;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x578B;&#x865A;&#x5047;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#xFF0C;&#x5229;&#x7528;&#x5176;&#x4E2D;&#x4E00;&#x90E8;&#x5206;&#x4E3B;&#x673A;&#x5438;&#x5F15;&#x653B;&#x51FB;&#x8005;&#x5165;&#x4FB5;&#xFF0C;&#x901A;&#x8FC7;&#x76D1;&#x6D4B;&#x5165;&#x4FB5;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E00;&#x65B9;&#x9762;&#x6536;&#x96C6;&#x653B;&#x51FB;&#x8005;&#x7684;&#x653B;&#x51FB;&#x884C;&#x4E3A;&#xFF0C;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#x53EF;&#x4EE5;&#x66F4;&#x65B0;&#x76F8;&#x5E94;&#x7684;&#x5B89;&#x5168;&#x9632;&#x62A4;&#x7B56;&#x7565;&#x3002;&#x8FD9;&#x79CD;&#x7531;&#x591A;&#x4E2A;&#x871C;&#x7F50;&#x7EC4;&#x6210;&#x7684;&#x6A21;&#x62DF;&#x7F51;&#x7EDC;&#x5C31;&#x79F0;&#x4E3A;&#x871C;&#x7F51;&#x3002; &#x5206;&#x5E03;&#x5F0F;&#x871C;&#x7F51;&#xFF1A; &#x5206;&#x5E03;&#x5F0F;&#x871C;&#x7F51;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x5C06;&#x5404;&#x4E2A;&#x4E0D;&#x540C;&#x4F4D;&#x7F6E;&#x90E8;&#x7F72;&#x7684;&#x871C;&#x7F51;&#x6355;&#x83B7;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6C47;&#x603B;&#x5206;&#x6790;&#xFF0C;&#x6709;&#x6548;&#x7684;&#x63D0;&#x5347;&#x5B89;&#x5168;&#x5A01;&#x80C1;&#x76D1;&#x6D4B;&#x7684;&#x8986;&#x76D6;&#x9762;&#xFF0C;&#x514B;&#x670D;&#x4E86;&#x4F20;&#x7EDF;&#x871C;&#x7F50;&#x76D1;&#x6D4B;&#x8303;&#x56F4;&#x7A84;&#x7684;&#x7F3A;&#x9677;&#xFF0C;&#x56E0;&#x800C;&#x6210;&#x4E3A;&#x76EE;&#x524D;&#x5B89;&#x5168;&#x4E1A;&#x754C;&#x91C7;&#x7528;&#x871C;&#x7F50;&#x6280;&#x672F;&#x6784;&#x5EFA;&#x4E92;&#x8054;&#x7F51;&#x5B89;&#x5168;&#x5A01;&#x80C1;&#x76D1;&#x6D4B;&#x4F53;&#x7CFB;&#x7684;&#x666E;&#x904D;&#x90E8;&#x7F72;&#x6A21;&#x5F0F;&#x3002; &#x52A8;&#x6001;&#x871C;&#x7F51;&#xFF1A; &#x52A8;&#x6001;&#x871C;&#x7F51;&#xFF0C;&#x5C06;&#x4F4E;&#x4EA4;&#x4E92;&#x871C;&#x7F50;&#x548C;&#x9AD8;&#x4EA4;&#x4E92;&#x871C;&#x7F50;&#x7ED3;&#x5408;&#x8D77;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x865A;&#x62DF;&#x871C;&#x7F51;&#x6280;&#x672F;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x5229;&#x7528;&#x88AB;&#x52A8;&#x6307;&#x7EB9;&#x5DE5;&#x5177;&#x76D1;&#x63A7;&#x7F51;&#x7EDC;&#x3002;&#x4F9D;&#x636E;&#x83B7;&#x5F97;&#x7684;&#x7F51;&#x7EDC;&#x4FE1;&#x606F;&#x5BF9;&#x871C;&#x7F51;&#x8FDB;&#x884C;&#x90E8;&#x7F72;&#x548C;&#x914D;&#x7F6E;&#x3002;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x662F;&#x5176;&#x81EA;&#x9002;&#x5E94;&#x80FD;&#x529B;&#xFF0C;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5B66;&#x4E60;&#x5468;&#x56F4;&#x7684;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#xFF0C;&#x914D;&#x7F6E;&#x9002;&#x5F53;&#x6570;&#x91CF;&#x7684;&#x871C;&#x7F50;&#xFF0C;&#x5E76;&#x968F;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x7684;&#x53D8;&#x5316;&#x505A;&#x51FA;&#x8C03;&#x6574;&#x3002; SDN&#x871C;&#x7F51;&#xFF1A; &#x7ED3;&#x5408;&#x865A;&#x62DF;&#x5316;&#x6280;&#x672F;&#xFF0C;&#x80FD;&#x591F;&#x5728;&#x5A01;&#x80C1;&#x53D1;&#x73B0;&#x4E4B;&#x540E;&#x52A8;&#x6001;&#x7684;&#x751F;&#x6210;&#x76F8;&#x5E94;&#x7684;&#x871C;&#x7F51;&#x7CFB;&#x7EDF;&#xFF0C;&#x540C;&#x65F6;&#x5229;&#x7528;SDN&#x63A7;&#x5236;&#x5668;&#x5C06;&#x5F02;&#x5E38;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x5230;&#x865A;&#x62DF;&#x5316;&#x7684;&#x871C;&#x7F51;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5B8C;&#x6210;&#x5F02;&#x5E38;&#x884C;&#x4E3A;&#x7684;&#x8DDF;&#x8E2A;&#x53D6;&#x8BC1;&#x4E0E;&#x5B89;&#x5168;&#x9632;&#x62A4;&#x3002;&#x8FD9;&#x79CD;SDN&#x871C;&#x7F51;&#x6709;&#x6548;&#x7684;&#x89E3;&#x51B3;&#x4E86;&#x4F20;&#x7EDF;&#x871C;&#x7F51;&#x7684;&#x90E8;&#x7F72;&#x7ED3;&#x6784;&#x4E0D;&#x7075;&#x6D3B;&#xFF0C;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x6210;&#x672C;&#x9AD8;&#x7B49;&#x95EE;&#x9898;&#x3002; &#x871C;&#x7F51;&#x7814;&#x7A76;&#x9879;&#x76EE;&#x53C2;&#x8003;&#x7F51;&#x7AD9; &#x603B;&#x7ED3;&#x5206;&#x6790; T-pot&#x4E0E;MHN&#x63D0;&#x4F9B;&#x4E86;\b&#x6BD4;&#x8F83;&#x5B8C;&#x5584;&#x7684;&#x5F00;&#x6E90;&#x5E73;&#x53F0;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x5229;&#x7528;&#x865A;&#x62DF;&#x673A;&#x6216;&#x8005;docker&#x6280;&#x672F;&#x7B49;&#x5C06;&#x5176;&#x90E8;&#x7F72;&#x5728;&#x7269;&#x7406;&#x673A;&#x6216;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x8FDB;&#x884C;&#x5F02;&#x5E38;&#x6D41;&#x91CF;&#x7684;&#x76D1;&#x6D4B;&#x5DE5;&#x4F5C;&#xFF08;&#x540C;&#x674E;&#x632F;&#x534E;&#x8001;&#x5E08;&#x7684;&#x505A;&#x6CD5;&#xFF09;&#x3002; &#x9488;&#x5BF9;&#x9879;&#x76EE;&#x7279;&#x5B9A;&#x9700;&#x6C42;&#x4E8C;&#x6B21;&#x5F00;&#x53D1;&#x76F8;&#x5E94;&#x7684;&#x871C;&#x7F50;&#x5BB9;&#x5668;&#xFF0C;&#x91C7;&#x7528;&#x5206;&#x5E03;&#x5F0F;&#x871C;&#x7F51;&#x6216;SDN&#x871C;&#x7F51;&#x7B49;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x871C;&#x7F50;&#x90E8;&#x7F72;&#x5230;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x4E4B;&#x4E0A;&#xFF0C;&#x5BF9;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x5F02;&#x5E38;&#x6D41;&#x91CF;&#x6216;&#x8005;&#x653B;&#x51FB;&#x884C;&#x4E3A;&#x8FDB;&#x884C;&#x76D1;&#x6D4B;&#x3002;","categories":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/categories/Security/"}],"tags":[{"name":"Security","slug":"Security","permalink":"http://www.liufr.com/tags/Security/"},{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/tags/Networking/"}],"author":"刘丰瑞"},{"title":"SketchVisor: Robust Network Measurement for Soware Packet Processing","slug":"网络/2018-8-23-SketchVisor","date":"2018-08-22T16:00:00.000Z","updated":"2019-09-17T07:56:55.917Z","comments":true,"path":"2018/08/23/网络/2018-8-23-SketchVisor/","link":"","permalink":"http://www.liufr.com/2018/08/23/网络/2018-8-23-SketchVisor/","excerpt":"","text":"&#x6982;&#x8981; Sketch&#x662F;&#x4E00;&#x79CD;&#x7D27;&#x51D1;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x4EE5;&#x56FA;&#x5B9A;&#x7684;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x6765;&#x7EDF;&#x8BA1;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x5305;&#x3002;&#x4F20;&#x7EDF;&#x7684;sketch-based&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x6D88;&#x8017;&#x5927;&#x91CF;&#x7684;CPU&#x8D44;&#x6E90;&#xFF0C;&#x4F8B;&#x5982;&#x865A;&#x62DF;&#x673A;&#x6216;&#x8005;&#x5BB9;&#x5668;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x540C;&#x6837;&#x4F4D;&#x7F6E;&#x7684;&#x591A;&#x4E2A;&#x5E94;&#x7528;&#x90FD;&#x4F1A;&#x62A2;&#x5360;&#x8D44;&#x6E90;&#x3002;&#x4F20;&#x7EDF;&#x7684;sketch-based&#x7B97;&#x6CD5;&#x8FC7;&#x4E8E;&#x7B80;&#x6D01;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x5C06;&#x5176;&#x5E94;&#x7528;&#x5230;&#x5B9E;&#x9645;&#x73AF;&#x5883;&#x5F53;&#x4E2D;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x52A0;&#x5165;&#x989D;&#x5916;&#x7684;&#x6269;&#x5C55;&#x529F;&#x80FD;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;&#x8FD0;&#x7B97;&#x91CF;&#x7684;&#x589E;&#x52A0;&#x3002;&#x867D;&#x7136;&#x5728;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x7684;&#x94FE;&#x8DEF;&#x901F;&#x5EA6;&#x5E76;&#x4E0D;&#x603B;&#x662F;&#x9AD8;&#x8981;&#x6C42;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4F9D;&#x7136;&#x662F;&#x91CD;&#x8981;&#x7684;&#x6307;&#x6807;&#x3002; &#x672C;&#x6587;&#x63D0;&#x51FA;&#x7684;SketchVisor&#x662F;&#x4E00;&#x79CD;&#x9488;&#x5BF9;&#x8F6F;&#x4EF6;&#x6570;&#x636E;&#x5305;&#x5904;&#x7406;&#x7684;&#x9C81;&#x68D2;&#x6027;&#x7F51;&#x7EDC;&#x6D4B;&#x91CF;&#x6846;&#x67B6;&#x3002;&#x5373;&#x4F7F;&#x5728;&#x5F88;&#x9AD8;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x5F53;&#x4E2D;&#xFF0C;SV&#x90FD;&#x4F1A;&#x6709;&#x5F88;&#x597D;&#x7684;&#x6027;&#x80FD;&#x4EE5;&#x53CA;&#x5F88;&#x9AD8;&#x7684;&#x51C6;&#x786E;&#x6027;&#x3002;SV &#x5F15;&#x5165;&#x4E86;&#x72EC;&#x7ACB;&#x7684;&#x6570;&#x636E;&#x901A;&#x8DEF;&#xFF08;fast path&#xFF09;&#x4EE5;&#x63D0;&#x4F9B;&#x5FEB;&#x901F;&#x4F46;&#x662F;&#x4F4E;&#x51C6;&#x786E;&#x5EA6;&#x7684;&#x6D4B;&#x91CF;&#xFF0C;&#x4EE5;&#x89E3;&#x51B3;&#x90A3;&#x4E9B;&#x4E0D;&#x80FD;&#x88AB;&#x53CA;&#x65F6;&#x5904;&#x7406;&#x7684;&#x6570;&#x636E;&#x5305;&#x3002;&#x4E4B;&#x540E;&#xFF0C;&#x901A;&#x8FC7;sketch-based&#x4EE5;&#x53CA;fast path&#x51C6;&#x786E;&#x6062;&#x590D;&#x6574;&#x4E2A;&#x7F51;&#x7EDC;&#x8303;&#x56F4;&#x5185;&#x7684;&#x6D4B;&#x91CF;&#x7ED3;&#x679C;&#x3002; &#x7B80;&#x4ECB; &#x7279;&#x522B;&#x7684;&#xFF0C;SV&#x90E8;&#x7F72;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x5E73;&#x9762;&#x4E0A;&#xFF0C;&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x5458;&#x5C06;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E73;&#x9762;&#x4E0A;&#x5206;&#x914D;&#x4EFB;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x4EFB;&#x52A1;&#x8FC7;&#x8F7D;&#x6216;&#x8005;&#x4E0D;&#x80FD;&#x88AB;&#x53CA;&#x65F6;&#x5904;&#x7406;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x5C06;&#x4EFB;&#x52A1;&#x91CD;&#x5B9A;&#x5411;&#x5230;fast-path&#x4E0A;&#x3002;&#x672C;&#x6587;&#x9488;&#x5BF9;fast-path&#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;top-k&#x7B97;&#x6CD5;&#x4EE5;&#x8DDF;&#x8E2A;&#x5927;&#x6570;&#x636E;&#x6D41;&#x3002;Top-k&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8F83;&#x4F4E;&#x7684;&#x507F;&#x8FD8;&#x8FC7;&#x7A0B;&#x4EE5;&#x53CA;&#x7F29;&#x7D27;&#x8BC4;&#x4EF7;&#x6307;&#x6807;&#x3002;&#x8FD8;&#x7EF4;&#x6301;&#x4E86;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x7528;&#x6765;&#x8FFD;&#x8E2A;&#x8FDB;&#x5165;fast-path&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#xFF0C;&#x4ECE;&#x800C;&#x6765;&#x6355;&#x83B7;&#x6240;&#x6709;&#x8F83;&#x5C0F;&#x7684;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x6D41;&#x7684;&#x7279;&#x5F81;&#x3002; &#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;SV&#x8FD8;&#x90E8;&#x7F72;&#x4E86;&#x4E2A;&#x4E2D;&#x5FC3;&#x5316;&#x7684;&#x63A7;&#x5236;&#x5E73;&#x9762;&#x6765;&#x5408;&#x5E76;&#x672C;&#x5730;&#x7684;&#x6D4B;&#x91CF;&#x7ED3;&#x679C;&#xFF08;sketch-based&#x4EE5;&#x53CA;fast path&#x7684;&#x7ED3;&#x679C;&#xFF09;&#xFF0C;fast path&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#x4F1A;&#x51FA;&#x73B0;&#x51C6;&#x786E;&#x6027;&#x7684;&#x635F;&#x5931;&#xFF0C;&#x672C;&#x6587;&#x5F62;&#x5F0F;&#x5316;&#x4E86;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x63D2;&#x5165;&#x95EE;&#x9898;&#xFF0C;&#x4F7F;&#x5F97;&#x5728;&#x63A7;&#x5236;&#x5E73;&#x9762;&#x53EF;&#x4EE5;&#x6062;&#x590D;&#x8FD9;&#x4E9B;&#x4E22;&#x5931;&#x7684;&#x6570;&#x636E;&#x3002; &#x80CC;&#x666F; &#x7F51;&#x7EDC;&#x6D4B;&#x91CF; &#x672C;&#x6587;&#x7740;&#x91CD;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#x7684;&#x51E0;&#x4E2A;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x7EDF;&#x8BA1;&#x91CF;&#xFF1A; Heavy hitter&#xFF1A;&#x5728;&#x4E00;&#x4E2A;&#x65F6;&#x671F;&#x4E2D;&#x6D41;&#x5B57;&#x8282;&#x5927;&#x5C0F;&#x8D85;&#x8FC7;&#x4E00;&#x5B9A;&#x9608;&#x503C;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x3002; Heavy changer&#xFF1A;&#x5728;&#x4E24;&#x4E2A;&#x8FDE;&#x7EED;&#x7684;&#x65F6;&#x671F;&#x4E2D;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x7684;&#x5B57;&#x8282;&#x5927;&#x5C0F;&#x8D85;&#x8FC7;&#x4E00;&#x5B9A;&#x7684;&#x9608;&#x503C;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x3002; DDos&#xFF1A;&#x4E00;&#x4E2A;&#x76EE;&#x6807;host&#x5728;&#x4E00;&#x5B9A;&#x65F6;&#x671F;&#x4E2D;&#x63A5;&#x5230;&#x7684;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x5305;&#x8D85;&#x8FC7;&#x4E86;&#x9608;&#x503C;&#x3002; Superspreader&#xFF1A;&#x5728;&#x4E00;&#x4E2A;&#x65F6;&#x671F;&#x5185;&#xFF0C;&#x6E90;host&#x5411;&#x591A;&#x4E8E;&#x9608;&#x503C;&#x4E2A;&#x76EE;&#x6807;host&#x53D1;&#x9001;&#x6570;&#x636E;&#x3002; Cardinality&#xFF1A;&#x52BF;&#x3002;&#x5728;&#x4E00;&#x4E2A;&#x65F6;&#x671F;&#x5185;&#x4E0D;&#x540C;&#x7F51;&#x7EDC;&#x6D41;&#x7684;&#x6570;&#x91CF;&#x3002; Flow size distribution&#xFF1A;&#x4E00;&#x4E2A;&#x65F6;&#x671F;&#x5185;&#x4E0D;&#x540C;&#x5B57;&#x8282;&#x6570;&#x8303;&#x56F4;&#x5185;&#x7684;&#x5206;&#x6570;&#x5927;&#x5C0F;&#x3002; Entropy&#xFF1A;&#x4E00;&#x4E2A;&#x65F6;&#x671F;&#x5185;&#x6D41;&#x5927;&#x5C0F;&#x7684;&#x71B5;&#x3002; &#x6982;&#x89C8; &#x8BBE;&#x8BA1;&#x76EE;&#x6807;&#xFF1A; &#x6027;&#x80FD; &#x8D44;&#x6E90;&#x6548;&#x7387; &#x7CBE;&#x786E;&#x6027; &#x901A;&#x7528;&#x6027; &#x7B80;&#x6D01;&#x6027; &#x6570;&#x636E;&#x5C42;&#xFF1A; &#x5728;&#x6BCF;&#x4E00;&#x4E2A;host&#x4E0A;&#x90FD;&#x90E8;&#x7F72;&#x4E86;&#x4E00;&#x4E2A;&#x6D4B;&#x91CF;&#x6A21;&#x5757;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x90FD;&#x5904;&#x7406;&#x8FDE;&#x7EED;&#x4E0D;&#x65AD;&#x7684;&#x6570;&#x636E;&#x6D41;&#x5E76;&#x4E14;&#x7EDF;&#x8BA1;&#x5206;&#x6790;&#x8BE5;&#x6570;&#x636E;&#x3002;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x591A;&#x6B21;&#x6D4B;&#x91CF;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53EA;&#x6D4B;&#x91CF;&#x51FA;&#x6216;&#x8005;&#x5165;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x518D;&#x6216;&#x8005;&#x5229;&#x7528;&#x54C8;&#x5E0C;&#x6765;&#x9009;&#x62E9;&#x76D1;&#x63A7;&#x4E0D;&#x8FDE;&#x7EED;&#x7684;&#x6570;&#x636E;&#x5305;&#x3002;&#x6D4B;&#x91CF;&#x6A21;&#x5757;&#x88AB;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;normal path&#x548C;fast path&#x3002;Normal path&#x90E8;&#x7F72;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;sketch-based&#x65B9;&#x6CD5;&#xFF0C; fast path&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x8865;&#x5145;&#xFF0C;&#x901A;&#x8FC7;&#x90E8;&#x7F72;&#x5FEB;&#x901F;&#x4F46;&#x662F;&#x4F4E;&#x51C6;&#x786E;&#x5EA6;&#x7684;&#x6D4B;&#x91CF;&#x65B9;&#x6CD5;&#x3002;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;normal path&#x91CC;&#x91C7;&#x7528;FIFO buffer&#x3002; &#x5F53;&#x6570;&#x636E;&#x6D41;&#x8D1F;&#x8F7D;&#x8FC7;&#x91CD;&#x65F6;&#xFF0C;buffer&#x6EE1;&#x4E86;&#xFF0C;SV&#x5C06;&#x91CD;&#x5B9A;&#x5411;&#x8FD9;&#x90E8;&#x5206;&#x6570;&#x636E;&#x5305;&#x5230;fast path&#xFF0C;&#x7136;&#x540E;&#x6536;&#x96C6;&#x8FD9;&#x90E8;&#x5206;&#x6D41;&#x91CF;&#x7684;&#x6570;&#x636E;&#x3002;&#x7531;&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x6765;&#x51B3;&#x5B9A;&#x91C7;&#x7528;&#x54EA;&#x4E00;&#x79CD;sketch-based&#x65B9;&#x6CD5;&#x3002; fast path &#x6240;&#x9762;&#x4E34;&#x7684;&#x6311;&#x6218;&#x662F;&#xFF1A; &#x8DB3;&#x591F;&#x5FEB;&#x4E00;&#x81F4;&#x4E8E;&#x53EF;&#x4EE5;&#x5438;&#x6536;&#x6240;&#x6709;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x6D41; &#x867D;&#x7136;&#x6BD4;normal path&#x7684;&#x51C6;&#x786E;&#x5EA6;&#x4F4E;&#x4F46;&#x662F;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x4E00;&#x5B9A;&#x7684;&#x51C6;&#x786E;&#x5EA6; &#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x7F51;&#x7EDC;&#x7EDF;&#x8BA1;&#x6765;&#x8BB2;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x901A;&#x7528;&#x6027;&#x3002; &#x63A7;&#x5236;&#x5C42;&#xFF1A; &#x4ECE;&#x591A;&#x4E2A;host&#x6536;&#x96C6;&#x672C;&#x5730;&#x6D4B;&#x91CF;&#x7ED3;&#x679C;&#x5E76;&#x4E14;&#x5408;&#x5E76;&#xFF0C;&#x63D0;&#x4F9B;&#x7F51;&#x7EDC;&#x8303;&#x56F4;&#x5185;&#x7684;&#x6D4B;&#x91CF;&#x7ED3;&#x679C;&#x3002;&#x76EE;&#x6807;&#x662F;&#x5F53;&#x6240;&#x6709;&#x6D41;&#x91CF;&#x90FD;&#x8D70;normal path&#x65F6;&#xFF0C;&#x5728;&#x7F51;&#x7EDC;&#x8303;&#x56F4;&#x5185;&#x63D0;&#x4F9B;&#x51C6;&#x786E;&#x7684;&#x6D4B;&#x91CF;&#x7ED3;&#x679C;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x9762;&#x4E34;&#x7684;&#x6311;&#x6218;&#xFF1A; &#x6392;&#x9664;fast path &#x6240;&#x5BFC;&#x81F4;&#x7684;&#x6D4B;&#x91CF;&#x9519;&#x8BEF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6240;&#x6709;&#x7684;&#x9519;&#x8BEF;&#x90FD;&#x662F;&#x7531;sketch&#x672C;&#x8EAB;&#x6240;&#x4EA7;&#x751F;&#x7684;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x5BF9;&#x4E8E;fast path &#x8BBE;&#x8BA1;&#x5E26;&#x6765;&#x4E86;&#x5DE8;&#x5927;&#x6311;&#x6218;&#xFF0C;&#x8981;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x7684;&#x6D4B;&#x91CF;&#x4EFB;&#x52A1;&#x7684;&#x517C;&#x5BB9;&#x3002; Fast path Fast path &#x4E3B;&#x8981;&#x4FDD;&#x8BC1;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x9C81;&#x68D2;&#x6027;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x8BBE;&#x8BA1;&#xFF0C;normal path&#x5FC5;&#x5B9A;&#x8981;&#x4E22;&#x5F03;&#x90A3;&#x4E9B;&#x8FC7;&#x8F7D;&#x7684;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x4ECE;&#x800C;&#x5728;&#x51C6;&#x786E;&#x5EA6;&#x4E0A;&#x4F5C;&#x51FA;&#x59A5;&#x534F;&#x3002; &#x8BBE;&#x8BA1;fast path&#x8981;&#x5C3D;&#x53EF;&#x80FD;&#x591A;&#x5730;&#x53BB;&#x8FFD;&#x8E2A;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x7F51;&#x7EDC;&#x90FD;&#x662F;&#x88AB;&#x51E0;&#x4E2A;&#x8F83;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x6570;&#x636E;&#x6D41;&#x6240;&#x5360;&#x6709;&#xFF0C;&#x8FD9;&#x4E2A;&#x5047;&#x8BBE;&#x5C31;&#x4F1A;&#x5F15;&#x8D77;&#x5F88;&#x591A;sketch &#x8BBE;&#x8BA1;&#xFF08;&#x8981;&#x6C42;&#x8BE5;&#x8BBE;&#x8BA1;&#x8BC6;&#x522B;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x6D41;&#xFF09;&#xFF0C;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x8BBE;&#x8BA1;&#x4E2D;&#x5C31;&#x7740;&#x91CD;&#x5173;&#x6CE8;&#x6700;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x6216;&#x8005;&#x524D;k&#x4E2A;&#x6570;&#x636E;&#x6D41;&#xFF08;k&#x53D6;&#x51B3;&#x4E8E;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF09;&#x3002; &#x5982;&#x679C;&#x53EA;&#x5173;&#x6CE8;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x90A3;&#x4E48;&#x5FC5;&#x5B9A;&#x4F1A;&#x5FFD;&#x89C6;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x4E9B;&#x5BF9;&#x4E8E;&#x57FA;&#x4E8E;&#x8FDE;&#x901A;&#x7684;&#x7F51;&#x7EDC;&#x7EDF;&#x8BA1;&#x91CF;&#x6765;&#x8BF4;&#x4E5F;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x4F46;&#x540C;&#x65F6;&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x7684;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x90FD;&#x8FDB;&#x884C;&#x8FFD;&#x8E2A;&#x662F;&#x4E0D;&#x73B0;&#x5B9E;&#x7684;&#x3002;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;sketch-based&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x4F1A;&#x4F30;&#x8BA1;&#x4E0D;&#x540C;&#x6D41;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3002;&#x89C2;&#x5BDF;&#x53D1;&#x73B0;&#x5C0F;&#x6D41;&#x7684;&#x5F71;&#x54CD;&#x5FAE;&#x4E0D;&#x8DB3;&#x9053;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x7528;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x8BA1;&#x6570;&#xFF08;&#x6B64;&#x5904;&#x5E94;&#x8BE5;&#x662F;&#x6307;&#x7EDF;&#x8BA1;&#x5927;&#x6570;&#x636E;&#x6D41;&#xFF09;&#xFF0C;&#x5E76;&#x5728;&#x63A7;&#x5236;&#x5C42;&#x6765;&#x63A8;&#x65AD;&#x5177;&#x4F53;&#x7684;sketch&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x3002; &#x65B9;&#x6848;&#x6982;&#x89C8; fast path &#x7B97;&#x6CD5;&#x662F;&#x57FA;&#x4E8E;Misra-Gries&#x2018;s&#x7B97;&#x6CD5;&#x7684;top-k&#x7B97;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x539F;&#x7B97;&#x6CD5;&#x6709;&#x4E24;&#x70B9;&#x5BF9;&#x4E8E;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x51C6;&#x786E;&#x6027;&#x7684;&#x9650;&#x5236;&#x3002;&#x9996;&#x5148;&#xFF0C;&#x6539;&#x8FDB;&#x7B97;&#x6CD5;&#x5254;&#x9664;&#x4E00;&#x4E2A;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x7136;&#x540E;&#x52A0;&#x5165;&#x4E00;&#x4E2A;&#x6F5C;&#x5728;&#x7684;&#x5927;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x5B83;&#x8868;&#x73B0;&#x51FA;\\(O(k)\\)&#x7684;&#x590D;&#x6742;&#x5EA6;&#x53BB;&#x66F4;&#x65B0;k&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x5F53;&#x6709;&#x5F88;&#x591A;&#x4E2A;&#x5C0F;&#x7684;&#x6570;&#x636E;&#x6D41;&#x65F6;&#xFF0C;&#x8282;&#x7701;&#x4E0B;&#x6765;&#x7684;&#x5F00;&#x9500;&#x5C31;&#x5F88;&#x53EF;&#x89C2;&#x4E86;&#x3002;&#x5176;&#x6B21;&#xFF0C;&#x6539;&#x8FDB;&#x7B97;&#x6CD5;&#x5BF9;&#x4E8E;&#x4F30;&#x8BA1;top-k&#x6761;&#x6570;&#x636E;&#x6D41;&#x7684;&#x754C;&#x9650;&#x8981;&#x6C42;&#x6BD4;&#x8F83;&#x5BBD;&#x677E;&#x3002;&#x6211;&#x4EEC;&#x7ED3;&#x5408;&#x4E86;PLC&#x7B97;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x504F;&#x5DEE;&#x6570;&#x636E;&#x7684;&#x51C6;&#x786E;&#x7387;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x6BCF;&#x6761;&#x6570;&#x636E;&#x6D41;&#x90FD;&#x7528;&#x4E09;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x6765;&#x8FFD;&#x8E2A;&#x786E;&#x4FDD;&#x6BCF;&#x6761;&#x6D41;&#x90FD;&#x6709;&#x4E25;&#x683C;&#x7684;&#x4E0A;&#x754C;&#x548C;&#x4E0B;&#x754C;&#x3002; &#x4E3B;&#x8981;&#x601D;&#x8DEF;&#x5C31;&#x662F;&#x4FDD;&#x8BC1;top-k&#x6761;&#x6D41;&#x4E00;&#x76F4;&#x5728;&#x54C8;&#x5E0C;&#x8868;H&#x4E2D;&#xFF0C;&#x5F53;H&#x6EE1;&#x4E86;&#x5C31;&#x9002;&#x5F53;&#x79FB;&#x9664;&#x4E00;&#x6761;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x6D41;&#x3002;&#x5F53;&#x63A5;&#x6536;&#x5230;&#x4E00;&#x6761;&#x5927;&#x5C0F;&#x4E3A;v&#x7684;&#x6570;&#x636E;&#x6D41;\\(f\\)&#x65F6;&#xFF0C;&#x5148;&#x66F4;&#x65B0;&#x7EDF;&#x8BA1;&#x8BA1;&#x6570;&#x5668;\\(V=V+v\\)&#xFF0C;&#x5982;&#x679C;\\(f\\)&#x5728;&#x54C8;&#x5E0C;\\(H\\)&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x66F4;&#x65B0;\\(r_f=r_f+v\\)&#xFF0C;&#x5982;&#x679C;\\(H\\)&#x672A;&#x6EE1;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x76F4;&#x63A5;&#x52A0;&#x5165;\\(f\\)&#x5E76;&#x521D;&#x59CB;&#x5316;&#x4E3A;\\((E,v,0)\\),&#x5982;&#x679C;\\(H\\)&#x5DF2;&#x6EE1;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x8981;&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x51CF;&#x5C0F;&#x503C;\\(e\\)&#xFF0C;&#x5E76;&#x5BF9;\\(H\\)&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6D41;&#x7684;\\(r\\)&#x53C2;&#x6570;&#x51CF;&#x5C0F;\\(e\\)&#xFF0C;\\(d\\)&#x53C2;&#x6570;&#x589E;&#x52A0;\\(e\\)&#x3002;&#x5018;&#x82E5;&#x6709;\\(r\\)&#x5C0F;&#x4E8E;0&#x90A3;&#x4E48;&#x5C06;&#x88AB;&#x5254;&#x9664;&#xFF0C;&#x5E76;&#x52A0;&#x5165;&#x5408;&#x9002;&#x7684;&#x6D41;&#x3002; &#x7F51;&#x7EDC;&#x8303;&#x56F4;&#x5185;&#x7684;&#x6062;&#x590D; &#x57FA;&#x672C;&#x601D;&#x60F3; &#x63A7;&#x5236;&#x5C42;&#x901A;&#x8FC7;&#x5468;&#x671F;&#x6027;&#x7684;&#x6536;&#x96C6;&#x672C;&#x5730;&#x6570;&#x636E;&#x63D0;&#x4F9B;&#x5168;&#x7F51;&#x8303;&#x56F4;&#x5185;&#x7684;&#x6D4B;&#x91CF;&#x6570;&#x636E;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x77E9;&#x9635;&#x52A0;&#x5C06;&#x6240;&#x6709;&#x7684;sketch&#x5408;&#x5E76;&#x5230;&#x4E00;&#x4E2A;sketch&#x4E0A;&#xFF08;&#x5408;&#x5E76;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x7528;N&#x6765;&#x8868;&#x793A;&#xFF09;&#xFF0C;&#x5C06;&#x591A;&#x4E2A;&#x54C8;&#x5E0C;&#x8868;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x8BA1;&#x6570;&#x5668;&#x7684;&#x7ED3;&#x679C;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#xFF0C;&#x6CE8;&#x610F;&#x5230;&#x4E4B;&#x524D;&#x7B97;&#x6CD5;&#x6709;&#x4E0D;&#x786E;&#x5B9A;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x53EA;&#x7EF4;&#x62A4;top-k&#x4E2A;&#x6570;&#x636E;&#x6D41;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x8DDF;&#x8E2A;&#x5230;&#x5177;&#x4F53;&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x6570;&#x636E;&#x6D41;&#x4E0A;&#x3002;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x7814;&#x7A76;&#x76EE;&#x6807;&#x5C31;&#x662F;&#x7CBE;&#x786E;&#x6062;&#x590D;&#x3002; &#x6211;&#x4EEC;&#x5206;&#x89E3;&#x7F51;&#x7EDC;&#x6D41;&#x6570;&#x636E;&#x6210;&#x4E24;&#x4E2A;&#x5411;&#x91CF;&#xFF0C;\\(x\\)&#x8868;&#x793A;&#x54C8;&#x5E0C;&#x8868;\\(H\\)&#x4E2D;&#x7684;&#x6D41;&#x5B9E;&#x9645;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF0C;\\(y\\)&#x8868;&#x793A;&#x5176;&#x4ED6;&#x6D41;&#x5B9E;&#x9645;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6D41;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x90A3;&#x4E48;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5C31;&#x90FD;&#x662F;0&#x4E86;&#x3002;\\(x+y\\)&#x5C31;&#x8868;&#x793A;&#x4E86;fast-path&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6D41;&#x3002; &#x4E3A;&#x4E86;&#x6062;&#x590D;&#x51FA;&#x6240;&#x6709;&#x7684;&#x7F51;&#x7EDC;&#x6D41;T&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;fast path&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6D41;&#x90FD;&#x6CE8;&#x5165;&#x5230;normal path&#x4E2D;&#xFF0C;&#x672C;&#x8D28;&#x5C31;&#x662F;&#x7528;sketch&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;\\(x+y\\)&#xFF0C;&#x8868;&#x793A;&#x4E3A;\\(sk(x+y)\\)&#xFF0C; \\[ T=N+sk(x+y) \\] &#x7531;&#x4E8E;fast path &#x5E76;&#x4E0D;&#x662F;&#x8FFD;&#x8E2A;&#x5230;&#x6BCF;&#x6761;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x56E0;&#x6B64;\\(x\\)&#x548C;\\(y\\)&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x672A;&#x77E5;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7EDF;&#x8BA1;&#x91CF;&#x6765;&#x660E;&#x786E;&#x5176;&#x503C;&#x7684;&#x9650;&#x5236;&#x6761;&#x4EF6;&#x3002;\\(x\\)&#x548C;\\(y\\)&#x7684;\\(l_1\\)&#x8303;&#x6570;&#x4E4B;&#x548C;&#x53EF;&#x4EE5;&#x5982;&#x4E0B;&#x8868;&#x793A;&#xFF1A; \\[ \\lVert x\\rVert_1 + \\lVert y\\rVert_1 = V \\] &#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x5408;&#x5E76;&#x540E;&#x7684;&#x54C8;&#x5E0C;&#x8868;H&#x4E5F;&#x7ED9;&#x51FA;&#x4E86;&#x6BCF;&#x6761;&#x6D41;&#x7684;&#x4E0A;/&#x4E0B;&#x786E;&#x754C;&#xFF1A; \\[ rf+df \\leq xf \\leq rf+df+ef \\] &#x524D;&#x4E24;&#x4E2A;&#x7B49;&#x5F0F;&#x8868;&#x8FF0;&#x7684;&#x662F;&#x7F51;&#x7EDC;&#x6D41;&#x7684;&#x805A;&#x96C6;&#x5408;&#x5E76;&#x7279;&#x6027;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x5F0F;&#x5B50;&#x8868;&#x793A;&#x7684;&#x662F;&#x6BCF;&#x6761;&#x6D41;&#x7684;&#x9519;&#x8BEF;&#x533A;&#x95F4;&#x3002;&#x4F46;&#x662F;&#x4E0A;&#x8FF0;&#x4FE1;&#x606F;&#x8FD8;&#x4E0D;&#x591F;&#x5B8C;&#x6574;&#x5168;&#x9762;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x5DE5;&#x4F5C;&#x90FD;&#x9488;&#x5BF9;&#x5176;&#x505A;&#x77E9;&#x9635;&#x63D2;&#x5165;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x672C;&#x6587;&#x5219;&#x7740;&#x529B;&#x4E8E;&#x627E;&#x5230;&#x6700;&#x4F73;&#x7684;&#x4F30;&#x8BA1;&#x77E9;&#x9635;T&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x6700;&#x597D;&#x7684;&#x6062;&#x590D;&#x6548;&#x679C;&#x3002; &#x538B;&#x7F29;&#x611F;&#x77E5; &#x9996;&#x5148;&#x660E;&#x786E;&#x51FA;\\(T&#xFF0C;x&#xFF0C;y\\)&#x7684;&#x7279;&#x6027; \\(T\\)&#x63A5;&#x8FD1;&#x662F;&#x4E00;&#x4E2A;&#x4F4E;&#x79E9;&#x77E9;&#x9635;&#x3002;&#x7F51;&#x7EDC;&#x4E2D;&#x5927;&#x591A;&#x6570;&#x90FD;&#x662F;&#x8F83;&#x5927;&#x6D41;&#x91CF;&#x7684;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x53C8;&#x56E0;&#x4E3A;&#x5927;&#x6570;&#x636E;&#x6D41;&#x4F1A;&#x5F15;&#x8D77;&#x66F4;&#x591A;&#x7684;&#x91CD;&#x89C6;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x8BA1;&#x6570;&#x5668;&#x7684;&#x7EDF;&#x8BA1;&#x91CF;&#x5927;&#x591A;&#x8FD1;&#x4F3C;&#x3002; \\(x\\)&#x548C;\\(sk(x)\\)&#x662F;&#x7A00;&#x758F;&#x7684;&#x3002;&#x56E0;&#x4E3A;\\(x\\)&#x53EA;&#x5305;&#x542B;top-k&#x6761;&#x6D41;&#x5728;&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#xFF0C;&#x4E14;&#x6574;&#x5F20;&#x8868;&#x7684;&#x89C4;&#x6A21;&#x662F;&#x975E;&#x5E38;&#x5927;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;\\(x\\)&#x89C6;&#x4F5C;&#x4E00;&#x4E2A;&#x7A00;&#x758F;&#x5411;&#x91CF;&#xFF0C;&#x53C8;&#x56E0;&#x4E3A;\\(x\\)&#x5728;sketch&#x7B97;&#x6CD5;&#x4E2D;&#x7531;&#x8BA1;&#x6570;&#x5668;&#x9650;&#x5B9A;&#x4E86;&#x4E00;&#x5B9A;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x6240;&#x4EE5;\\(sk(x)\\)&#x4E5F;&#x662F;&#x7A00;&#x758F;&#x7684;&#x3002; \\(y\\)&#x548C;\\(sk(y)\\)&#x662F;&#x4F4E;&#x566A;&#x7684;&#x3002;&#x7531;y&#x6240;&#x8BB0;&#x5F55;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x6D41;&#x90FD;&#x662F;&#x89C4;&#x6A21;&#x5C0F;&#x4E14;&#x533A;&#x5206;&#x5EA6;&#x4F4E;&#x3002;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;y&#x89C6;&#x4F5C;&#x4E00;&#x4E2A;&#x4F4E;&#x566A;&#x7684;&#x5411;&#x91CF;&#x3002; &#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5947;&#x5F02;&#x503C;&#x5206;&#x89E3;&#x65B9;&#x6CD5;&#xFF0C;&#x5BF9;&#x51E0;&#x4E2A;sketch&#x77E9;&#x9635;&#x4EA7;&#x751F;&#x4E86;&#x4F4E;&#x79E9;&#x8FD1;&#x4F3C;&#x3002; &#x76EE;&#x6807;&#x51FD;&#x6570; &#x6211;&#x4EEC;&#x5C06;&#x4E0A;&#x8FF0;&#x7684;&#x7279;&#x6027;&#x5F15;&#x5165;&#x5230;&#x76EE;&#x6807;&#x51FD;&#x6570;&#x5F53;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528;&#x538B;&#x7F29;&#x611F;&#x77E5;&#x6846;&#x67B6;LENS&#x53BB;&#x6062;&#x590D;T&#xFF0C;LENS&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x4E00;&#x79CD;&#x7B97;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x7F51;&#x7EDC;&#x6D41;&#x77E9;&#x9635;&#x5206;&#x89E3;&#x6210;&#x4F4E;&#x79E9;&#x3001;&#x7A00;&#x758F;&#x5E76;&#x4E14;&#x4F4E;&#x566A;&#x7684;&#x90E8;&#x5206;&#x3002;&#x901A;&#x8FC7;LENS&#x6211;&#x4EEC;&#x5C06;&#x76EE;&#x6807;&#x51FD;&#x6570;&#x8BBE;&#x5B9A;&#x4E3A;&#xFF1A; \\[ minimize: \\alpha\\lVert T\\rVert_* + \\beta\\lVert x\\rVert_1 + \\frac{1}{2\\gamma}\\lVert y\\rVert^2_F \\] \\(\\lVert T\\rVert_*\\) : T&#x7684;&#x6838;&#x8303;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x7EA6;&#x675F;&#x4F4E;&#x79E9;&#x77E9;&#x9635;&#x3002; \\(\\lVert x\\rVert_1\\) : x&#x7684;l1&#x8303;&#x6570;&#xFF0C;&#x7EA6;&#x675F;x&#x7684;&#x7A00;&#x758F;&#x6027;&#x3002; \\(\\lVert y\\rVert^2_F\\) :Frobenius &#x8303;&#x6570;&#xFF0C;&#x7EA6;&#x675F;y&#x91CC;&#x9762;&#x7684;&#x5927;&#x5143;&#x7D20;&#x3002;","categories":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/categories/Networking/"}],"tags":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/tags/Networking/"}],"author":"刘丰瑞"},{"title":"SketchLearn: Relieving User Burdens in Approximate Measurement with Automated Statistical Inference","slug":"网络/2018-8-24-SketchLearn","date":"2018-08-22T16:00:00.000Z","updated":"2019-09-17T10:46:52.918Z","comments":true,"path":"2018/08/23/网络/2018-8-24-SketchLearn/","link":"","permalink":"http://www.liufr.com/2018/08/23/网络/2018-8-24-SketchLearn/","excerpt":"","text":"&#x6982;&#x8FF0; &#x5728;&#x5DE8;&#x5927;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x4E0B;&#xFF0C;&#x7F51;&#x7EDC;&#x6D4B;&#x91CF;&#x5BF9;&#x4E8E;&#x8D44;&#x6E90;&#x7684;&#x5229;&#x7528;&#x6709;&#x7740;&#x4E25;&#x683C;&#x7684;&#x9650;&#x5236;&#x3002;&#x8FD1;&#x4F3C;&#x6D4B;&#x91CF;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x8282;&#x7701;&#x4E00;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x9700;&#x8981;&#x4EBA;&#x5DE5;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x5408;&#x9002;&#x7684;&#x914D;&#x7F6E;&#x3002;&#x8BE6;&#x7EC6;&#x6765;&#x8BF4;&#xFF0C;&#x5178;&#x578B;&#x65B9;&#x6CD5;&#x901A;&#x8FC7;&#x4E25;&#x63A7;&#x53C2;&#x6570;&#xFF0C;&#x5728;&#x5408;&#x7406;&#x7684;&#x6D4B;&#x91CF;&#x8BEF;&#x5DEE;&#x4E0B;&#x63D0;&#x4F9B;&#x8DB3;&#x591F;&#x7684;&#x8D44;&#x6E90;&#x3002;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x4E86;SketchLearn&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;sketch-based&#x7684;&#x6D4B;&#x91CF;&#x6846;&#x67B6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B66;&#x4E60;&#x7EDF;&#x8BA1;&#x7279;&#x6027;&#x89E3;&#x51B3;&#x8D44;&#x6E90;&#x51B2;&#x7A81;&#x4ECE;&#x800C;&#x6D88;&#x9664;&#x4E86;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x4E0A;&#x7684;&#x51B2;&#x7A81;&#x3002; &#x4ECB;&#x7ECD; &#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x8D44;&#x6E90;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x8BB8;&#x591A;&#x7684;&#x7F51;&#x7EDC;&#x6D4B;&#x91CF;&#x65B9;&#x6CD5;&#x90FD;&#x9700;&#x8981;&#x5728;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x4E0E;&#x6D4B;&#x91CF;&#x51C6;&#x786E;&#x5EA6;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x6743;&#x8861;&#x3002;&#x57FA;&#x672C;&#x601D;&#x8DEF;&#x5C31;&#x662F;&#x5C06;&#x6B21;&#x7EBF;&#x6027;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x538B;&#x7F29;&#xFF0C;&#x5E76;&#x5728;&#x6709;&#x9650;&#x7684;&#x8D44;&#x6E90;&#x4E0B;&#x7406;&#x8BBA;&#x4FDD;&#x8BC1;&#x6062;&#x590D;&#x3002;&#x5C3D;&#x7BA1;&#x8FD9;&#x5177;&#x6709;&#x7406;&#x8BBA;&#x53EF;&#x884C;&#x6027;&#x4F46;&#x662F;&#x73B0;&#x6709;&#x65B9;&#x6CD5;&#x90FD;&#x4E0D;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x5DE8;&#x5927;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x603B;&#x662F;&#x5728;&#x7ADE;&#x4E89;&#x6709;&#x9650;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x5E76;&#x7531;&#x8D44;&#x6E90;&#x51B2;&#x7A81;&#x5F15;&#x53D1;&#x4E00;&#x5B9A;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x4E3A;&#x4E86;&#x6D88;&#x9664;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5206;&#x51FA;&#x4E00;&#x4E9B;&#x8D44;&#x6E90;&#x6765;&#x5B9E;&#x73B0;&#x51C6;&#x786E;&#x5EA6;&#x3002;&#x7EFC;&#x4E0A;&#xFF0C;&#x8D44;&#x6E90;&#x914D;&#x7F6E;&#x4E0E;&#x51C6;&#x786E;&#x5EA6;&#x4E4B;&#x95F4;&#x8FD8;&#x6709;&#x7D27;&#x5BC6;&#x7684;&#x8054;&#x7CFB;&#xFF0C;&#x8FD9;&#x4E9B;&#x8054;&#x7CFB;&#x5BFC;&#x81F4;&#x4E86;&#x4E00;&#x90E8;&#x5206;&#x9650;&#x5236;&#xFF1A; &#x7BA1;&#x7406;&#x5458;&#x9700;&#x8981;&#x5C06;&#x9519;&#x8BEF;&#x5BB9;&#x5FCD;&#x7EA7;&#x522B;&#x5F53;&#x505A;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x5F15;&#x5165;&#x5230;&#x8D44;&#x6E90;&#x914D;&#x7F6E;&#x7B97;&#x6CD5;&#x4E2D;&#x3002; &#x6BCF;&#x4E00;&#x79CD;&#x8D44;&#x6E90;&#x914D;&#x7F6E;&#x90FD;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x9608;&#x503C;&#x53C2;&#x6570;&#x3002; &#x7406;&#x8BBA;&#x5206;&#x6790;&#x53EA;&#x7ED9;&#x51FA;&#x4E86;&#x57FA;&#x4E8E;&#x5B9E;&#x9645;&#x8D1F;&#x8F7D;&#x7684;&#x6700;&#x574F;&#x7ED3;&#x679C;&#x3002; &#x6BCF;&#x4E00;&#x79CD;&#x914D;&#x7F6E;&#x90FD;&#x88AB;&#x7279;&#x5B9A;&#x7684;&#x6D41;&#x6240;&#x9650;&#x5236;&#x3002; &#x7BA1;&#x7406;&#x5458;&#x4E0D;&#x80FD;&#x5BB9;&#x5FCD;&#x8F83;&#x5927;&#x7684;&#x6D4B;&#x91CF;&#x8BEF;&#x5DEE;&#x3002; &#x7531;&#x4E8E;&#x4EE5;&#x4E0A;&#x9650;&#x5236;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x4F55;&#x5728;&#x7406;&#x8BBA;&#x65B9;&#x6CD5;&#x4E0E;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#x67B6;&#x8D77;&#x6865;&#x6881;&#x5BF9;&#x6211;&#x4EEC;&#x6765;&#x8BF4;&#x662F;&#x4E00;&#x4E2A;&#x6311;&#x6218;&#x3002; &#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;sketch-based&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5B8C;&#x5168;&#x8BB0;&#x5F55;&#x6240;&#x6709;&#x89C2;&#x6D4B;&#x5230;&#x7684;&#x6570;&#x636E;&#x5305;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#xFF0C;&#x4ED6;&#x4EEC;&#x90FD;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3002;SketchLearn&#x7684;&#x57FA;&#x672C;&#x601D;&#x60F3;&#x662F;&#x5C06;&#x56FA;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x77DB;&#x76FE;&#x7684;&#x7EDF;&#x8BA1;&#x7279;&#x5F81;&#x63CF;&#x7ED8;&#x51FA;&#x6765;&#xFF0C;&#x800C;&#x975E;&#x8FFD;&#x6C42;&#x4E00;&#x4E2A;&#x6D88;&#x9664;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x51B2;&#x7A81;&#x7684;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x3002;&#x8BE6;&#x7EC6;&#x7684;&#x8BF4;&#xFF0C;SketchLearn&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x4E2A;&#x591A;&#x5C42;&#x7684;sketch&#x6765;&#x8FFD;&#x8E2A;&#x7F51;&#x7EDC;&#x6D41;&#x8BB0;&#x5F55;&#x7684;&#x9891;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x591A;&#x7EA7;&#x7ED3;&#x6784;&#x5F15;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x7684;&#x591A;bit-level&#x7684;&#x9AD8;&#x65AF;&#x5206;&#x5E03;&#x3002;SketchLearn&#x5229;&#x7528;&#x9AD8;&#x65AF;&#x5206;&#x5E03;&#x6765;&#x786E;&#x5B9A;&#x5176;&#x9650;&#x5236;&#x3002;&#x5B83;&#x53CD;&#x590D;&#x4ECE;&#x591A;&#x7EA7;sketch&#x4E2D;&#x63A8;&#x7B97;&#x5E76;&#x63D0;&#x53D6;&#x51FA;&#x5927;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x76F4;&#x5230;&#x5269;&#x4F59;&#x7684;&#x591A;&#x7EA7;sketch&#x6EE1;&#x8DB3;&#x9AD8;&#x65AF;&#x5206;&#x5E03;&#x3002;&#x901A;&#x8FC7;&#x5206;&#x79BB;&#x5927;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#xFF0C;SketchLearn&#x6D88;&#x9664;&#x4E86;&#x8D44;&#x6E90;&#x51B2;&#x7A81;&#x5E76;&#x4E14;&#x63D0;&#x9AD8;&#x5176;&#x6D4B;&#x91CF;&#x51C6;&#x786E;&#x6027;&#x3002; &#x7814;&#x7A76;&#x52A8;&#x673A; &#x5728;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9699;&#x91CC;&#x6BCF;&#x6761;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x6D41;&#x7684;&#x9891;&#x6570;&#x88AB;&#x79F0;&#x4E3A;epochs&#x3002;&#x6BCF;&#x6761;&#x6D41;&#x90FD;&#x7528;&#x4E00;&#x4E2A;flowkey&#x4F5C;&#x4E3A;&#x6807;&#x5FD7;&#xFF0C;&#x4F8B;&#x5982;5&#x5143;&#x7EC4;&#x6216;&#x8005;&#x6E90;/&#x76EE;&#x7684;&#x5730;&#x5740;&#x5BF9;&#x3002;&#x901A;&#x8FC7;&#x6BCF;&#x6761;&#x6D41;&#x7684;&#x9891;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x8F83;&#x590D;&#x6742;&#x7684;&#x6570;&#x636E;&#x6D41;&#x7EDF;&#x8BA1;&#x91CF;&#xFF0C;&#x5982;heavy hitters, heavy changers, superspreaders &#x4EE5;&#x53CA; DDoS&#xFF0C;cardinality(&#x52BF;),&#x6D41;&#x5927;&#x5C0F;&#x5206;&#x5E03;&#x548C;&#x71B5;&#x3002; &#x8BBE;&#x8BA1;&#x8981;&#x6C42; &#x8F83;&#x5C0F;&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528; &#x8F83;&#x5FEB;&#x7684;&#x5305;&#x5904;&#x7406;&#x901F;&#x5EA6; &#x5B9E;&#x65F6;&#x54CD;&#x5E94; &#x901A;&#x7528;&#x6027; &#x73B0;&#x6709;&#x65B9;&#x6CD5;&#x7684;&#x4E00;&#x4E9B;&#x9650;&#x5236; &#x5F88;&#x96BE;&#x8BF4;&#x660E;&#x9884;&#x671F;&#x8BEF;&#x5DEE; &#x5F88;&#x96BE;&#x5904;&#x7406;&#x4E0D;&#x540C;&#x7684;&#x9608;&#x503C;&#xFF08;&#x9488;&#x5BF9;&#x90A3;&#x4E9B;&#x9608;&#x503C;&#x4F5C;&#x4E3A;&#x4E00;&#x9879;&#x8F93;&#x5165;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x8BF4;&#xFF09; &#x5F88;&#x96BE;&#x6839;&#x636E;&#x7406;&#x8BBA;&#x4F9D;&#x636E;&#x6765;&#x8C03;&#x6574;&#x53C2;&#x6570;&#x914D;&#x7F6E; &#x5F88;&#x96BE;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;flowkeys &#x5F88;&#x96BE;&#x53BB;&#x68C0;&#x67E5;&#x5176;&#x51C6;&#x786E;&#x6027; SketchLearn &#x6982;&#x89C8; &#x529F;&#x80FD;&#x8BBE;&#x8BA1; &#x5BF9;&#x4E8E;&#x6BCF;&#x4F4D;&#x8FDB;&#x884C;&#x8FFD;&#x8E2A;&#x7684;&#x591A;&#x7EA7;sketch SketchLearn&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x7531;&#x591A;&#x4E2A;&#x5C0F;sketches&#x6240;&#x7EC4;&#x6210;&#x7684;&#x591A;&#x7EA7;sketch&#xFF0C;&#x6BCF;&#x4E2A;&#x591A;&#x7EA7;sketch&#x90FD;&#x4F1A;&#x5BF9;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x7684;flowkey&#x8FDB;&#x884C;&#x7279;&#x5B9A;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x6570;&#x636E;&#x8DDF;&#x8E2A;&#x3002;&#x7ED3;&#x5408;&#x7EDF;&#x8BA1;&#x6A21;&#x578B;&#xFF0C;SketchLearn&#x4E0D;&#x4EC5;&#x4EC5;&#x51CF;&#x5C11;&#x4E86;sketch&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x8FD8;&#x52A0;&#x5F3A;&#x4E86;&#x5BF9;&#x4E8E;&#x8D44;&#x6E90;&#x7684;&#x5229;&#x7528;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x4F7F;&#x5F97;flowkey&#x53EF;&#x4EE5;&#x6309;&#x9700;&#x968F;&#x610F;&#x5B9A;&#x5236;&#x3002;&#x5728;&#x591A;&#x7EA7;sketch&#x4E2D;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;flowkey&#x90FD;&#x6709;&#x591A;&#x4E2A;&#x57DF;&#x6765;&#x7EC4;&#x6210;&#xFF0C;&#x5982;5&#x5143;&#x7EC4;&#x3002; &#x5BF9;&#x5927;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x8FDB;&#x884C;&#x5206;&#x79BB; &#x591A;&#x7EA7;sketch&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x7684;&#x7279;&#x6027;&#x5C31;&#x662F;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5927;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x4ED6;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x5C31;&#x8DDF;&#x4ECE;&#x9AD8;&#x65AF;&#x5206;&#x5E03;&#x3002;&#x8FD9;&#x6837;&#xFF0C;SketchLearn&#x4ECE;&#x591A;&#x7EA7;sketch&#x4E2D;&#x62BD;&#x53D6;&#x5927;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x5E76;&#x4E14;&#x5269;&#x4E0B;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x5F62;&#x6210;&#x9AD8;&#x65AF;&#x5206;&#x5E03;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x5206;&#x79BB;&#x4F7F;&#x5F97;SketchLearn&#x89E3;&#x51B3;&#x54C8;&#x5E0C;&#x51B2;&#x7A81;&#x3002;&#x4F8B;&#x5982;SketchLearn&#x53EA;&#x5BF9;&#x90A3;&#x4E9B;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#x7684;&#x5927;&#x6570;&#x636E;&#x6D41;&#x8FDB;&#x884C;hitter&#x68C0;&#x6D4B;&#x3002; &#x65E0;&#x53C2;&#x6570;&#x7684;&#x6A21;&#x578B;&#x63A5;&#x53E3; SketchLearn&#x5728;&#x4E0D;&#x501F;&#x52A9;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5B9E;&#x73B0;&#x5BF9;&#x4E8E;&#x5927;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x7684;&#x533A;&#x5206;&#x3002;&#x5B83;&#x53CD;&#x590D;&#x5B66;&#x4E60;&#x591A;&#x7EA7;sketch&#x4E2D;&#x7684;&#x7EDF;&#x8BA1;&#x5206;&#x5E03;&#x5E76;&#x4E14;&#x5229;&#x7528;&#x8FD9;&#x79CD;&#x5206;&#x5E03;&#x6765;&#x6307;&#x5BFC;&#x5927;&#x6570;&#x636E;&#x6D41;&#x7684;&#x63D0;&#x53D6;&#x3002;&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x7684;&#x65E0;&#x53C2;&#x6570;&#x4E0D;&#x662F;&#x8BF4;SketchLearn&#x662F;&#x96F6;&#x914D;&#x7F6E;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#x5BF9;&#x4E8E;heavy hitter&#x7684;&#x68C0;&#x6D4B;&#x4ECD;&#x7136;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x9608;&#x503C;&#xFF0C;&#x4F46;&#x662F;SketchLearn&#x5DF2;&#x7ECF;&#x5C3D;&#x53EF;&#x80FD;&#x51CF;&#x5C11;&#x4E86;&#x914D;&#x7F6E;&#x91CF;&#x3002; &#x5BF9;&#x4E8E;&#x72EC;&#x7ACB;&#x6570;&#x636E;&#x6D41;&#x7684;&#x8BEF;&#x5DEE;&#x6D4B;&#x91CF;&#x5BF9;&#x4E8E;&#x7ED9;&#x5B9A;&#x6570;&#x636E;&#x6D41;&#x7EDF;&#x8BA1;&#x91CF;SketchLearn&#x90FD;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x8BEF;&#x5DEE;&#x6D4B;&#x91CF;&#x3002;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x8BC6;&#x522B;&#x4EFB;&#x4F55;&#x8BEF;&#x5DEE;&#xFF0C;&#x76F8;&#x53CD;&#x7684;&#x662F;&#x6211;&#x4EEC;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6765;&#x8BC6;&#x522B;&#x6B63;&#x786E;&#x7684;&#x6570;&#x636E;&#x6D41; &#x5168;&#x7F51;&#x8303;&#x56F4;SketchLearn&#x53EF;&#x4EE5;&#x90E8;&#x7F72;&#x5230;&#x5168;&#x7F51;&#x7684;&#x6D4B;&#x91CF;&#x8282;&#x70B9;&#x4E0A;&#x3002; &#x67B6;&#x6784;&#x8BBE;&#x8BA1;","categories":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/categories/Networking/"}],"tags":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/tags/Networking/"}],"author":"刘丰瑞"},{"title":"Elastic Sketch: Adaptive and Fast Network-wide Measurements","slug":"网络/2018-8-23-Elastic Sketch","date":"2018-08-22T16:00:00.000Z","updated":"2019-09-17T07:56:53.370Z","comments":true,"path":"2018/08/23/网络/2018-8-23-Elastic Sketch/","link":"","permalink":"http://www.liufr.com/2018/08/23/网络/2018-8-23-Elastic Sketch/","excerpt":"","text":"&#x6982;&#x8981; &#x5F53;&#x7F51;&#x7EDC;&#x9762;&#x4E34;&#x62E5;&#x585E;&#x3001;&#x626B;&#x63CF;&#x653B;&#x51FB;&#x4EE5;&#x53CA;DDos&#x653B;&#x51FB;&#x7B49;&#x7B49;&#x65F6;&#xFF0C;&#x901A;&#x4FE1;&#x7279;&#x5F81;&#x4F8B;&#x5982;&#x53EF;&#x7528;&#x5E26;&#x5BBD;&#x3001;&#x5305;&#x901F;&#x7387;&#x4EE5;&#x53CA;&#x6D41;&#x5927;&#x5C0F;&#x90FD;&#x6563;&#x5E03;&#x975E;&#x5E38;&#x5267;&#x70C8;&#xFF0C;&#x4E25;&#x91CD;&#x5F71;&#x54CD;&#x4E86;&#x6D4B;&#x91CF;&#x6027;&#x80FD;&#x3002;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x63D0;&#x51FA;&#x4E86;Elastic sketch&#x3002;ES&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x4EFB;&#x52A1;&#x4EE5;&#x53CA;&#x5E73;&#x53F0;&#x90FD;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x666E;&#x9002;&#x6027;(P4&#xFF0C;FPGA&#xFF0C;GPU&#xFF0C;CPU&#xFF0C;&#x591A;&#x6838;CPU&#xFF0C;OVS)&#x3002; &#x7B80;&#x4ECB; &#x80CC;&#x666F; &#x73B0;&#x6709;&#x7684;&#x7F51;&#x7EDC;&#x6D4B;&#x91CF;&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x5728;&#x51C6;&#x786E;&#x5EA6;&#x3001;&#x901F;&#x5EA6;&#x4EE5;&#x53CA;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x91CF;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;trade off&#x95EE;&#x9898;&#x3002;&#x4E14;&#x73B0;&#x6709;&#x65B9;&#x6CD5;&#x90FD;&#x6CA1;&#x6709;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5728;&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x5404;&#x4E2A;&#x7279;&#x5F81;&#x5927;&#x5E45;&#x53D8;&#x5316;&#x65F6;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7F51;&#x7EDC;&#x7684;&#x51C6;&#x786E;&#x6D4B;&#x91CF;&#x3002; &#x7B2C;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x7279;&#x5F81;&#x5C31;&#x662F;&#x53EF;&#x7528;&#x5E26;&#x5BBD;&#x3002;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x4E2D;&#xFF0C;&#x7BA1;&#x7406;&#x5458;&#x76F8;&#x6BD4;&#x4E8E;&#x4E00;&#x6761;&#x5355;&#x72EC;&#x7684;&#x94FE;&#x8DEF;&#x6216;&#x8005;&#x8282;&#x70B9;&#xFF0C;&#x66F4;&#x5173;&#x5FC3;&#x6574;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5168;&#x7F51;&#x7684;&#x6D4B;&#x91CF;&#x3002;&#x7BA1;&#x7406;&#x5458;&#x53EF;&#x4EE5;&#x90E8;&#x7F72;&#x591A;&#x4E2A;&#x6D4B;&#x91CF;&#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x4E9B;&#x8282;&#x70B9;&#x5468;&#x671F;&#x6027;&#x5730;&#x5411; collector&#x6C47;&#x62A5; sketches&#x6D4B;&#x91CF;&#x7ED3;&#x679C;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x6D4B;&#x91CF;&#x8FC7;&#x7A0B;&#x4E5F;&#x9700;&#x8981;&#x5360;&#x7528;&#x4E00;&#x5B9A;&#x7684;&#x5E26;&#x5BBD;&#x3002;&#x5728;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x91CC;&#xFF0C;&#x7F51;&#x7EDC;&#x62E5;&#x585E;&#x4E5F;&#x662F;&#x975E;&#x5E38;&#x5E38;&#x89C1;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x7F51;&#x7EDC;&#x6D4B;&#x91CF;&#x5BF9;&#x4E8E;&#x62E5;&#x585E;&#x63A7;&#x5236;&#x4E0E;&#x89E3;&#x9664;&#x95EE;&#x9898;&#x6765;&#x8BF4;&#x5C31;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x4E86;&#x3002;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x4E0D;&#x80FD;&#x7B49;&#x5F85;&#x53EF;&#x7528;&#x5E26;&#x5BBD;&#x53BB;&#x6C47;&#x62A5;&#x6D4B;&#x91CF;&#x7ED3;&#x679C;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x7ED3;&#x679C;&#x90FD;&#x5177;&#x6709;&#x76F8;&#x5F53;&#x7684;&#x5B9E;&#x65F6;&#x6027;&#xFF0C;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x7F51;&#x7EDC;&#x6D4B;&#x91CF;&#x4E0D;&#x5E94;&#x8BE5;&#x662F;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x8D1F;&#x62C5;&#x3002;&#x4E00;&#x4E2A;&#x826F;&#x597D;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x540C;&#x65F6;&#x517C;&#x987E;&#x51C6;&#x786E;&#x6027;&#x4E0E;&#x4F4E;&#x5E26;&#x5BBD;&#x7684;&#x5360;&#x7528;&#x3002;&#x8FD9;&#x91CC;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x538B;&#x7F29;sketch&#x7B97;&#x6CD5;&#x3002; &#x7B2C;&#x4E8C;&#x4E2A;&#x7F51;&#x7EDC;&#x7279;&#x5F81;&#x5C31;&#x662F;&#x5305;&#x5230;&#x8FBE;&#x901F;&#x7387;&#x3002;&#x8FD9;&#x9879;&#x6307;&#x6807;&#x5728;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x53EF;&#x80FD;&#x4F1A;&#x5927;&#x5E45;&#x53D8;&#x5316;&#x3002;&#x6709;&#x4E00;&#x4E9B;&#x8DEF;&#x7531;&#x534F;&#x8BAE;&#x662F;&#x6839;&#x636E;&#x7F51;&#x7EDC;&#x6027;&#x80FD;&#x6765;&#x8C03;&#x6574;&#x5305;&#x7684;&#x53D1;&#x9001;&#x901F;&#x7387;&#x3002;&#x4F46;&#x662F;&#x73B0;&#x6709;&#x7684;sketches&#x7B97;&#x6CD5;&#x5BF9;&#x4E8E;&#x5305;&#x7684;&#x5904;&#x7406;&#x901F;&#x7387;&#x90FD;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E;&#x7A81;&#x7136;&#x63D0;&#x9AD8;&#x7684;&#x5305;&#x901F;&#x7387;&#x5904;&#x7406;&#x4E0D;&#x597D;&#xFF0C;&#x5BF9;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x52A0;&#x5FEB;&#x5BF9;&#x4E8E;&#x91CD;&#x8981;&#x4FE1;&#x606F;&#x7684;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E22;&#x5F03;&#x4E0D;&#x91CD;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x3002; &#x7B2C;&#x4E09;&#x4E2A;&#x7F51;&#x7EDC;&#x7279;&#x5F81;&#x662F;&#x6D41;&#x5927;&#x5C0F;&#x7684;&#x5206;&#x914D;&#x3002;&#x5927;&#x591A;&#x6570;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x90FD;&#x662F;&#x6BD4;&#x8F83;&#x5C0F;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x5E94;&#x5F53;&#x5C06;&#x5927;&#x6570;&#x636E;&#x6D41;&#x533A;&#x5206;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x6765;&#x5B58;&#x50A8;&#x4ED6;&#x4EEC;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x6D41;&#x5927;&#x5C0F;&#x5341;&#x5206;&#x5206;&#x6563;&#x3002;&#x6709;&#x7684;&#x4EBA;&#x8BA4;&#x4E3A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x9884;&#x6D4B;&#x5B9E;&#x73B0;&#x9884;&#x5148;&#x5206;&#x914D;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x5C0F;&#x65F6;&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#x9884;&#x6D4B;&#x5927;&#x6570;&#x636E;&#x6D41;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x5374;&#x6CA1;&#x529E;&#x6CD5;&#x7CBE;&#x786E;&#x5230;&#x79D2;&#x7EA7;&#x3002;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x5F39;&#x6027;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4ECE;&#x800C;&#x52A8;&#x6001;&#x5730;&#x7ED9;&#x5927;&#x6570;&#x636E;&#x6D41;&#x5206;&#x914D;&#x5408;&#x9002;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3002; &#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x73B0;&#x9636;&#x6BB5;&#x7684;&#x95EE;&#x9898;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5F39;&#x6027;&#x7684;sketch&#x65B9;&#x6848;&#xFF1A;&#x81EA;&#x9002;&#x5E94;&#x5E26;&#x5BBD;&#xFF0C;&#x5305;&#x901F;&#x7387;&#x4EE5;&#x53CA;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x5927;&#x5C0F;&#x5206;&#x5E03;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x7684;&#x8981;&#x6C42;&#x8FD8;&#x6709;&#x666E;&#x9002;&#x6027;&#xFF0C;&#x5B9E;&#x65F6;&#x6027;&#x4EE5;&#x53CA;&#x51C6;&#x786E;&#x6027;&#x3002; &#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A; Elastic sketch&#xFF0C;&#x7531;heavy part&#x548C;light part&#x6784;&#x6210;&#x3002;&#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x79CD;Ostracism&#x6280;&#x672F;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x5927;&#x6570;&#x636E;&#x6D41;&#x5BFC;&#x5165;heavy part &#x5E76;&#x4E14;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x5BFC;&#x5165;light part&#x3002; &#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x5F39;&#x6027;&#x4F38;&#x7F29;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A; &#x4E3A;&#x4E86;&#x9002;&#x5E94;&#x5E26;&#x5BBD;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x51FA;&#x4E86;&#x538B;&#x7F29;&#x4E0E;&#x5408;&#x5E76;sketch&#x7684;&#x7B97;&#x6CD5;&#x3002;&#x9996;&#x5148;&#x662F;&#x538B;&#x7F29;&#x6211;&#x4EEC;&#x539F;&#x6709;&#x7684;sketch&#x5230;&#x4E00;&#x4E2A;&#x5408;&#x9002;&#x7684;&#x5927;&#x5C0F;&#x4EE5;&#x9002;&#x5E94;&#x73B0;&#x5728;&#x7684;&#x53EF;&#x7528;&#x5E26;&#x5BBD;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x7528;&#x670D;&#x52A1;&#x5668;&#x6765;&#x5408;&#x5E76;sketches&#x5E76;&#x51CF;&#x5C11;&#x5E26;&#x5BBD;&#x4F7F;&#x7528;&#x3002; &#x5F53;&#x5305;&#x901F;&#x7387;&#x63D0;&#x9AD8;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x6539;&#x53D8;&#x5176;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x4EC5;&#x4EC5;&#x8BB0;&#x5F55;&#x90A3;&#x4E9B;&#x5927;&#x6570;&#x636E;&#x6D41;&#x5E76;&#x4E22;&#x5F03;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x6837;&#x5728;&#x635F;&#x5931;&#x6781;&#x5C0F;&#x7684;&#x51C6;&#x786E;&#x5EA6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x66F4;&#x5FEB;&#x7684;&#x6570;&#x636E;&#x5904;&#x7406;&#x3002; &#x5F53;&#x5927;&#x6570;&#x636E;&#x6D41;&#x7684;&#x6570;&#x91CF;&#x53D1;&#x751F;&#x5267;&#x70C8;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x4E86;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x52A8;&#x6001;&#x589E;&#x52A0;heavy part&#x7684;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x3002; &#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x666E;&#x9002;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A; &#x5BF9;&#x4E8E;&#x6D4B;&#x91CF;&#x4EFB;&#x52A1;&#x7684;&#x666E;&#x9002;&#x6027;&#x3002;&#x6211;&#x4EEC;&#x4FDD;&#x7559;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5305;&#x6700;&#x4E0D;&#x53EF;&#x6216;&#x7F3A;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x4E22;&#x5F03;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x7684;ID&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x4E3A;&#x6839;&#x636E;&#x6211;&#x4EEC;&#x89C2;&#x5BDF;&#x5F97;&#x77E5;&#x5904;&#x7406;ID&#x901A;&#x5E38;&#x4F1A;&#x6D88;&#x8017;&#x5185;&#x5B58;&#x4F46;&#x662F;&#x5B9E;&#x7528;&#x6027;&#x8F83;&#x4F4E;&#x3002; &#x5BF9;&#x4E8E;&#x5E73;&#x53F0;&#x7684;&#x666E;&#x9002;&#x6027;&#x3002;&#x6211;&#x4EEC;&#x5206;&#x522B;&#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x8F6F;&#x4EF6;&#x548C;&#x786C;&#x4EF6;&#x7248;&#x672C;&#x6765;&#x8868;&#x793A;ES&#xFF0C;&#x751A;&#x81F3;&#x9488;&#x5BF9;P4&#x4E5F;&#x505A;&#x51FA;&#x4E86;&#x9002;&#x914D;&#x6539;&#x8FDB;&#x3002; &#x80CC;&#x666F;&#x548C;&#x76F8;&#x5173;&#x5DE5;&#x4F5C; &#x81EA;&#x9002;&#x5E94;&#x6D4B;&#x91CF;&#x7684;&#x6311;&#x6218;&#xFF1A; &#x6839;&#x636E;&#x5408;&#x9002;&#x7684;&#x5E26;&#x5BBD;&#x5C06;&#x6D4B;&#x91CF;&#x6570;&#x636E;&#x4EE5;&#x5408;&#x9002;&#x7684;&#x5927;&#x5C0F;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#x3002;&#x5F53;&#x53EF;&#x7528;&#x5E26;&#x5BBD;&#x6BD4;&#x8F83;&#x5C0F;&#x65F6;&#xFF0C;&#x53D1;&#x9001;&#x8F83;&#x5927;&#x7684;sketch&#x5C06;&#x4F1A;&#x5BFC;&#x81F4;&#x8F83;&#x5927;&#x7684;&#x5EF6;&#x8FDF;&#x5E76;&#x4E14;&#x5F71;&#x54CD;&#x6B63;&#x5E38;&#x7684;&#x7528;&#x6237;&#x6570;&#x636E;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x6240;&#x6709;&#x73B0;&#x6709;&#x7684;&#x6D4B;&#x91CF;&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x5728;&#x5F00;&#x59CB;&#x6D4B;&#x91CF;&#x4E4B;&#x524D;&#x9009;&#x5B9A;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x5185;&#x5B58;&#x3002;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x5982;&#x4F55;&#x5C06;sketch&#x7684;&#x5927;&#x5C0F;&#x7F29;&#x5C0F;&#x5230;&#x53EF;&#x7528;&#x5E26;&#x5BBD;&#x5927;&#x5C0F;&#x4EE5;&#x4E0B;&#x3002;&#x8BBE;&#x8BA1;&#x76EE;&#x6807;&#x662F;&#x7528;&#x4F4E;&#x4E8E;&#x73B0;&#x6709;&#x65B9;&#x6CD5;&#x4E00;&#x534A;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x6765;&#x5B9E;&#x73B0;&#x4E0E;&#x539F;&#x65B9;&#x6CD5;&#x76F8;&#x8FD1;&#x7684;&#x51C6;&#x786E;&#x5EA6;&#x3002; &#x5904;&#x7406;&#x5305;&#x7684;&#x901F;&#x7387;&#x9002;&#x5E94;&#x5305;&#x901F;&#x7387;&#x3002;&#x73B0;&#x6709;&#x65B9;&#x6CD5;&#x5927;&#x591A;&#x662F;&#x56FA;&#x5B9A;&#x901F;&#x7387;&#xFF0C;&#x4E14;&#x9700;&#x8981;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x8F83;&#x5927;&#xFF08;&#x5927;&#x4E8E;&#x6570;&#x636E;&#x5305;10&#x500D;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF09;&#x3002;&#x8BBE;&#x8BA1;&#x76EE;&#x6807;&#x662F;&#x5982;&#x4F55;&#x5728;&#x5305;&#x901F;&#x7387;&#x8F83;&#x4F4E;&#x65F6;&#x7528;2&#x500D;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x4EE5;&#x53CA;&#x5305;&#x901F;&#x7387;&#x8F83;&#x9AD8;&#x65F6;&#x7528;1&#x500D;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x540C;&#x65F6;&#x4FDD;&#x8BC1;&#x9AD8;&#x51C6;&#x786E;&#x5EA6;&#x3002; &#x5728;&#x771F;&#x5B9E;&#x7684;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x7F51;&#x7EDC;&#x6D41;&#x5927;&#x5C0F;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x504F;&#x659C;&#x4E14;&#x53D8;&#x5316;&#x65E0;&#x5E38;&#x7684;(skewed and variable)&#x3002;&#xFF08;Skewed&#xFF09;&#x5927;&#x591A;&#x6570;&#x7684;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x6D41;&#x90FD;&#x662F;&#x5C0F;&#x6D41;&#xFF0C;&#x5C11;&#x90E8;&#x5206;&#x662F;&#x5927;&#x6570;&#x636E;&#x6D41;&#x3002;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x5185;&#x5B58;&#x5229;&#x7528;&#x6548;&#x7387;&#xFF0C;&#x53EF;&#x4EE5;&#x5206;&#x79BB;&#x5927;&#x6D41;&#x4E0E;&#x5C0F;&#x6D41;&#xFF0C;&#x56E0;&#x4E3A;&#x5927;&#x6D41;&#x5F80;&#x5F80;&#x6BD4;&#x5C0F;&#x6D41;&#x8981;&#x91CD;&#x8981;&#x5F97;&#x591A;&#xFF0C;&#x6240;&#x4EE5;&#x7ED9;&#x5927;&#x6570;&#x636E;&#x6D41;&#x5206;&#x914D;&#x5408;&#x9002;&#x7684;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x4E5F;&#x662F;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x7684;&#x3002;&#x7531;&#x4E8E;&#x5728;&#x7F51;&#x7EDC;&#x4E2D;&#x5927;&#x6D41;&#x548C;&#x5C0F;&#x6D41;&#x90FD;&#x662F;&#x672A;&#x77E5;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x52A8;&#x6001;&#x5730;&#x5206;&#x914D;&#x5185;&#x5B58;&#x662F;&#x6781;&#x5177;&#x6311;&#x6218;&#x7684;&#x3002; &#x6D4B;&#x91CF;&#x7684;&#x901A;&#x7528;&#x6027;&#x65B9;&#x6CD5;&#xFF1A; &#x6D41;&#x5927;&#x5C0F;&#x7684;&#x4F30;&#x8BA1;&#xFF1A;&#x5BF9;&#x4EFB;&#x610F;&#x4E00;&#x6761;&#x7F51;&#x7EDC;&#x6D41;&#x5927;&#x5C0F;&#x90FD;&#x8FDB;&#x884C;&#x89C4;&#x6A21;&#x4F30;&#x8BA1;&#x3002;ID&#x53EF;&#x4EE5;&#x7531;5&#x5143;&#x7EC4;&#x6784;&#x6210;&#x3002;&#x672C;&#x6587;&#x5C06;&#x7F51;&#x7EDC;&#x6D41;&#x5927;&#x5C0F;&#x7528;&#x6570;&#x636E;&#x5305;&#x7684;&#x6570;&#x91CF;&#x6216;&#x8005;&#x6D41;&#x5B57;&#x8282;&#x5927;&#x5C0F;&#x6765;&#x4EE3;&#x66FF;&#x3002; Heavy hitter&#x68C0;&#x6D4B;&#xFF1A;&#x5C06;&#x6240;&#x6709;&#x5927;&#x5C0F;&#x8D85;&#x8FC7;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x9608;&#x503C;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x62A5;&#x544A;&#x51FA;&#x6765;&#x3002; Heavy change&#x68C0;&#x6D4B;&#xFF1A;&#x5C06;&#x6240;&#x6709;&#x5728;&#x76F8;&#x90BB;&#x4E24;&#x4E2A;&#x65F6;&#x9699;&#x5185;&#x6D41;&#x5927;&#x5C0F;&#x53D8;&#x5316;&#x8D85;&#x8FC7;&#x4E00;&#x5B9A;&#x9608;&#x503C;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x62A5;&#x544A;&#x51FA;&#x6765;&#x3002; &#x6D41;&#x5927;&#x5C0F;&#x5206;&#x5E03;&#x4F30;&#x8BA1; &#x71B5;&#x4F30;&#x8BA1;&#xFF1A;&#x7F51;&#x7EDC;&#x6D41;&#x5927;&#x5C0F;&#x7684;&#x71B5; &#x52BF;&#x4F30;&#x8BA1;&#xFF1A;&#x7F51;&#x7EDC;&#x6D41;&#x6570;&#x91CF; &#x5F39;&#x6027;Sketches &#x57FA;&#x672C;&#x601D;&#x8DEF; &#x903B;&#x8F91;&#x4F9D;&#x636E;(Rationale): &#x6839;&#x636E;&#x4E0A;&#x8FF0;&#x63D0;&#x5230;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x5206;&#x6D41;&#x95EE;&#x9898;&#x89C4;&#x7EA6;&#x4E3A;&#xFF1A;&#x5DF2;&#x77E5;&#x4E00;&#x4E2A;&#x9AD8;&#x901F;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x4E00;&#x4E2A;&#x6876;(bucket)&#x6765;&#x9009;&#x62E9;&#x6700;&#x5927;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#xFF1F;&#x56E0;&#x4E3A;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x6709;&#x9650;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x51C6;&#x786E;&#x7684;&#x7B54;&#x6848;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x81F4;&#x529B;&#x4E8E;&#x63D0;&#x9AD8;&#x8BE5;&#x7B97;&#x6CD5;&#x7684;&#x51C6;&#x786E;&#x5EA6;&#x3002;&#x6211;&#x4EEC;&#x7684;&#x65B9;&#x6CD5;&#x4E0E;&#x9676;&#x7247;&#x653E;&#x9010;&#x6CD5;(Ostracism)&#x7684;&#x601D;&#x8DEF;&#x7C7B;&#x4F3C;&#x3002;&#x8BE6;&#x7EC6;&#x6765;&#x8BB2;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x6876;(bucket)&#x90FD;&#x6709;&#x4E09;&#x4E2A;&#x57DF;&#xFF1A;ID&#xFF0C;positive votes&#xFF0C;negative votes&#x3002;&#x5DF2;&#x77E5;&#x4E00;&#x4E2A;ID&#x4E3A;\\(f_1\\)&#x7684;&#x6D41;&#x4F20;&#x6765;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x5982;&#x679C;&#x4E0E;bucket &#x4E2D;&#x7684;ID&#x4E00;&#x81F4;&#xFF0C;&#x5C31;&#x589E;&#x52A0;&#x5176;positive votes&#x7684;&#x503C;&#xFF0C;&#x53CD;&#x4E4B;&#x589E;&#x52A0;negative notes&#x7684;&#x503C;&#x3002;&#x5982;&#x679C;(\\(\\frac{negative\\ votes}{positive\\ votes} \\geq \\lambda\\))&#x5176;&#x4E2D;&#x3BB;&#x662F;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x9608;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x539F;&#x6709;&#x7684;&#x6570;&#x636E;&#x6D41;&#x4ECE;bucket&#x4E2D;&#x5220;&#x9664;&#x5E76;&#x5C06;\\(f_1\\)&#x653E;&#x5165;&#x5230;bucket&#x4E2D;&#x3002; &#x5982;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5305;&#x542B;&#x4E24;&#x90E8;&#x5206;&#xFF0C;heavy part&#x8BB0;&#x5F55;&#x5927;&#x6570;&#x636E;&#x6D41;&#xFF0C;light part&#x8BB0;&#x5F55;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x3002;\\(h(.)\\)&#x662F;&#x4E00;&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#xFF0C;\\(vote^+\\)&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x672C;&#x6570;&#x636E;&#x6D41;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;\\(vote^-\\)&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x6D41;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;flag&#x6807;&#x5FD7;light part&#x91CC;&#x9762;&#x662F;&#x5426;&#x5305;&#x542B;&#x672C;&#x6761;&#x6570;&#x636E;&#x6D41;&#x7684;positive votes&#x3002; light part&#x662F;&#x4E00;&#x4E2A;CM sketch, &#x4E00;&#x4E2A;CM sketch&#x5305;&#x542B;\\(d\\)&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x6BCF;&#x4E2A;&#x6570;&#x7EC4;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x7EC4;&#x6210;&#x4E86;\\(w\\)&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x3002;&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x8FDB;&#x6765;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;CM sketch&#x53D6;&#x51FA;&#x6D41;ID&#xFF0C;&#x8BA1;&#x7B97;\\(d\\)&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x53BB;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x5B9A;&#x4F4D;&#x4E00;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x8BE5;&#x8BA1;&#x6570;&#x5668;&#x4E0A;&#x52A0;1&#x3002; &#x63D2;&#x5165;&#xFF1A;&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x8FDB;&#x6765;&#x7684;&#x6D41;ID&#x4E3A;\\(f\\)&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x54C8;&#x5E0C;&#x5230;&#x6876;\\(\\mathcal{H}[h(f)\\%B]\\)&#x4E2D;&#xFF0C;\\(B\\)&#x662F;heavy part&#x91CC;&#x9762;bucket&#x7684;&#x4E2A;&#x6570;&#x3002;&#x5047;&#x8BBE;bucket&#x4FDD;&#x5B58;\\((f1,vote+,flag1,vote-)\\)&#x3002;&#x4E0E;&#x9676;&#x7247;&#x653E;&#x9010;&#x6CD5;Ostracism&#x76F8;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x5982;&#x679C;\\(f\\)&#x4E0E;\\(f_1\\)&#x5339;&#x914D;&#xFF0C;&#x6211;&#x4EEC;&#x589E;&#x52A0;\\(vote^+\\)&#xFF0C;&#x5426;&#x5219;&#x589E;&#x52A0;\\(vote^-\\)&#x5E76;&#x4E14;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x9A71;&#x9010;\\(f_1\\)&#x3002;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#x6709;&#x4EE5;&#x4E0B;&#x56DB;&#x79CD;&#x60C5;&#x51B5;&#xFF1A; bucket&#x662F;&#x7A7A;&#x7684;&#xFF0C;&#x63D2;&#x5165;\\((f,1,F,0)\\) \\(f=f1\\),\\(vote^+\\)&#x52A0;1 \\(f \\neq f1\\)&#x4E14;&#x5728;\\(vote^-\\)&#x52A0;1&#x540E;&#xFF0C;\\(\\frac{vote^-}{vote^+} &lt; \\lambda\\)&#xFF0C;&#x6211;&#x4EEC;&#x5C06;\\((f,1)\\)&#x63D2;&#x5165;&#x5230;CMsketch&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x54C8;&#x5E0C;&#x8BA1;&#x6570;&#x5668;&#x52A0;1&#x3002; \\(f \\neq f1\\)&#x4E14;&#x5728;\\(vote^-\\)&#x52A0;1&#x540E;&#xFF0C;\\(\\frac{vote^-}{vote^+}\\geq \\lambda\\), &#x6211;&#x4EEC;&#x5C06;\\(f_1\\)&#x5254;&#x9664;bucket&#x5E76;&#x5C06;\\(f\\)&#x586B;&#x5230;&#x6876;&#x4E2D;&#xFF0C;&#x5E76;&#x521D;&#x59CB;&#x5316;&#x4E3A;\\((f,1,T,1)\\)&#x3002;\\(f_1\\)&#x4F1A;&#x88AB;&#x653E;&#x5230;CM sketch&#x4E2D;&#xFF0C;&#x589E;&#x91CF;&#x5927;&#x5C0F;&#x4E3A;&#x539F;\\(vote^+\\)&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x7684;flag&#x7F6E;&#x4E3A;T&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x6B64;&#x4E4B;&#x524D;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x5B58;&#x5728;\\(f\\)&#x6D41;&#x5DF2;&#x7ECF;&#x88AB;&#x63D2;&#x5165;&#x5230;light part&#x7684;&#x60C5;&#x51B5;&#x3002; &#x5BF9;&#x4E8E;&#x4EFB;&#x610F;&#x4E0D;&#x5728;heavy part&#x7684;&#x6D41;&#xFF0C;light part&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x53CD;&#x6620;&#x51FA;&#x5176;&#x5927;&#x5C0F;&#x3002;&#x5BF9;&#x4E8E;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x5728;heavy part&#x7684;&#x6570;&#x636E;&#x6D41;&#x6709;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF1A; \\(flag=F\\)&#xFF0C;&#x5927;&#x5C0F;&#x5C31;&#x662F;\\(vote^+\\)&#x3002; \\(flag=T\\),&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5408;&#x5E76;\\(vote^+\\)&#x4EE5;&#x53CA;CM sketch&#x7684;&#x7ED3;&#x679C;&#x3002; Elastic Sketch &#x7684;&#x51C6;&#x786E;&#x6027;&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x8DB3;&#x591F;&#x9AD8;&#x7684;&#xFF0C;&#x5F97;&#x76CA;&#x4E8E;&#x4EE5;&#x4E0B;&#x4E24;&#x70B9;&#xFF1A; heavy part&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#xFF1A;&#x5BF9;&#x4E8E;&#x4EFB;&#x4F55;flag&#x4E3A;F&#x7684;&#x6570;&#x636E;&#x6D41;&#xFF0C;\\(vote^+\\)&#x4EE3;&#x8868;&#x7684;&#x5C31;&#x662F;&#x5168;&#x90E8;&#x7684;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x5F53;flag&#x4E3A;T&#x65F6;&#xFF0C;\\(vote^+\\)&#x4EE3;&#x8868;&#x7684;&#x662F;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x6D41;&#x3002; light part&#x4E2D;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x8BB0;&#x5F55;&#x6D41;ID&#xFF0C;&#x4EC5;&#x4EC5;&#x8BB0;&#x5F55;&#x90A3;&#x4E9B;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5F88;&#x591A;&#x5C0F;&#x8BA1;&#x6570;&#x5668;&#xFF08;&#x5982;8&#x4F4D;&#x8BA1;&#x6570;&#x5668;&#xFF09;&#xFF0C;&#x76F8;&#x6BD4;&#x4F20;&#x7EDF;sketch&#x7B97;&#x6CD5;&#x4E2D;&#x7684;&#x8F83;&#x5927;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x66F4;&#x52A0;&#x7CBE;&#x786E;&#x3002; &#x5BF9;&#x4E8E;&#x7CBE;&#x786E;&#x5EA6;&#x5F71;&#x54CD;&#x6700;&#x5927;&#x7684;&#x5C31;&#x662F;&#x5927;&#x6570;&#x636E;&#x6D41;&#x7684;&#x51B2;&#x7A81;&#xFF1A;&#x5F53;&#x4E24;&#x4E2A;&#x6216;&#x4E24;&#x4E2A;&#x4EE5;&#x4E0A;&#x7684;&#x5927;&#x6570;&#x636E;&#x6D41;&#x54C8;&#x5E0C;&#x5230;&#x540C;&#x4E00;&#x4E2A;bucket&#x91CC;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x6761;&#x5927;&#x6570;&#x636E;&#x6D41;&#x5C31;&#x4F1A;&#x5BFC;&#x5165;light part&#x4E2D;&#xFF0C;&#x4F7F;&#x5F97;&#x4E00;&#x4E9B;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x8FC7;&#x9AD8;&#x4F30;&#x8BA1;&#x4E86;&#x3002;&#x5BF9;&#x4E8E;&#x8BE5;&#x95EE;&#x9898;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x51CF;&#x5C0F;&#x54C8;&#x5E0C;&#x51B2;&#x7A81;&#xFF0C;&#x4E24;&#x4E2A;&#x7ECF;&#x5178;&#x601D;&#x8DEF;&#x5176;&#x4E00;&#x662F;&#x4F7F;&#x7528;&#x5B50;&#x8868;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x5C31;&#x662F;&#x591A;&#x4E2A;key&#x503C;&#x5339;&#x914D;&#x3002; &#x81EA;&#x9002;&#x5E94;&#x5339;&#x914D;&#x53EF;&#x7528;&#x5E26;&#x5BBD; &#x4E3A;&#x4E86;&#x9002;&#x5E94;&#x53EF;&#x7528;&#x5E26;&#x5BBD;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x53D1;&#x9001;sketches&#x4E4B;&#x524D;&#x8981;&#x5148;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x538B;&#x7F29;&#x3002;&#x5927;&#x591A;&#x6570;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x90FD;&#x662F;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;light part&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x8981;&#x8FDC;&#x8FDC;&#x5927;&#x4E8E;heavy part&#x7684;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x8981;&#x7814;&#x7A76;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x5982;&#x4F55;&#x538B;&#x7F29;&#x5408;&#x5E76;light part&#xFF0C;&#x4E5F;&#x5C31;&#x662F;CM sketch&#x7684;&#x3002; &#x538B;&#x7F29;&#x7684;&#x4E3B;&#x8981;&#x601D;&#x8DEF;&#x662F;&#x5148;&#x5C06;&#x8BA1;&#x6570;&#x5668;&#x5206;&#x7EC4;&#xFF0C;&#x5E76;&#x5C06;&#x540C;&#x4E00;&#x7EC4;&#x91CC;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x5408;&#x5E76;&#x5230;&#x4E00;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x4E0A;&#x3002; &#x5206;&#x7EC4;&#xFF1A;&#x7531;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x5927;&#x5C0F;&#x4E3A;\\(zw&apos;*d\\)&#x7684;sketch A(&#x5BBD;&#x5EA6;\\(w=zw&apos;\\)&#xFF0C;&#x6DF1;&#x5EA6;&#x4E3A;\\(d\\)&#xFF0C;\\(z\\)&#x662F;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x4EE3;&#x8868;&#x538B;&#x7F29;&#x7387;),&#x6211;&#x4EEC;&#x7684;&#x538B;&#x7F29;&#x65B9;&#x6CD5;&#x9075;&#x5FAA;&#x4EE5;&#x4E0B;&#x89C4;&#x5B9A;&#xFF1A; &#x5C06;sketch A&#x5212;&#x5206;&#x4E3A;&#x76F8;&#x7B49;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x6BCF;&#x4E2A;&#x90E8;&#x5206;&#x90FD;&#x662F;\\(w&apos;*d\\)&#x3002; &#x6211;&#x4EEC;&#x8BBE;&#x7ACB;&#x4E00;&#x4E2A;sketch B&#x5927;&#x5C0F;&#x4E3A;\\(w&apos; * d\\)&#x3002;3&#xFF09;&#x6709;&#x540C;&#x6837;&#x7D22;&#x5F15;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x5C06;&#x4F1A;&#x88AB;&#x5206;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x7EC4;&#x91CC;&#xFF08;\\({A_i^k[j]}_{k=1,...,z}\\)&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;\\(B_i[j]=OP^z_{k=1}{A_i^k[j]}(1&lt;=i&lt;=d,1&lt;=j&lt;=z)\\),\\(OP\\)&#x662F;&#x4E00;&#x4E2A;&#x5408;&#x5E76;&#x64CD;&#x4F5C;&#x7B26;&#x5982;MAX&#x6216;Sum&#xFF0C;&#x56FE;&#x4F8B;&#x4E2D;&#x5C31;&#x662F;&#x53D6;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x4E3A;&#x4E86;&#x7B26;&#x5408;sketch B&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x5C06;&#x54C8;&#x5E0C;&#x51FD;&#x6570;\\(hi(.)\\%w\\)&#x53D8;&#x4E3A;\\(hi(.)\\%w\\%w&apos;\\)&#x3002; &#x5408;&#x5E76;&#x64CD;&#x4F5C;&#xFF1A;&#x7B2C;&#x4E00;&#x79CD;&#x662F;&#x52A0;&#x548C;&#x538B;&#x7F29;(SC)&#xFF0C;&#x5C06;&#x6BCF;&#x4E00;&#x7EC4;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x6C42;&#x548C;&#x3002;&#x53E6;&#x4E00;&#x79CD;&#x5C31;&#x662F;&#x6700;&#x5927;&#x503C;&#x538B;&#x7F29;(MC)&#x3002;&#x5173;&#x4E8E;&#x4E8C;&#x8005;&#x6709;&#x4EE5;&#x4E0B;&#x7ED3;&#x8BBA;&#xFF1A; 1. SC&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x539F;&#x59CB;&#x7684;&#x8BEF;&#x5DEE;&#x8303;&#x56F4;&#xFF0C;MC&#x5219;&#x4F1A;&#x8BA9;&#x8BEF;&#x5DEE;&#x8303;&#x56F4;&#x66F4;&#x52A0;&#x4E25;&#x683C;&#x3002;2. &#x6211;&#x4EEC;&#x8BC1;&#x5B9E;&#x4F7F;&#x7528;MC&#x65B9;&#x6CD5;&#xFF0C;&#x538B;&#x7F29;&#x540E;&#x7684;CM sketch&#x6709;over-estimation&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x5374;&#x6CA1;&#x6709;under-estimation&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;&#x53EA;&#x53EF;&#x80FD;&#x8FC7;&#x5EA6;&#x4F30;&#x8BA1;&#xFF0C;&#x4E0D;&#x4F1A;&#x5C11;&#x4F30;&#x8BA1;&#x3002; 3. &#x538B;&#x7F29;&#x8FC7;&#x7A0B;&#x662F;&#x5F88;&#x5FEB;&#x7684;&#xFF0C;&#x6BD4;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x5757;5~8&#x500D;&#x3002; 4. &#x4E0D;&#x9700;&#x8981;&#x89E3;&#x538B;&#x7F29;&#x3002; 5. &#x538B;&#x7F29;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3002; &#x5408;&#x5E76;sketches &#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x670D;&#x52A1;&#x5668;&#x6765;&#x8282;&#x7701;&#x5E26;&#x5BBD;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x90FD;&#x4ECE;&#x6D4B;&#x91CF;&#x8282;&#x70B9;&#x6536;&#x5230;&#x5F88;&#x591A;&#x4E2A;sketches&#xFF0C;&#x7136;&#x540E;&#x5408;&#x5E76;sketches&#x5E76;&#x5C06;&#x5408;&#x5E76;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x5230;collector&#x3002;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x5408;&#x5E76;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6BCF;&#x4E00;&#x4E2A;sketches&#x90FD;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x3002;&#x5982;&#x679C;&#x4ED6;&#x4EEC;&#x90FD;&#x6709;&#x5171;&#x540C;&#x7684;&#x6D41;ID&#xFF0C;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x6C42;&#x548C;&#x5408;&#x5E76;&#xFF0C;&#x5426;&#x5219;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x6700;&#x5927;&#x503C;&#x5408;&#x5E76;&#x3002; &#x6C42;&#x548C;&#x5408;&#x5E76;&#xFF08;Sum Merging&#xFF09;&#xFF1A;&#x7ED9;&#x5B9A;&#x4E24;&#x4E2A;&#x76F8;&#x540C;&#x5927;&#x5C0F;(\\(d*w\\))&#x7684;&#xFF0C;&#x5C06;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x503C;&#x76F8;&#x52A0;&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x7B80;&#x5355;&#x5FEB;&#x901F;&#x4F46;&#x662F;&#x51C6;&#x786E;&#x7387;&#x4F4E;&#x3002; &#x5BF9;&#x4E8E;&#x76F8;&#x540C;&#x5927;&#x5C0F;&#x7684;sketches&#x8FDB;&#x884C;&#x6700;&#x5927;&#x503C;&#x5408;&#x5E76;&#xFF1A;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x7ED9;&#x5B9A;&#x4E24;&#x4E2A;sketches A&#x548C;B&#xFF08;\\(w*d\\)&#xFF09;&#xFF0C;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;sketch \\(\\mathbb{C}\\)&#xFF0C;\\(C_i[j]=max\\{Ai_[j],B_i[j]\\}(1 \\leq i \\leq d,1 \\leq j \\leq w)\\)&#x3002; &#x81EA;&#x9002;&#x5E94;&#x6570;&#x636E;&#x5305;&#x4F20;&#x8F93;&#x901F;&#x7387; &#x5728;&#x6D4B;&#x91CF;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x603B;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x961F;&#x5217;&#x6765;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x5305;&#x3002;&#x5305;&#x901F;&#x7387;&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x6BD4;&#x8F83;&#x4F4E;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x66F4;&#x7CDF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5176;&#x901F;&#x5EA6;&#x662F;&#x5F88;&#x9AD8;&#x7684;&#xFF0C;&#x8F93;&#x5165;&#x961F;&#x5217;&#x4E5F;&#x5F88;&#x5FEB;&#x586B;&#x6EE1;&#x4E86;&#xFF0C;&#x4E5F;&#x5C31;&#x5F88;&#x96BE;&#x8BB0;&#x5F55;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x6D41;&#x3002;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;SketchVisor&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x4E13;&#x7528;&#x7EC4;&#x4EF6;fast path&#x6765;&#x5BB9;&#x7EB3;&#x9AD8;&#x901F;&#x7387;&#x7684;&#x6570;&#x636E;&#x5305;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x6700;&#x5DEE;&#x60C5;&#x51B5;&#x4E0B;&#x4ED6;&#x8FD8;&#x8981;&#x5C06;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x90FD;&#x8FDB;&#x884C;&#x4F20;&#x8F93;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5F71;&#x54CD;&#x4E00;&#x5B9A;&#x7684;&#x6027;&#x80FD;&#x3002; &#x6211;&#x4EEC;&#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x6765;&#x5E94;&#x5BF9;&#x7A81;&#x53D1;&#x6D41;&#x91CF;&#x3002;&#x5F53;&#x5305;&#x6570;&#x91CF;&#x5927;&#x4E8E;&#x9884;&#x5148;&#x8BBE;&#x5B9A;&#x7684;&#x9608;&#x503C;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x8BA9;&#x8F93;&#x5165;&#x5305;&#x53EA;&#x5230;heavy part&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x4FDD;&#x7559;&#x5927;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x4E22;&#x5F03;&#x5C0F;&#x6570;&#x636E;&#x6D41;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF1A;&#x5982;&#x679C;&#x4E00;&#x4E2A;bucket&#x91CC;&#x7684;&#x6570;&#x636E;&#x6D41;f&#x7531;&#x53E6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6D41;\\(f&apos;\\)&#x66FF;&#x6362;&#xFF0C;\\(f&apos;\\)&#x7684;&#x6D41;&#x5927;&#x5C0F;&#x5C31;&#x88AB;&#x8BBE;&#x7F6E;&#x6210;&#x4E86;\\(f\\)&#x3002;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x63A2;&#x9488;&#xFF0C;&#x5F53;&#x6570;&#x636E;&#x6D41;&#x91CF;&#x901F;&#x5EA6;&#x51CF;&#x5C0F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x56DE;&#x5230;&#x4E4B;&#x524D;&#x7684;&#x65B9;&#x6CD5;&#x4E0A;&#x3002; &#x4E0A;&#x8FF0;&#x65B9;&#x6CD5;&#x5728;&#x635F;&#x5931;&#x5F88;&#x5C0F;&#x7CBE;&#x786E;&#x5EA6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5B9E;&#x73B0;&#x4E86;&#x66F4;&#x9AD8;&#x7684;&#x901F;&#x5EA6;&#x3002;&#x8BE5;&#x7B56;&#x7565;&#x88AB;&#x6FC0;&#x6D3B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x4E22;&#x5F03;light part&#x800C;&#x662F;&#x963B;&#x6B62;&#x5176;&#x66F4;&#x65B0;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x4EC5;&#x4EC5;&#x5F53;&#x6570;&#x636E;&#x5305;&#x901F;&#x5EA6;&#x5F88;&#x5FEB;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x53D1;&#x751F;&#x4FE1;&#x606F;&#x7684;&#x4E22;&#x5931;&#x3002; &#x81EA;&#x9002;&#x5E94;&#x7F51;&#x7EDC;&#x6D41;&#x5927;&#x5C0F;&#x5206;&#x5E03; &#x5BF9;&#x4E8E;&#x6D41;&#x5927;&#x5C0F;&#x5206;&#x5E03;&#x7684;&#x4E3B;&#x8981;&#x5224;&#x522B;&#x4F9D;&#x636E;&#x5C31;&#x662F;&#x5927;&#x6570;&#x636E;&#x6D41;&#x7684;&#x6570;&#x91CF;&#x3002;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6839;&#x636E;&#x6570;&#x636E;&#x6D41;&#x7684;&#x5206;&#x5E03;&#x6765;&#x8C03;&#x6574;heavy part&#x7684;&#x89C4;&#x6A21;&#x3002;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5411;heavy part&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x5C0F;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x968F;&#x7740;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x5927;&#x6570;&#x636E;&#x6D41;&#x7684;&#x52A0;&#x5165;&#xFF0C;heavy part&#x5C06;&#x4F1A;&#x6EE1;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x9608;&#x503C;T1&#x3002;&#x5F53; heavy part&#x6EE1;&#x4E86;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x4E0B;&#x7684;&#x590D;&#x5236;&#x64CD;&#x4F5C;&#xFF1A;&#x5C06; heavy part&#x62F7;&#x8D1D;&#x5E76;&#x4E0E;&#x539F;heavy part&#x5408;&#x5E76;&#x4E3A;&#x4E00;&#x4E2A;&#x3002;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x4E5F;&#x4ECE;\\(h(.)\\%w\\)&#x53D8;&#x4E3A;\\(h(.)\\%2w\\)&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;bucket&#x5C31;&#x8282;&#x7701;&#x4E86;&#x4E00;&#x534A;&#x7684;&#x7A7A;&#x95F4;&#x3002; &#x4E0A;&#x56FE;&#x6240;&#x793A;&#x5230;&#x8FBE;&#x7684;\\(f_2\\)&#x6570;&#x636E;&#x6D41;&#x54C8;&#x5E0C;&#x5230;&#x4E86;\\(f_3\\)&#x7684;bucket&#x4F4D;&#x7F6E;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x5C06;\\(w\\)&#x7FFB;&#x500D;&#xFF0C;&#x7531;4&#x53D8;&#x5230;8&#xFF0C;\\(f_3\\)&#x6570;&#x636E;&#x6D41;&#x7684;&#x4F59;&#x6570;&#x53EF;&#x4EE5;&#x53D8;&#x4E3A;6&#xFF0C;\\(f_2\\)&#x843D;&#x5230;&#x539F;\\(f_3\\)&#x7684;&#x4F4D;&#x7F6E;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x52A8;&#x6001;&#x5B9E;&#x73B0;&#x4E86;&#x7F51;&#x7EDC;&#x6D41;&#x5927;&#x5C0F;&#x7684;&#x5206;&#x5E03;&#x9002;&#x5E94;&#x3002;","categories":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/categories/Networking/"}],"tags":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/tags/Networking/"}],"author":"刘丰瑞"},{"title":"Mininet拓扑学习","slug":"网络/2018-4-24-Mininet拓扑学习","date":"2018-04-23T16:00:00.000Z","updated":"2019-09-17T07:56:50.662Z","comments":true,"path":"2018/04/24/网络/2018-4-24-Mininet拓扑学习/","link":"","permalink":"http://www.liufr.com/2018/04/24/网络/2018-4-24-Mininet拓扑学习/","excerpt":"","text":"Mininet /Mininet API&#x7ED9;&#x51FA;&#x4E86;&#x76F8;&#x5F53;&#x4E30;&#x5BCC;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x672C;&#x7BC7;&#x5BF9;&#x5404;&#x51FD;&#x6570;&#x603B;&#x7ED3;&#x5F52;&#x7EB3;&#x3002; &#x62D3;&#x6251;&#x7ED3;&#x6784; Top build() addSwitch() addHost() addLink() start() stop() net.hosts from mininet.topo import Topofrom mininet.net import Mininetfrom mininet.util import dumpNodeConnectionsfrom mininet.log import setLogLevelclass SingleSwitchTopo(Topo): &quot;Single switch connected to n hosts.&quot; def build(self, n=2): switch = self.addSwitch(&apos;s1&apos;) # Python&apos;s range(N) generates 0..N-1 for h in range(n): host = self.addHost(&apos;h%s&apos; % (h + 1)) self.addLink(host, switch)def simpleTest(): &quot;Create and test a simple network&quot; topo = SingleSwitchTopo(n=4) net = Mininet(topo) net.start() net.stop()if __name__ == &apos;__main__&apos;: # Tell mininet to print useful information setLogLevel(&apos;info&apos;) simpleTest() &#x7F51;&#x7EDC;&#x5DE5;&#x5177; pingAll(): &#x6D4B;&#x8BD5;&#x7F51;&#x7EDC;&#x6240;&#x6709;&#x8282;&#x70B9;&#x7684;&#x8FDE;&#x901A;&#x6027;&#xFF0C;&#x6CE8;&#x610F;&#x4FDD;&#x8BC1;&#x8282;&#x70B9;&#x90FD;&#x5728;net&#x4E2D;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x6D4B;&#x8BD5;&#x3002; dumpNodeConnections():&#x622A;&#x83B7;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x8FDE;&#x901A;&#x5E76;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x3002; iperf(): &#x6D4B;&#x8BD5;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x7F51;&#x7EDC;&#x6027;&#x80FD;&#xFF0C;&#x8FD4;&#x56DE;&#x7F51;&#x901F;&#x3002; &#x6027;&#x80FD;&#x8BBE;&#x5B9A;&#xFF08;&#x4EE5;&#x53C2;&#x6570;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF09; self.addHost(name, cpu=f): &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5C0F;&#x6570;&#xFF0C;&#x610F;&#x4E49;&#x662F;&#x8BA9;CPU&#x5206;&#x914D;&#x4E00;&#x5B9A;&#x6BD4;&#x4F8B;(&#x8BBE;&#x5B9A;&#x7684;&#x767E;&#x5206;&#x6570;)&#x7684;CPU&#x8D44;&#x6E90;&#x7ED9;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x3002; self.addLink(node1, node2, bw=10, delay=&apos;5ms&apos;, max_queue_size=1000, loss=10, use_htb=True): &#x4EE5;bw(bandwidth)&#xFF0C;delay&#xFF0C;&#x4EE5;&#x53CA;loss&#x7684;&#x503C;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x8FDE;&#x63A5;&#xFF0C;&#x6700;&#x5927;&#x7B49;&#x5F85;&#x961F;&#x5217;&#x957F;&#x5EA6;&#x4E3A;1000&#x4E14;&#x542F;&#x7528;HTB&#x7B97;&#x6CD5;(&#x63D0;&#x9AD8;&#x5E26;&#x5BBD;&#x5229;&#x7528;&#x7387;&#x4E14;&#x9650;&#x5236;P2P&#x6D77;&#x91CF;&#x8F6F;&#x4EF6;&#x7684;&#x4E0B;&#x8F7D;)&#x3002; #!/usr/bin/pythonfrom mininet.topo import Topofrom mininet.net import Mininetfrom mininet.node import CPULimitedHostfrom mininet.link import TCLinkfrom mininet.util import dumpNodeConnectionsfrom mininet.log import setLogLevelclass SingleSwitchTopo( Topo ): &quot;Single switch connected to n hosts.&quot; def build( self, n=2 ): switch = self.addSwitch( &apos;s1&apos; ) for h in range(n): # Each host gets 50%/n of system CPU host = self.addHost( &apos;h%s&apos; % (h + 1), cpu=.5/n ) # 10 Mbps, 5ms delay, 2% loss, 1000 packet queue self.addLink( host, switch, bw=10, delay=&apos;5ms&apos;, loss=2, max_queue_size=1000, use_htb=True )def perfTest(): &quot;Create network and run simple performance test&quot; topo = SingleSwitchTopo( n=4 ) net = Mininet( topo=topo, host=CPULimitedHost, link=TCLink ) net.start() print &quot;Dumping host connections&quot; dumpNodeConnections( net.hosts ) print &quot;Testing network connectivity&quot; net.pingAll() print &quot;Testing bandwidth between h1 and h4&quot; h1, h4 = net.get( &apos;h1&apos;, &apos;h4&apos; ) net.iperf( (h1, h4) ) net.stop()if __name__ == &apos;__main__&apos;: setLogLevel( &apos;info&apos; ) perfTest() &#x6307;&#x4EE4; cmd() &#x7531;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;host&#x4E3B;&#x673A;&#x90FD;&#x662F;&#x4F5C;&#x4E3A;bash shell&#x6765;&#x8FDB;&#x884C;&#x6A21;&#x62DF;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x7406;&#x8BBA;&#x4E0A;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x6240;&#x6709;&#x7EC8;&#x7AEF;&#x6307;&#x4EE4; h1 = net.get(&apos;h1&apos;)result = h1.cmd(&apos;ifconfig&apos;)print result","categories":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/categories/Networking/"}],"tags":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/tags/Networking/"},{"name":"Mininet","slug":"Mininet","permalink":"http://www.liufr.com/tags/Mininet/"}],"author":"刘丰瑞"},{"title":"排序(位图数据结构)","slug":"算法/2018-4-2-排序(位图数据结构)","date":"2018-04-01T16:00:00.000Z","updated":"2019-09-17T07:56:24.954Z","comments":true,"path":"2018/04/02/算法/2018-4-2-排序(位图数据结构)/","link":"","permalink":"http://www.liufr.com/2018/04/02/算法/2018-4-2-排序(位图数据结构)/","excerpt":"","text":"&#x5BF9;&#x4E8E;&#x89C4;&#x6A21;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x4F46;&#x53C8;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x7279;&#x522B;&#x5927;&#x7684;&#x6570;&#x636E;&#x96C6;&#x6765;&#x8BF4;&#xFF0C;&#x4F7F;&#x7528;&#x4F4D;&#x56FE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x6392;&#x5E8F;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x9519;&#x7684;&#x9009;&#x62E9;&#x3002; &#x6CE8;&#xFF1A;&#x8981;&#x6C42;&#x6570;&#x636E;&#x6CA1;&#x6709;&#x91CD;&#x590D;&#x3002; &#x4F4D;&#x56FE;/&#x4F4D;&#x5411;&#x91CF; &#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x5408;&#x96C6;{1&#xFF0C;2&#xFF0C;3&#xFF0C;5&#xFF0C;8&#xFF0C;13}&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x5B57;&#x7B26;&#x4E32;&#xFF1A; 0 1 1 1 0 1 0 0 1 0 0 0 0 1 0 0 0 0 0 0 &#x8FD9;&#x79CD;&#x8868;&#x793A;&#x65B9;&#x6CD5;&#xFF0C;1MB&#x5927;&#x5C0F;&#x7684;&#x7A7A;&#x95F4;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x6708;800&#x4E07;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x4E0E;&#x5341;&#x8FDB;&#x5236;&#x7684;7&#x4F4D;&#x6570;&#x5B57;1000&#x4E07;&#x63A5;&#x8FD1;&#x3002; // phase 1: initialize set to emptyfor i = [0,n] bit[i] = 0;// phase 2: insert present elements into the setfor each i in the input file bit[i] = 1;//phase 3: write sorted outputfor i = [0,n] if bit[i] == 1 write i on the output file &#x4F4D;&#x56FE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x68C0;&#x67E5;&#x6570;&#x636E;&#x96C6;&#x7684;&#x91CD;&#x590D;&#x6027; &#xFF08;&#x7F16;&#x7A0B;&#x73E0;&#x7391;\b&#xFF09;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"路由协议汇总整理","slug":"网络/2017-11-28-路由协议汇总整理","date":"2017-11-27T16:00:00.000Z","updated":"2019-09-17T07:56:47.506Z","comments":true,"path":"2017/11/28/网络/2017-11-28-路由协议汇总整理/","link":"","permalink":"http://www.liufr.com/2017/11/28/网络/2017-11-28-路由协议汇总整理/","excerpt":"","text":"IGP&#x4E3B;&#x5185;&#xFF0C;EGP&#x4E3B;&#x5916; IGP &#x662F;&#x7F51;&#x5185;&#x8DEF;&#x7531;&#x534F;&#x8BAE;&#xFF0C;&#x8FD0;&#x884C;&#x5728;&#x5355;&#x4E00;&#x7684;&#x81EA;&#x6CBB;&#x7CFB;&#x7EDF;&#x5185;&#x90E8;(autonomous system&#xFF0C;AS)&#x5185;&#x51B3;&#x7B56;&#x8DEF;&#x7531;&#x3002; EGP &#x662F;&#x7F51;&#x95F4;&#x8DEF;&#x7531;&#x534F;&#x8BAE;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x5728;AS&#x7684;&#x76F8;&#x90BB;&#x4E24;&#x4E2A;&#x7F51;&#x5173;&#x4E3B;&#x673A;&#x95F4;&#x4EA4;&#x6362;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x7684;&#x534F;&#x8BAE;&#x3002; IGP &#x8DDD;&#x79BB;&#x77E2;&#x91CF;&#x534F;&#x8BAE;&#xFF1A;&#x542C;&#x4FE1;&#x8C23;&#x8A00; &#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x5047;&#x5982;&#x4F60;&#x8981;&#x4ECE;A&#x5230;D&#x5730;&#x533A;&#xFF0C;&#x5148;&#x95EE;&#x8DEF;&#x4EBA;&#x7532;&#x5982;&#x4F55;&#x4ECE;A&#x5230;B,&#x518D;&#x95EE;&#x8DEF;&#x4EBA;&#x4E59;&#x5982;&#x4F55;&#x4ECE;B&#x5230;C&#xFF0C;&#x6700;&#x540E;&#x95EE;&#x8DEF;&#x4EBA;&#x4E19;&#x5982;&#x4F55;&#x4ECE;C&#x5230;D&#x3002;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x5F15;&#x7533;&#x51FA;&#x4E86;RIP&#x534F;&#x8BAE;&#x7684;&#x7F3A;&#x9677;&#xFF1A; * RIP&#x9650;&#x5236;&#x4E86;&#x7F51;&#x7EDC;&#x7684;&#x89C4;&#x6A21;&#xFF0C;&#x80FD;&#x4F7F;&#x7528;&#x7684;&#x6700;&#x5927;&#x8DDD;&#x79BB;&#x4E3A;15(16&#x8868;&#x793A;&#x4E0D;&#x53EF;&#x8FBE;) * &#x5176;&#x6B21;&#x8DEF;&#x7531;&#x5668;&#x4EA4;&#x6362;&#x7684;&#x4FE1;&#x606F;&#x662F;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x7531;&#x8868;&#xFF0C;&#x56E0;&#x800C;&#x968F;&#x7740;&#x7F51;&#x7EDC;&#x89C4;&#x6A21;&#x7684;&#x6269;&#x5927;&#xFF0C;&#x5F00;&#x9500;&#x4E5F;&#x5C31;&#x589E;&#x52A0; * &#x201C;&#x574F;&#x6D88;&#x606F;&#x4F20;&#x64AD;&#x5F97;&#x6162;&#x201D;&#xFF0C;&#x4F7F;&#x66F4;&#x65B0;&#x8FC7;&#x7A0B;&#x7684;&#x6536;&#x655B;&#x65F6;&#x95F4;&#x8FC7;&#x957F;&#x3002; &#x94FE;&#x8DEF;&#x72B6;&#x6001;&#x8DEF;&#x7531;&#x534F;&#x8BAE;&#xFF1A;&#x5168;&#x5C40;&#x8003;&#x91CF; &#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x5047;&#x5982;&#x4F60;&#x8981;&#x4ECE;A&#x5230;D&#x5730;&#x533A;&#xFF0C;&#x5148;&#x4E0B;&#x8F7D;&#x5168;&#x56FD;&#x7684;&#x5730;&#x56FE;&#xFF0C;&#x7136;&#x540E;&#x6839;&#x636E;&#x62E5;&#x5835;&#x60C5;&#x51B5;&#x7B49;&#x7B49;&#xFF0C;&#x5728;&#x672C;&#x5730;&#x8BA1;&#x7B97;&#x6700;&#x8FD1;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x5176;&#x4F18;&#x70B9;&#x662F;&#xFF1A; * &#x521B;&#x5EFA;&#x62D3;&#x6251;&#x56FE;(SPF&#x6811;)&#xFF0C;&#x8DEF;&#x7531;&#x5668;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x786E;&#x5B9A;&#x901A;&#x5411;&#x6BCF;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x3002; * &#x6536;&#x655B;&#x5FEB;&#x901F;&#xFF0C;&#x5F53;&#x6536;&#x5230;&#x4E00;&#x4E2A;LSP(&#x94FE;&#x8DEF;&#x72B6;&#x6001;&#x6570;&#x636E;&#x5305;)&#x540E;&#x94FE;&#x8DEF;&#x72B6;&#x6001;&#x8DEF;&#x7531;&#x534F;&#x8BAE;&#x7ACB;&#x5373;&#x5C06;&#x8BE5;LSP&#x4ECE;&#x9664;&#x63A5;&#x6536;&#x8BE5;LSP&#x7684;&#x63A5;&#x53E3;&#x4EE5;&#x5916;&#x7684;&#x6240;&#x6709;&#x63A5;&#x53E3;flooding&#x51FA;&#x53BB;&#x3002; * &#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x66F4;&#x65B0;:&#x4EC5;&#x5728;&#x62D3;&#x6251;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x7684;&#x65F6;&#x5019;&#x624D;&#x53D1;&#x51FA;LSP,&#x800C;&#x8DDD;&#x79BB;&#x8DEF;&#x7531;&#x534F;&#x8BAE;&#x5219;&#x4F1A;&#x5B9A;&#x671F;&#x53D1;&#x9001;&#x66F4;&#x65B0;&#x3002; * &#x5C42;&#x6B21;&#x8BBE;&#x8BA1;&#xFF1A;&#x533A;&#x57DF;&#x7684;&#x6982;&#x5FF5;&#x4F7F;&#x5F97;&#x591A;&#x4E2A;&#x533A;&#x57DF;&#x884C;&#x7A0B;&#x4E86;&#x5C42;&#x6B21;&#x5316;&#x7684;&#x7ED3;&#x6784;&#x3002; OSPF&amp;IS-IS OSPF &#x652F;&#x6301;NBMA&#x4EE5;&#x53CA;&#x70B9;&#x5BF9;&#x591A;&#x70B9;&#x94FE;&#x63A5;&#xFF0C;&#x4F46;&#x662F;IS-IS&#x4E0D;&#x652F;&#x6301; IS-IS&#x76F4;&#x63A5;&#x5EFA;&#x7ACB;&#x5728;L2&#x4E0A;&#xFF0C;&#x800C;OSPF&#x5219;&#x662F;&#x57FA;&#x4E8E;IP,&#x56E0;&#x6B64;IS-IS&#x6709;&#x66F4;&#x597D;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002; OSPF&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x865A;&#x62DF;&#x94FE;&#x8DEF;&#x4F46;&#x662F;IS-IS&#x4E0D;&#x53EF;&#x4EE5;(&#x56E0;&#x4E3A;&#x5B83;&#x5EFA;&#x7ACB;&#x5728;L2&#x4E0A;) OSPF&#x9009;&#x4E3E;DR(Designated Router)&#x548C;BDR(Backup Designated Router),(&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x662F;&#x5148;&#x9009;&#x4E3E;BDR&#x7136;&#x540E;&#x624D;&#x9009;&#x4E3E;DR,&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x53CD;&#x8FC7;&#x6765;&#x5F53;&#x9009;&#x4E3E;BDR&#x7684;&#x65F6;&#x5019;DR&#x5931;&#x6548;&#xFF0C;&#x5207;&#x6362;&#x5C06;&#x65E0;&#x6CD5;&#x8FDB;&#x884C;&#xFF0C;&#x72B6;&#x6001;&#x673A;&#x4E5F;&#x6CA1;&#x6CD5;&#x5207;&#x6362;)&#xFF0C;&#x8FD9;&#x6837;&#x4E0D;&#x5BB9;&#x6613;&#x88AB;&#x9884;&#x62A2;&#x5360;&#x3002;&#x53CD;&#x4E4B;IS-IS&#x4F7F;&#x7528;&#x5355;&#x4E00;&#x7684;DIS&#x3002; EGP &#x4E00;&#x822C;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#x7528;&#x4E0D;&#x5230;&#xFF0C;&#x5728;&#x5927;&#x7F51;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5E95;&#x5C42;&#x8FD8;&#x662F;&#x8981;IGP&#x6765;&#x8D1F;&#x8D23;&#x3002;&#x73B0;&#x5728;EGP&#x91CC;&#x9762;&#x4E3B;&#x8981;&#x7528;&#x7684;&#x5C31;&#x662F;BGP&#x3002; BGP BGP&#x7528;&#x4E8E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x81EA;&#x6CBB;&#x7CFB;&#x7EDF;&#xFF08;AS&#xFF09;&#x4E4B;&#x95F4;&#x4EA4;&#x6362;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x3002;&#x5F53;&#x4E24;&#x4E2A;AS&#x9700;&#x8981;&#x4EA4;&#x6362;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;AS&#x90FD;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;BGP&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x6765;&#x4EE3;&#x8868;AS&#x4E0E;&#x5176;&#x4ED6;&#x7684;AS&#x4EA4;&#x6362;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x3002;&#x4F46;&#x901A;&#x5E38;&#x662F;&#x8DEF;&#x7531;&#x5668;&#x6765;&#x6267;&#x884C;BGP&#x3002;&#x4E24;&#x4E2A;AS&#x4E2D;&#x5229;&#x7528;BGP&#x4EA4;&#x6362;&#x4FE1;&#x606F;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x8FB9;&#x754C;&#x7F51;&#x5173;&#xFF08;Border Gateway&#xFF09;&#x6216;&#x8FB9;&#x754C;&#x8DEF;&#x7531;&#x5668;&#xFF08;Border Router&#xFF09;&#x3002; &#x7531;&#x4E8E;&#x53EF;&#x80FD;&#x4E0E;&#x4E0D;&#x540C;&#x7684;AS&#x76F8;&#x8FDE;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;AS&#x5185;&#x90E8;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x8FD0;&#x884C;BGP&#x7684;&#x8FB9;&#x754C;&#x8DEF;&#x7531;&#x5668;&#x3002;&#x540C;&#x4E00;&#x4E2A;&#x81EA;&#x6CBB;&#x7CFB;&#x7EDF;(AS)&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5BF9;&#x7B49;&#x5B9E;&#x4F53;&#x4E4B;&#x95F4;&#x8FD0;&#x884C;&#x7684;BGP &#x88AB;&#x79F0;&#x4E3A; IBGP&#xFF08;Internal/Interior BGP&#xFF09;&#x3002;&#x5F52;&#x5C5E;&#x4E0D;&#x540C;&#x7684;AS&#x7684;&#x5BF9;&#x7B49;&#x5B9E;&#x4F53;&#x4E4B;&#x95F4;&#x8FD0;&#x884C;&#x7684;BGP&#x79F0;&#x4E3A;EBGP &#xFF08;External/Exterior BGP&#xFF09;&#x3002;&#x5728;AS&#x8FB9;&#x754C;&#x4E0A;&#x4E0E;&#x5176;&#x4ED6;AS&#x4EA4;&#x6362;&#x4FE1;&#x606F;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x88AB;&#x79F0;&#x4F5C;&#x8FB9;&#x754C;&#x8DEF;&#x7531;&#x5668;(border/edge router)&#x3002;","categories":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/categories/Networking/"}],"tags":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/tags/Networking/"}],"author":"刘丰瑞"},{"title":"奇异值分解","slug":"概念/2017-11-22-奇异值分解","date":"2017-11-21T16:00:00.000Z","updated":"2017-11-22T10:39:26.290Z","comments":true,"path":"2017/11/22/概念/2017-11-22-奇异值分解/","link":"","permalink":"http://www.liufr.com/2017/11/22/概念/2017-11-22-奇异值分解/","excerpt":"","text":"&#x5947;&#x5F02;&#x503C;&#x5206;&#x89E3; &#x5947;&#x5F02;&#x503C;&#x5206;&#x89E3;(singular value decomposition, SVD) &#x5047;&#x8BBE;\\(M\\)&#x662F;&#x4E00;&#x4E2A;\\(m*n\\)&#x9636;&#x77E9;&#x9635;&#xFF0C;&#x5176;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x5168;&#x90E8;&#x5C5E;&#x4E8E;&#x57DF;\\(K\\),&#x4E5F;&#x5C31;&#x662F;&#x5B9E;&#x6570;&#x57DF;&#x6216;&#x590D;&#x6570;&#x57DF;&#x3002;&#x5982;&#x6B64;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x89E3;&#x4F7F;&#x5F97;&#xFF1A; \\[ M=U\\Sigma V^\\ast\\] &#x5176;&#x4E2D;\\(U\\)&#x662F;\\(m\\ast n\\)&#x9636;&#x9149;&#x77E9;&#x9635;,\\(\\Sigma\\)&#x662F;\\(m\\ast n\\)&#x9636;&#x975E;&#x8D1F;&#x5B9E;&#x6570;&#x5BF9;&#x89D2;&#x77E9;&#x9635;,\\(V^\\ast\\) &#x662F;\\(V\\)&#x7684;&#x5171;&#x8F6D;&#x8F6C;&#x7F6E;&#xFF0C;&#x662F;\\(n\\ast n\\)&#x9636;&#x9149;&#x77E9;&#x9635;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x5206;&#x89E3;&#x5C31;&#x662F; \\(M\\)&#x7684;&#x5947;&#x5F02;&#x503C;&#x5206;&#x89E3;&#x3002;\\(\\Sigma\\) &#x5BF9;&#x89D2;&#x7EBF;&#x4E0A;&#x7684;&#x5143;&#x7D20; \\(\\Sigma_{i,j}\\) &#x5373;&#x4E3A;&#x5947;&#x5F02;&#x503C;&#x5206;&#x89E3;&#xFF0C;&#x5E38;&#x89C1;&#x60C5;&#x51B5;&#x4E0B;&#x5C06;&#x5947;&#x5F02;&#x503C;&#x7531;&#x5927;&#x5230;&#x5C0F;&#x6392;&#x5217;&#x3002;&#x5982;&#x6B64; \\(\\Sigma\\) &#x4FBF;&#x80FD;&#x7531;\\(M\\)&#x552F;&#x4E00;&#x786E;&#x5B9A;&#x3002; V&#x7684;&#x5217;&#x7EC4;&#x6210;&#x4E00;&#x5957;&#x5BF9;M&#x7684;&#x6B63;&#x4EA4;&quot;&#x8F93;&#x5165;&quot;&#x6216;&quot;&#x5206;&#x6790;&quot;&#x7684;&#x57FA;&#x5411;&#x91CF;&#xFF0C;&#x4E5F;&#x662F; \\(M\\ast M\\) &#x7684;&#x7279;&#x5F81;&#x5411;&#x91CF;&#x3002; U&#x7684;&#x5217;&#x7EC4;&#x6210;&#x4E00;&#x5957;&#x5BF9;M&#x7684;&#x6B63;&#x4EA4;&quot;&#x8F93;&#x51FA;&quot;&#x57FA;&#x5411;&#x91CF;&#xFF0C;&#x4E5F;&#x662F; \\(MM\\ast\\) &#x7684;&#x7279;&#x5F81;&#x5411;&#x91CF;&#x3002; \\(\\Sigma\\) &#x5BF9;&#x89D2;&#x7EBF;&#x4E0A;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5947;&#x5F02;&#x503C;&#xFF0C;&#x53EF;&#x89C6;&#x4E3A;&#x662F;&#x5728;&#x8F93;&#x5165;&#x4E0E;&#x8F93;&#x51FA;&#x95F4;&#x8FDB;&#x884C;&#x7684;&#x7EAF;&#x91CF;&#x7684;&quot;&#x81A8;&#x80C0;&#x63A7;&#x5236;&quot;&#xFF0C;&#x8FD9;&#x4E9B;&#x662F; \\(MM\\ast\\) &#x53CA; \\(M\\ast M\\) &#x7684;&#x7279;&#x5F81;&#x503C;&#x7684;&#x975E;&#x8D1F;&#x5E73;&#x65B9;&#x6839;&#xFF0C;&#x5E76;&#x4E0E; \\(U,V\\) &#x76F8;&#x5BF9;&#x5E94;&#x3002; &#x76F4;&#x89C2;&#x89E3;&#x91CA; &#x4E0A;&#x8FF0;&#x56FE;&#x7247;&#x4E2D;&#xFF1A; &#x5DE6;&#x4E0A;&#xFF1A;&#x5355;&#x4F4D;&#x5706;&#x4E0A;&#x6709;&#x4E24;&#x4E2A;&#x6B63;&#x4EA4;&#x5355;&#x4F4D;&#x5411;&#x91CF;&#x3002; &#x53F3;&#x4E0A;&#xFF1A;&#x5355;&#x4F4D;&#x5706;&#x5728; \\(M\\) &#x548C;&#x5947;&#x5F02;&#x503C; \\(\\sigma_1,\\sigma_2\\) &#x4E0B;&#x7684;&#x8F6C;&#x6362;&#x3002; &#x5DE6;&#x4E0B;&#xFF1A;&#x5355;&#x4F4D;&#x5706;&#x901A;&#x8FC7; \\(V^\\ast\\) &#x7684;&#x65CB;&#x8F6C;&#x3002; &#x53F3;&#x4E0B;&#xFF1A;&#x5355;&#x4F4D;&#x5706;&#x901A;&#x8FC7; \\(\\Sigma V^\\ast\\) &#x7684;&#x53D8;&#x5F62;&#xFF0C;&#x5176;&#x4E2D; \\(\\Sigma\\) &#x7F29;&#x653E;&#x4E86;&#x6C34;&#x5E73;&#x4E0E;&#x5782;&#x76F4;&#x7684;&#x6BD4;&#x4F8B;&#x3002; &#x4E3E;&#x4F8B; \\[ M= \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 &amp; 2\\\\\\\\ 0 &amp; 0 &amp; 3 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 2 &amp; 0 &amp; 0 &amp; 0 \\end{bmatrix} \\] &#x5947;&#x5F02;&#x503C;&#x5206;&#x89E3;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; \\[ U=\\begin{bmatrix} 0 &amp; 0 &amp; 1 &amp; 0\\\\\\\\ 0 &amp; 1 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 1\\\\\\\\ 1 &amp; 0 &amp; 0 &amp; 0 \\end{bmatrix}, \\Sigma=\\begin{bmatrix} 4 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 3 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; \\sqrt{5} &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\end{bmatrix}, V^*=\\begin{bmatrix} 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\\\\\\\ \\sqrt{0.2} &amp; 0 &amp; 0 &amp; 0 &amp; \\sqrt{0.8}\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0\\\\ \\sqrt{0.8} &amp; 0 &amp; 0 &amp; 0 &amp; -\\sqrt{0.2} \\end{bmatrix} \\] &#x6CE8;&#x610F;&#x77E9;&#x9635; \\(\\Sigma\\) &#x7684;&#x6240;&#x6709;&#x975E;&#x5BF9;&#x89D2;&#x5143;&#x4E3A;0&#xFF0C;&#x77E9;&#x9635; \\(U,V\\) &#x90FD;&#x662F;&#x9149;&#x77E9;&#x9635;&#xFF0C;&#x5B83;&#x4EEC;&#x4E58;&#x4E0A;&#x5404;&#x81EA;&#x7684;&#x5171;&#x8F6D;&#x8F6C;&#x7F6E;&#x90FD;&#x5F97;&#x5230;&#x5355;&#x4F4D;&#x77E9;&#x9635;&#x3002;&#x7531;&#x4E8E; \\(U,V^*\\) &#x90FD;&#x662F;&#x5B9E;&#x77E9;&#x9635;&#xFF0C;&#x6545;&#x5B83;&#x4EEC;&#x90FD;&#x662F;&#x6B63;&#x4EA4;&#x77E9;&#x9635;&#x3002; \\[ UU^\\ast =\\begin{bmatrix} 0 &amp; 0 &amp; 1 &amp; 0\\\\\\\\ 0 &amp; 1 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 1\\\\\\\\ 1 &amp; 0 &amp; 0 &amp; 0 \\end{bmatrix}\\ast \\begin{bmatrix} 0 &amp; 0 &amp; 0 &amp; 1\\\\\\\\ 0 &amp; 1 &amp; 0 &amp; 0\\\\\\\\ 1 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 1 &amp; 0 &amp; 0 &amp; 0 \\end{bmatrix} = \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 1 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 1 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} =I_4 \\] \\[ VV^\\ast =\\begin{bmatrix} 0 &amp; 0 &amp; \\sqrt{0.2} &amp; 0 &amp; \\sqrt{0.8}\\\\\\\\ 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0\\\\ 0 &amp; 0 &amp; \\sqrt{0.8} &amp; 0 &amp; -\\sqrt{0.2} \\end{bmatrix}\\ast \\begin{bmatrix} 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\\\\\\\ \\sqrt{0.2} &amp; 0 &amp; 0 &amp; 0 &amp; \\sqrt{0.8}\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0\\\\ \\sqrt{0.8} &amp; 0 &amp; 0 &amp; 0 &amp; -\\sqrt{0.2} \\end{bmatrix}= \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0\\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} =I_5 \\] &#x7531;&#x4E8E; \\(\\Sigma\\) &#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x89D2;&#x5143;&#x662F;0&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x5947;&#x5F02;&#x503C;&#x5206;&#x89E3;&#x503C;&#x4E0D;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x4F8B;&#x5982; V &#x53EF;&#x4EE5;&#x4E3A;&#xFF1A; \\[ V^\\ast = \\begin{bmatrix} 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0\\\\\\\\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\\\\\\\ \\sqrt{0.2} &amp; 0 &amp; 0 &amp; 0 &amp; \\sqrt{0.8}\\\\\\\\ \\sqrt{0.4} &amp; 0 &amp; 0 &amp; \\sqrt{0.5} &amp; -\\sqrt{0.1}\\\\ -\\sqrt{0.4} &amp; 0 &amp; 0 &amp; \\sqrt{0.5} &amp; \\sqrt{0.1} \\end{bmatrix} \\]","categories":[{"name":"Concept","slug":"Concept","permalink":"http://www.liufr.com/categories/Concept/"}],"tags":[{"name":"Concept","slug":"Concept","permalink":"http://www.liufr.com/tags/Concept/"}],"author":"刘丰瑞"},{"title":"马哈拉诺比斯距离(马氏距离)","slug":"概念/2017-11-22-马哈拉诺比斯距离","date":"2017-11-21T16:00:00.000Z","updated":"2017-11-22T08:23:26.100Z","comments":true,"path":"2017/11/22/概念/2017-11-22-马哈拉诺比斯距离/","link":"","permalink":"http://www.liufr.com/2017/11/22/概念/2017-11-22-马哈拉诺比斯距离/","excerpt":"","text":"&#x8BA1;&#x7B97;&#x9A6C;&#x6C0F;&#x8DDD;&#x79BB; &#x9A6C;&#x6C0F;&#x8DDD;&#x79BB;&#x7528;&#x6765;&#x8868;&#x793A;&#x6570;&#x636E;&#x7684;&#x534F;&#x65B9;&#x5DEE;&#x8DDD;&#x79BB;&#x3002;&#x4ED6;&#x53EF;&#x4EE5;&#x6709;&#x6548;&#x5730;&#x8BA1;&#x7B97;&#x4E24;&#x4E2A;&#x672A;&#x77E5;&#x6837;&#x672C;&#x96C6;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#xFF0C;&#x4ED6;&#x4E5F;&#x8003;&#x8651;&#x5230;&#x5404;&#x79CD;&#x7279;&#x6027;&#x4E4B;&#x95F4;&#x7684;&#x8054;&#x7CFB;&#x3002;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5747;&#x503C;&#x4E3A; \\(&#x3BC; = (&#x3BC;_1,&#x3BC;_2,&#x3BC;_3,...,&#x3BC;_p)^T\\)&#xFF0C;&#x534F;&#x65B9;&#x5DEE;&#x77E9;&#x9635;&#x4E3A; \\(\\Sigma\\) &#x7684;&#x591A;&#x53D8;&#x5411;&#x91CF; \\(x = (x_1,x_2,x_3,...,x_p)^T\\) &#x5176;&#x9A6C;&#x6C0F;&#x8DDD;&#x79BB;&#x4E3A;&#xFF1A; \\[ D_M(x) = \\sqrt{(x-&#x3BC;)^T\\Sigma^{-1}(x-&#x3BC;)} \\] &#x9A6C;&#x6C0F;&#x8DDD;&#x79BB;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E3A;&#x4E24;&#x4E2A;&#x670D;&#x4ECE;&#x540C;&#x4E00;&#x5206;&#x5E03;&#x5E76;&#x4E14;&#x534F;&#x65B9;&#x5DEE;&#x77E9;&#x9635;&#x4E3A; \\(\\Sigma\\) &#x7684;&#x968F;&#x673A;&#x53D8;&#x91CF; \\(\\vec{x}\\) &#x4E0E; \\(\\vec{y}\\) &#x7684;&#x5DEE;&#x5F02;&#x7A0B;&#x5EA6;&#xFF1A; \\[d(\\vec{x},\\vec{y}) = \\sqrt{(\\vec{x}-\\vec{y})^T\\Sigma^{-1}(\\vec{x}-\\vec{y})}\\] &#x5982;&#x679C;&#x534F;&#x65B9;&#x5DEE;&#x77E9;&#x9635;&#x4E3A;&#x5355;&#x4F4D;&#x77E9;&#x9635;&#xFF0C;&#x9A6C;&#x6C0F;&#x8DDD;&#x79BB;&#x5C31;&#x7B80;&#x5316;&#x4E3A;&#x6B27;&#x6C0F;&#x8DDD;&#x79BB;&#xFF0C;&#x5982;&#x679C;&#x534F;&#x65B9;&#x5DEE;&#x77E9;&#x9635;&#x4E3A;&#x5BF9;&#x89D2;&#x77E9;&#x9635;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;&#x6B63;&#x89C4;&#x5316;&#x7684;&#x6B27;&#x6C0F;&#x8DDD;&#x79BB;&#xFF1A; \\[ d(\\vec{x},\\vec{y}) = \\sqrt{\\sum_{i=1}^{p}\\frac{(x_i-y_i)^2}{\\sigma_i^2}}\\] &#x7406;&#x89E3;&#x9A6C;&#x6C0F;&#x8DDD;&#x79BB; &#x5982;&#x4E0B;&#x662F;&#x4E00;&#x4E2A;&#x79BB;&#x6563;&#x56FE; &#x5C06;&#x4E0A;&#x56FE;&#x7684;&#x5750;&#x6807;&#x8F74;&#x53BB;&#x6389; &#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x5750;&#x6807;&#xFF0C;&#x539F;&#x70B9;&#x5C31;&#x5E94;&#x8BE5;&#x5728;&#x8FD9;&#x4E9B;&#x79BB;&#x6563;&#x70B9;&#x7684;&#x4E2D;&#x5FC3;&#x4F4D;&#x7F6E;&#x3002;&#x84DD;&#x8272;&#x7684;&#x5750;&#x6807;&#x8F74;&#x5C06;&#x6CBF;&#x7740;&#x8FD9;&#x4E9B;&#x79BB;&#x6563;&#x70B9;&#x7684;&#x4F38;&#x5C55;&#x65B9;&#x5411;&#x5EFA;&#x7ACB;&#xFF0C;&#x4F7F;&#x5F97;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x7684;&#x70B9;&#x90FD;&#x5728;&#x5750;&#x6807;&#x8F74;&#x9644;&#x8FD1;&#xFF0C;&#x7EA2;&#x8272;&#x7684;&#x5750;&#x6807;&#x8F74;&#x5782;&#x76F4;&#x84DD;&#x8272;&#x7684;&#x5750;&#x6807;&#x8F74;&#x5EFA;&#x7ACB;(&#x5728;&#x5927;&#x4E8E;&#x4E8C;&#x7EF4;&#x7684;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x5C3D;&#x53EF;&#x80FD;&#x4FDD;&#x6301;&#x5750;&#x6807;&#x8F74;&#x7684;&#x5EFA;&#x7ACB;&#x4FDD;&#x6301;&#x6700;&#x5927;&#x7684;&#x76F8;&#x65A5;&#x89D2;&#x5EA6;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x5EFA;&#x7ACB;&#x7684;&#x5750;&#x6807;&#x8F74;&#x80FD;&#x9760;&#x8FD1;&#x66F4;&#x591A;&#x7684;&#x70B9;)&#x3002; &#x5728;&#x65B0;&#x5EFA;&#x7ACB;&#x7684;&#x5750;&#x6807;&#x8F74;&#x4E0A;&#x4E5F;&#x5E94;&#x5F53;&#x6709;&#x65B0;&#x7684;&#x5C3A;&#x5EA6;&#x6765;&#x5EA6;&#x91CF;&#x3002;&#x5E38;&#x5E38;&#x7528;68-95-99.7&#x539F;&#x5219;&#xFF1A;&#x5927;&#x7EA6;&#x4E09;&#x5206;&#x4E4B;&#x4E8C;(68%)&#x7684;&#x70B9;&#x5E94;&#x5F53;&#x5728;&#x4E00;&#x4E2A;&#x5355;&#x4F4D;&#x4E4B;&#x5185;&#xFF1B;&#x5927;&#x7EA6;95%&#x7684;&#x70B9;&#x5E94;&#x5F53;&#x5728;&#x4E24;&#x4E2A;&#x5355;&#x4F4D;&#x4E4B;&#x5185;&#x3002; &#x6309;&#x7167;&#x4E0A;&#x8FF0;&#x65B9;&#x6CD5;&#x5EFA;&#x7ACB;&#x7684;&#x5750;&#x6807;&#x8F74;&#x56F4;&#x6210;&#x7684;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x7684;&#x5706;&#x5708;&#xFF0C;&#x6A2A;&#x7EB5;&#x5750;&#x6807;&#x5355;&#x4F4D;&#x957F;&#x5EA6;&#x7684;&#x4E0D;&#x7EDF;&#x4E00;&#x5BFC;&#x81F4;&#x4E86;&#x5176;&#x662F;&#x4E00;&#x4E2A;&#x8F83;&#x4E3A;&#x626D;&#x66F2;&#x7684;&#x5706;&#x5708;&#x3002;&#x5982;&#x679C;&#x5C06;&#x4E0A;&#x8FF0;&#x56FE;&#x5F62;&#x91CD;&#x65B0;&#x6807;&#x51C6;&#x5316;&#x7ED8;&#x5236;&#x6210;&#x6211;&#x4EEC;&#x8F83;&#x4E3A;&#x719F;&#x6089;&#x7684;&#x6837;&#x5B50;&#xFF0C;&#x90A3;&#x4E48;&#x5750;&#x6807;&#x4E0A;&#x7684;&#x8DDD;&#x79BB;&#x5C31;&#x6210;&#x4E86;&#x9A6C;&#x6C0F;&#x8DDD;&#x79BB;&#x3002; &#x7FFB;&#x8BD1;&#x81EA; Bottom to top explanation of the Mahalanobis distance?","categories":[{"name":"Concept","slug":"Concept","permalink":"http://www.liufr.com/categories/Concept/"}],"tags":[{"name":"Concept","slug":"Concept","permalink":"http://www.liufr.com/tags/Concept/"}],"author":"刘丰瑞"},{"title":"张量(Tensor)","slug":"概念/2017-10-31-张量(Tensor)","date":"2017-10-30T16:00:00.000Z","updated":"2017-10-31T05:23:50.650Z","comments":true,"path":"2017/10/31/概念/2017-10-31-张量(Tensor)/","link":"","permalink":"http://www.liufr.com/2017/10/31/概念/2017-10-31-张量(Tensor)/","excerpt":"","text":"&#x5F20;&#x91CF; &#x5F20;&#x91CF;&#x7684;&#x6982;&#x5FF5;&#x5728;&#x6570;&#x5B66;&#x7269;&#x7406;&#x9886;&#x57DF;&#x6709;&#x591A;&#x79CD;&#x5B9A;&#x4E49;&#xFF0C;&#x4ECE;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x8BF4;&#xFF1A; &#x5355;&#x4E2A;&#x7684;&#x6570;&#x503C;&#xFF1A;Scalar &#x4E00;&#x7EF4;&#x7684;&#x6570;&#x7EC4;&#xFF1A;Vector &#x4E8C;&#x7EF4;&#x7684;&#x6570;&#x7EC4;&#xFF1A;Matrix &#x4E09;&#x7EF4;&#x53CA;&#x4EE5;&#x4E0A;&#x7684;&#x6570;&#x7EC4;&#xFF1A;Tensor &#x5728;&#x67D0;&#x4E9B;&#x8BA1;&#x7B97;&#x673A;&#x9886;&#x57DF;(&#x5982;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;)&#xFF0C;n&#x7EF4;&#x6570;&#x7EC4;&#x7EDF;&#x79F0;&#x4E3A;Tensor&#x3002; &#x5F20;&#x91CF;&#x7684;&#x6A21;&#x5C55;&#x5F00;&#x77E9;&#x9635;(Tensor Unfolding) &#x5F20;&#x91CF;&#x7684;&#x6A21;&#x5C55;&#x5F00;&#x77E9;&#x9635;&#xFF0C;&#x4E3B;&#x8981;&#x4EFB;&#x52A1;&#x662F;&#x5BF9;&#x5F20;&#x91CF;&#x8FDB;&#x884C;&#x964D;&#x7EF4;&#xFF0C;&#x8F6C;&#x5316;&#x4E3A;&#x77E9;&#x9635;&#x3002;&#x5728;&#x5F20;&#x91CF;&#x7684;&#x77E9;&#x9635;&#x5C55;&#x5F00;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x662F;&#x5BF9;&#x7EC4;&#x6210;&#x5F20;&#x91CF;&#x7684;&#x6240;&#x6709;&#x9636;&#x6309;&#x4EA4;&#x9519;&#x6B21;&#x5E8F;&#x91C7;&#x6837;&#xFF0C;&#x5E76;&#x975E;&#x7B80;&#x5355;&#x91C7;&#x53D6;&#x67D0;&#x4E00;&#x9636;&#x7684;&#x7279;&#x5F81;&#x503C;&#x518D;&#x91C7;&#x53D6;&#x53E6;&#x4E00;&#x9636;&#x7684;&#x7279;&#x5F81;&#x503C;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x91C7;&#x96C6;&#x8FC7;&#x7A0B;&#x4E2D;&#x5B9E;&#x73B0;&#x4E86;&#x5F20;&#x91CF;&#x4E0D;&#x540C;&#x9636;&#x7279;&#x5F81;&#x503C;&#x4E4B;&#x95F4;&#x7684;&#x4F20;&#x9012;&#x548C;&#x878D;&#x5408;&#x3002; &#x4F8B;&#xFF1A;A&#x662F;&#x4E00;&#x4E2A;(4&#xD7;3&#xD7;2)&#x4E09;&#x9636;&#x5F20;&#x91CF; &#x5BF9;A&#x7B2C;&#x4E00;&#x9636;&#x6A21;&#x5C55;&#x5F00;&#x77E9;&#x9635;&#x662F;&#x4E00;&#x4E2A;4&#xD7;6&#x77E9;&#x9635;&#xFF1A; &#x5BF9;A&#x7684;&#x7B2C;&#x4E8C;&#x9636;&#x6A21;&#x5C55;&#x5F00;&#x77E9;&#x9635;&#x662F;&#x4E00;&#x4E2A;3&#xD7;8&#x77E9;&#x9635;&#xFF1A; &#x5BF9;A&#x7684;&#x7B2C;&#x4E09;&#x9636;&#x6A21;&#x5C55;&#x5F00;&#x77E9;&#x9635;&#x662F;&#x4E00;&#x4E2A;2&#xD7;12&#x77E9;&#x9635;&#xFF1A;","categories":[{"name":"Concept","slug":"Concept","permalink":"http://www.liufr.com/categories/Concept/"}],"tags":[{"name":"Concept","slug":"Concept","permalink":"http://www.liufr.com/tags/Concept/"}],"author":"刘丰瑞"},{"title":"约瑟夫问题(SJTU OJ 1038)","slug":"算法/2017-9-25-约瑟夫问题","date":"2017-09-24T16:00:00.000Z","updated":"2019-09-17T07:56:22.080Z","comments":true,"path":"2017/09/25/算法/2017-9-25-约瑟夫问题/","link":"","permalink":"http://www.liufr.com/2017/09/25/算法/2017-9-25-约瑟夫问题/","excerpt":"","text":"Description &#x8BDD;&#x8BF4;&#x4E8C;&#x54E5;&#x5F53;&#x5E74;&#x5B66;&#x4E60;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x65F6;&#x5019;&#x9047;&#x5230;&#x4E86;&#x90A3;&#x9053;&#x7334;&#x5B50;&#x62A5;&#x6570;&#x7684;&#x9898;&#x76EE;&#xFF0C;&#x5176;&#x5B9E;&#x8FD9;&#x5C31;&#x662F;&#x7ECF;&#x5178;&#x7684;&#x7EA6;&#x745F;&#x592B;&#x95EE;&#x9898;&#x3002; &#x53EF;&#x662F;&#x5F53;&#x5E74;&#x7684;&#x4E8C;&#x54E5;&#x8FD8;&#x662F;&#x4E2A;&#x6BDB;&#x5934;&#x5C0F;&#x5B50;&#xFF0C;&#x53EA;&#x4F1A;&#x7528;&#x6A21;&#x62DF;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x5176;&#x4ED6;&#x540C;&#x5B66;&#x5374;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E9B;&#x4EE4;&#x4E8C;&#x54E5;&#x5B8C;&#x5168;&#x6478;&#x4E0D;&#x5230;&#x5934;&#x8111;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#x2026;&#x2026;&#x4E8C;&#x54E5;&#x4E00;&#x6012;&#x4E4B;&#x4E0B;&#x6539;&#x4E86;&#x9898;&#x76EE;&#x2026;&#x2026; &#x8BDD;&#x8BF4;&#x5F53;&#x5E74;&#x82B1;&#x679C;&#x5C71;&#x7684;&#x7334;&#x5B50;&#x8981;&#x9009;&#x5927;&#x738B;&#xFF0C;&#x9009;&#x4E3E;&#x529E;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; &#x6240;&#x6709;&#x7334;&#x5B50;&#x6309;1-M&#x7F16;&#x53F7;&#x56F4;&#x5750;&#x4E00;&#x5708;&#xFF0C;&#x4E8C;&#x54E5;&#x7AD9;&#x5728;&#x5708;&#x4E2D;&#x5FC3;&#xFF0C;&#x7531;&#x4E8C;&#x54E5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x6574;&#x6570;Kn&#xFF0C; &#x4E4B;&#x540E;&#x7334;&#x5B50;&#x4EEC;&#x4ECE;1&#x53F7;&#x5F00;&#x59CB;&#x6309;&#x987A;&#x5E8F;&#x62A5;&#x6570;&#xFF0C;&#x62A5;&#x5230;Kn&#x7684;&#x7334;&#x5B50;&#x9000;&#x51FA;&#x5230;&#x5708;&#x5916;&#xFF0C;&#x4E8C;&#x54E5;&#x518D;&#x62A5;&#x51FA;&#x4E00;&#x4E2A;&#x6574;&#x6570;Kn+1&#xFF0C; &#x7136;&#x540E;&#x7531;&#x521A;&#x521A;&#x9000;&#x51FA;&#x7684;&#x7334;&#x5B50;&#x7684;&#x4E0B;&#x4E00;&#x53EA;&#x7334;&#x5B50;&#x518D;&#x5F00;&#x59CB;&#x62A5;&#x6570;&#xFF0C;&#x5982;&#x6B64;&#x5FAA;&#x73AF;&#x62A5;&#x6570;&#xFF0C;&#x76F4;&#x5230;&#x5708;&#x5185;&#x53EA;&#x5269;&#x4E0B;&#x4E00;&#x53EA;&#x7334;&#x5B50;&#x65F6;&#xFF0C;&#x8FD9;&#x53EA;&#x7334;&#x5B50;&#x5C31;&#x662F;&#x5927;&#x738B;&#x3002; &#x7531;&#x4E8E;&#x4E8C;&#x54E5;&#x5E0C;&#x671B;&#x901A;&#x8FC7;&#x6B64;&#x79CD;&#x65B9;&#x6CD5;&#x63A7;&#x5236;&#x82B1;&#x679C;&#x5C71;&#xFF0C;&#x6240;&#x4EE5;&#x73B0;&#x5728;&#x4E8C;&#x54E5;&#x628A;&#x4ED6;&#x5236;&#x5B9A;&#x7684;&#x6574;&#x6570;&#x5E8F;&#x5217;&#x544A;&#x8BC9;&#x4F60;&#xFF0C;&#x5E0C;&#x671B;&#x4F60;&#x5E2E;&#x4ED6;&#x9884;&#x5148;&#x7B97;&#x51FA;&#x90A3;&#x53EA;&#x7334;&#x5B50;&#x4F1A;&#x6210;&#x4E3A;&#x5927;&#x738B;&#x3002; Input Format &#x7B2C;&#x4E00;&#x884C; &#x4E00;&#x4E2A;&#x6574;&#x6570;M&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x5171;&#x6709;M&#x53EA;&#x7334;&#x5B50; &#x7B2C;&#x4E8C;&#x884C;&#x5230;&#x7B2C;M&#x884C;&#xFF0C;&#x6BCF;&#x884C;&#x4E00;&#x4E2A;&#x6574;&#x6570; &#x8868;&#x793A;&#x4E8C;&#x54E5;&#x5373;&#x5C06;&#x6307;&#x5B9A;&#x7684;M-1&#x4E2A;&#x6574;&#x6570;&#x3002;&#x8FD9;&#x4E9B;&#x6570;&#x90FD;&#x5927;&#x4E8E;0&#x3002; Output Format &#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x8868;&#x793A;&#x6700;&#x540E;&#x5269;&#x4E0B;&#x90A3;&#x53EA;&#x7334;&#x5B50;&#x7684;&#x7F16;&#x53F7;&#x3002; Hint &#x5BF9;&#x4E8E;40%&#x7684;&#x6570;&#x636E;&#xFF0C;M&lt;=1000, K&lt;=1000 &#x5BF9;&#x4E8E;70%&#x7684;&#x6570;&#x636E;&#xFF0C;M&lt;=10000, K&lt;=10000 &#x5BF9;&#x4E8E;100%&#x7684;&#x6570;&#x636E;&#xFF0C;M&lt;=10000, K&lt;=100000000 Sample Input 51234 Sample Output 4 Solution &#x7528;&#x94FE;&#x8868;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4EE5;&#x4E0B;&#x4E24;&#x70B9;&#xFF1A; &#x5355;&#x5411;&#x5FAA;&#x73AF;&#x94FE;&#x8868;&#x53EF;&#x4EE5;&#x76F8;&#x5BF9;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#x3002; &#x5355;&#x5411;&#x94FE;&#x8868;&#x5728;&#x8BF7;&#x6C42;&#x5220;&#x9664;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x4E0D;&#x77E5;&#x9053;&#x524D;&#x4E00;&#x4E2A;&#x7ED3;&#x6784;&#x4F53;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x91C7;&#x7528;&#x7ED5;&#x4E00;&#x5708;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5176;&#x5B9E;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x53CC;&#x5411;&#x5FAA;&#x73AF;&#x94FE;&#x8868;&#xFF0C;&#x5404;&#x6709;&#x5229;&#x5F0A;&#x3002; &#x51CF;&#x5C11;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x5728;&#x6BCF;&#x6B21;&#x90FD;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#x5269;&#x4F59;&#x7684;&#x94FE;&#x8868;&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x7528;&#x4F59;&#x6570;&#x6765;&#x786E;&#x5B9A;&#x6307;&#x5B9A;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x7531;&#x6B64;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E00;&#x6B21;&#x64CD;&#x4F5C;&#xFF0C;&#x90FD;&#x63A7;&#x5236;&#x5728;&#x4E00;&#x6B21;&#x5B8C;&#x6574;&#x7684;&#x5FAA;&#x73AF;&#x94FE;&#x8868;&#x904D;&#x5386;&#x4E4B;&#x5185;&#x3002; //// main.c// 1038//// Created by Oscar on 21/09/2017.// Copyright &#xA9; 2017 &#x5218;&#x4E30;&#x745E;. All rights reserved.//#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;typedef struct Lnode{ int num; struct Lnode *next;}LinkList;void createList (LinkList *L, int n) { LinkList *s,*r,*p; int i; L-&gt;num = 1; r = L; for (i = 2 ; i&lt;=n; i++) { s = (LinkList*)malloc(sizeof(LinkList)); s-&gt;num = i; r-&gt;next = s; r = s; } r-&gt;next = L;}void findList (LinkList *L, long long int n, long long int *remain){ int a; LinkList *f; if (n == 1) { for (a=1; a&lt;*remain; a++) { L=L-&gt;next; } }else { for (a=0; a&lt;n-1; a++) { L=L-&gt;next; } } f = L-&gt;next; L-&gt;next = L-&gt;next-&gt;next; L = L-&gt;next; *remain -= 1; free(f);}int main(int argc, const char * argv[]) { int n,m,i,p=0,q=0,a,sum; int k; LinkList *monkey; LinkList *f; scanf(&quot;%d&quot;,&amp;sum); monkey = (LinkList *)malloc(sizeof(LinkList)); createList(monkey, sum); k=sum; for (m = 1; m&lt;sum; m++) { if (m==sum-1) { scanf(&quot;%d&quot;,&amp;i); }else{ scanf(&quot;%d\\n&quot;,&amp;i); } i = i%k; if (i == 0) { i = k; } if (i == 1) { for (a=1; a&lt;k; a++) { monkey=monkey-&gt;next; } }else { for (a=0; a&lt;i-2; a++) { monkey=monkey-&gt;next; } } f = monkey-&gt;next; monkey-&gt;next = monkey-&gt;next-&gt;next; monkey = monkey-&gt;next; k -= 1; free(f); } printf(&quot;%d &quot;, monkey-&gt;num); return 0;}","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"DP（完全背包）","slug":"算法/2017-9-15-完全背包","date":"2017-09-14T16:00:00.000Z","updated":"2019-09-17T07:56:16.169Z","comments":true,"path":"2017/09/15/算法/2017-9-15-完全背包/","link":"","permalink":"http://www.liufr.com/2017/09/15/算法/2017-9-15-完全背包/","excerpt":"","text":"Description &#x4F60;&#x73B0;&#x5728;&#x6709;&#x4E00;&#x4E2A;&#x4F53;&#x79EF;&#x4E3A;V&#x7684;&#x5927;&#x888B;&#x5B50;&#xFF0C;&#x6709;N&#x79CD;&#x7269;&#x54C1;&#xFF0C;&#x5047;&#x8BBE;&#x6BCF;&#x79CD;&#x7269;&#x54C1;&#x7684;&#x6570;&#x91CF;&#x6709;&#x65E0;&#x9650;&#x591A;&#x4E2A;&#xFF0C;&#x800C;&#x4E14;&#x7B2C;i&#x79CD;&#x7269;&#x54C1;&#x7684;&#x4F53;&#x79EF;&#x662F;c[i],&#x4EF7;&#x503C;&#x662F;w[i],&#x8BF7;&#x9009;&#x62E9;&#x4E00;&#x4E9B;&#x7269;&#x54C1;&#x653E;&#x5165;&#x888B;&#x4E2D;&#xFF0C;&#x4F7F;&#x888B;&#x4E2D;&#x7269;&#x54C1;&#x7684;&#x4EF7;&#x503C;&#x603B;&#x548C;&#x6700;&#x5927;&#x3002; &#x6CE8;&#x610F;&#x6BCF;&#x79CD;&#x7269;&#x54C1;&#x7684;&#x6570;&#x91CF;&#x662F;&#x65E0;&#x9650;&#x591A;&#x7684;&#xFF1B;&#x5BF9;&#x4E8E;&#x653E;&#x5165;&#x888B;&#x4E2D;&#x7684;&#x540C;&#x79CD;&#x7269;&#x54C1;&#x6570;&#x91CF;&#x6CA1;&#x6709;&#x9650;&#x5236;&#x3002; Input Format &#x7B2C;&#x4E00;&#x884C;&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x6B63;&#x6574;&#x6570;V&#x548C;N&#xFF0C;&#x5206;&#x522B;&#x4EE3;&#x8868;&#x888B;&#x5B50;&#x7684;&#x4F53;&#x79EF;&#x548C;&#x7269;&#x54C1;&#x7684;&#x79CD;&#x7C7B;&#x6570;&#x3002; &#x4EE5;&#x4E0B;N&#x884C;&#x5206;&#x522B;&#x7531;2&#x4E2A;&#x6B63;&#x6574;&#x6570;&#x7EC4;&#x6210;&#xFF0C;&#x4EE3;&#x8868;&#x6BCF;&#x79CD;&#x7269;&#x54C1;&#x7684;&#x4F53;&#x79EF;&#x548C;&#x4EF7;&#x503C;&#x3002; \\(V&#x2264;10000,N&#x2264;1000\\)&#x3002; &#x4FDD;&#x8BC1;&#x64CD;&#x4F5C;&#x53EF;&#x5728;C++ int&#x8303;&#x56F4;&#x5185;&#x5B8C;&#x6210;&#x3002; Output Format &#x8F93;&#x51FA;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x8868;&#x793A;&#x6700;&#x5927;&#x7684;&#x4EF7;&#x503C;&#x603B;&#x548C; Sample Input 5 32 33 24 1 Sample Output 6 Solution &#x7B2C;&#x4E00;&#x5C42;&#x5FAA;&#x73AF;&#x662F;&#x4ECE;&#x7B2C;&#x4E00;&#x4E2A;&#x7269;&#x54C1;&#x5230;&#x7B2C;n&#x4E2A;&#x7269;&#x54C1;&#x7684;&#x5FAA;&#x73AF; &#x7B2C;&#x4E8C;&#x5C42;&#x5FAA;&#x73AF;&#x662F;&#x5148;&#x88C5;&#x7B2C;&#x4E00;&#x79CD;&#x7269;&#x54C1;&#x76F4;&#x5230;&#x88C5;&#x6EE1;&#xFF0C;&#x7136;&#x540E;&#x5206;&#x522B;&#x5BF9;&#x52A0;&#x5165;&#x8BE5;&#x7269;&#x54C1;&#x540E;&#x7684;&#x4F53;&#x79EF;&#x548C;&#x4EF7;&#x503C;&#x4FDD;&#x7559;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8003;&#x8651;&#x4ECE;&#x5305;&#x4E2D;&#x62FF;&#x51FA;&#x67D0;&#x4E2A;&#x7B2C;&#x4E00;&#x79CD;&#x7269;&#x54C1;&#xFF0C;&#x52A0;&#x5165;&#x7B2C;&#x4E8C;&#x79CD;&#x7269;&#x54C1;&#xFF0C;&#x76F4;&#x5230;&#x88C5;&#x6EE1;&#xFF0C;&#x4E14;&#x4EF7;&#x503C;&#x6700;&#x5927;&#x3002;&#x4F9D;&#x6B21;&#x5FAA;&#x73AF;&#x76F4;&#x5230;&#x7B2C;n&#x79CD;&#x7269;&#x54C1;&#xFF0C;&#x6574;&#x4E2A;&#x5305;&#x88C5;&#x6EE1;&#x4E14;&#x4EF7;&#x503C;&#x6700;&#x5927;&#x3002; #include&lt;cstdio&gt;#include&lt;algorithm&gt;using namespace std;int w[1000],c[1000],f[300010];int V,n;int main(){ scanf(&quot;%d%d&quot;,&amp;V,&amp;n); for(int i=1;i&lt;=n;i++){scanf(&quot;%d%d&quot;,&amp;w[i],&amp;c[i]);} for(int i=1;i&lt;=n;i++) for(int j=w[i];j&lt;=V;j++)f[j]=max(f[j],f[j-w[i]]+c[i]); printf(&quot;%d&quot;,f[V]); return 0;}","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"DP（0/1背包）","slug":"算法/2017-9-15-DP(0\"1背包)","date":"2017-09-14T16:00:00.000Z","updated":"2019-09-17T07:56:06.770Z","comments":true,"path":"2017/09/15/算法/2017-9-15-DP(0\"1背包)/","link":"","permalink":"http://www.liufr.com/2017/09/15/算法/2017-9-15-DP(0\"1背包)/","excerpt":"","text":"Description &#x5BF9;&#x4E8E; \\(U={u_1,u_2,u_3...}\\) &#x662F;&#x4E00;&#x4E2A;&#x51C6;&#x5907;&#x653E;&#x5165;&#x5BB9;&#x5668;&#x4E3A;\\(C\\)&#x7684;&#x80CC;&#x5305;&#x4E2D;&#x7684;\\(n\\)&#x9879;&#x7269;&#x54C1;&#x7684;&#x96C6;&#x5408;&#x3002;&#x6211;&#x4EEC;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x662F;&#x7528;\\(U\\)&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x7269;&#x54C1;&#x6765;&#x88C5;&#x6EE1;&#x80CC;&#x5305;&#xFF0C;&#x4F7F;&#x5F97;&#x7269;&#x4F53;&#x7684;&#x603B;&#x4F53;&#x79EF;&#x4E0D;&#x8D85;&#x8FC7;\\(C\\),&#x7136;&#x540E;&#x4F7F;&#x5F97;&#x80CC;&#x5305;&#x91CC;&#x7684;&#x7269;&#x54C1;&#x603B;&#x4EF7;&#x503C;&#x6700;&#x5927;&#xFF0C;&#x5F62;&#x5F0F;&#x5316;&#x8868;&#x8FF0;&#x4E3A;&#xFF1A; &#x7ED9;&#x51FA;&#x6709;\\(n\\)&#x9879;&#x7269;&#x54C1;&#x7684;\\(U\\),&#x6211;&#x4EEC;&#x8981;&#x627E;&#x51FA;&#x4E00;&#x4E2A;&#x5B50;&#x96C6;\\(S\\in U\\) &#x4F7F;&#x5F97; \\[ \\sum_{u_i\\in S} v_i \\] &#x5728;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x4E0B; \\[ \\sum_{u_i\\in S} s_i \\leq C \\] &#x4E0B;&#x6700;&#x5927;&#x3002; Solution &#x7528;V[i,j]&#x8868;&#x793A;&#x4ECE;&#x524D;i&#x9879; \\([u_1,u_2,u_3...u_n]\\) &#x4E2D;&#x53D6;&#x51FA;&#x6765;&#x7684;&#x88C5;&#x5165;&#x4F53;&#x79EF;&#x4E3A;j&#x7684;&#x80CC;&#x5305;&#x7684;&#x7269;&#x54C1;&#x7684;&#x6700;&#x5927;&#x4EF7;&#x503C;&#x3002;&#x8FD9;&#x91CC;&#xFF0C;i&#x7684;&#x8303;&#x56F4;&#x662F;&#x4ECE;0&#x5230;n&#xFF0C;j&#x7684;&#x8303;&#x56F4;&#x662F;&#x4ECE;0&#x5230;C&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x8981;&#x5BFB;&#x6C42;&#x7684;&#x662F;&#x503C;V[n,C]&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;V[0,j]&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x7684;j&#x7684;&#x503C;&#x90FD;&#x662F;0&#xFF0C;&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x5305;&#x91CC;&#x4EC0;&#x4E48;&#x90FD;&#x6CA1;&#x6709;&#x3002;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;V[i,0]&#x5BF9;&#x4E8E;&#x6240;&#x6709;i&#x7684;&#x503C;&#x4E3A;0&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x4E1C;&#x897F;&#x53EF;&#x4EE5;&#x653E;&#x5230;&#x5305;&#x91CC;&#x3002;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;i&#x548C;j&#x90FD;&#x5927;&#x4E8E;0&#x65F6;&#xFF0C;&#x6709;&#x4E0B;&#x9762;&#x7684;&#x7ED3;&#x8BBA;&#xFF1A; V[i,j]&#x662F;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x91CF;&#x7684;&#x6700;&#x5927;&#x503C;&#xFF1A; * \\(V[i-1,j]\\): &#x4EC5;&#x7528;&#x6700;&#x4F18;&#x7684;&#x65B9;&#x6CD5;&#x53D6;&#x81EA; \\([u_1,u_2,...,u_{i-1}]\\)&#x7684;&#x7269;&#x54C1;&#x53BB;&#x88C5;&#x5165;&#x4F53;&#x79EF;&#x4E3A;j&#x7684;&#x80CC;&#x5305;&#x6240;&#x5F97;&#x7684;&#x4EF7;&#x503C;&#x6700;&#x5927;&#x503C;&#x3002; * \\(V[i-1,j-s_i] + v_i\\): &#x7528;&#x6700;&#x4F18;&#x7684;&#x65B9;&#x6CD5;&#x53D6;&#x81EA; \\([u_1,u_2,...,u_{i-1}]\\) &#x7684;&#x7269;&#x54C1;&#x53BB;&#x88C5;&#x5165;&#x4F53;&#x79EF;&#x4E3A; \\(j-s_i\\) &#x7684;&#x80CC;&#x5305;&#x6240;&#x5F97;&#x5230;&#x7684;&#x4EF7;&#x503C;&#x6700;&#x5927;&#x503C;&#x52A0;&#x4E0A; \\(u_i\\) &#x7684;&#x4EF7;&#x503C;&#x3002; &#x5F62;&#x5F0F;&#x5316;&#x6709;&#x4EE5;&#x4E0B;&#x9012;&#x63A8;&#xFF1A; \\[ V[i,j] =\\left\\{\\begin{matrix} 0 &amp;&amp; &#x82E5;i=0&#x6216;j=0 \\\\ V[i-1,j] &amp;&amp; &#x82E5;j&lt;s_i \\\\ max\\{V[i-1,j],V[i-1,j-s_i]+v_i\\} &amp;&amp; i\\geq 1 &#x548C;j\\geq s_i\\\\ \\end{matrix}\\right. \\] Algotithm &#x7B97;&#x6CD5;&#xFF1A;KNAPSACK&#x8F93;&#x5165;&#xFF1A;&#x7269;&#x54C1;&#x96C6;&#x5408; $U$={u1,u2...,us},&#x4F53;&#x79EF;&#x5206;&#x522B;&#x4E3A;s1,s2,...sn,&#x4EF7;&#x503C;&#x5206;&#x522B;&#x4E3A;v1,v2,...vn,&#x5BB9;&#x91CF;&#x4E3A;C&#x7684;&#x80CC;&#x5305;&#x3002;&#x8F93;&#x51FA;&#xFF1A;&#x6700;&#x5927;&#x603B;&#x4EF7;&#x503C; for i=1 to n V[i,0] = 0; end for for j=0 to C V[0,j] = 0; end for for i=1 to n for j=1 to C V[i,j] = V[i-1,j] if si &lt;= j then V[i,j] = max{V[i-1,j],V[i-1,j-si]+vi} end for end for return V[n,C]","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"DP（最长公共子序列）","slug":"算法/2017-9-15-DP最长公共子序列","date":"2017-09-14T16:00:00.000Z","updated":"2019-09-17T07:56:09.831Z","comments":true,"path":"2017/09/15/算法/2017-9-15-DP最长公共子序列/","link":"","permalink":"http://www.liufr.com/2017/09/15/算法/2017-9-15-DP最长公共子序列/","excerpt":"","text":"Description &#x5728;&#x5B57;&#x6BCD;&#x8868;&#x4E2D;&#xFF0C;&#x5206;&#x522B;&#x7ED9;&#x51FA;&#x4E24;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A;n&#x548C;m&#x7684;&#x5B57;&#x7B26;&#x4E32;A&#x548C;B&#xFF0C;&#x786E;&#x5B9A;&#x5728;A&#x4E0E;B&#x4E2D;&#x6700;&#x957F;&#x516C;&#x5171;&#x5B50;&#x5E8F;&#x5217;&#x7684;&#x957F;&#x5EA6;&#x3002; \\(A = a_1a_2a_3...a_n\\) &#x5176;&#x4E2D;&#x6BCF;&#x4E2A;\\(i_j\\)&#x90FD;&#x5728;1&#x548C;n&#x4E4B;&#x95F4;&#xFF0C;&#x5E76;&#x4E14;\\(1&lt;=i_1&lt;i_2&lt;...&lt;i_k&lt;=n\\)&#x3002; Solution &#x4F7F;&#x7528;&#x52A8;&#x6001;&#x89C4;&#x5212;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;\\(A = a_1a_2a_3...a_n\\)&#xFF0C;\\(B = b_1b_2b_3...b_n\\)&#xFF0C;&#x4EE4;\\(L[i,j]\\)&#x6765;&#x8868;&#x793A;&#x4E24;&#x4E2A;&#x516C;&#x5171;&#x5B50;&#x5E8F;&#x5217;&#x7684;&#x957F;&#x5EA6;&#x3002;&#x90A3;&#x4E48;&#x603B;&#x7ED3;&#x6709;&#x4EE5;&#x4E0B;&#x7684;&#x7ED3;&#x8BBA;&#xFF1A; \\[ L[i,j] = \\left\\{\\begin{matrix} &amp; 0 &amp; &#x82E5;i=0&#x6216;j=0\\\\ &amp; L[i-1,j-1]+1 &amp; &#x82E5;i&gt;0,j&gt;0 &#x548C; a_i=b_j\\\\ &amp; max\\left\\{L[i,j-1],L[i-1,j] \\right\\} &amp; &#x82E5;i&gt;0,j&gt;0 &#x548C;a_i \\neq b_j \\end{matrix}\\right. \\] Algotrithm &#x7B97;&#x6CD5;&#xFF1A; LCS&#x8F93;&#x5165;&#xFF1A; &#x5B57;&#x6BCD;&#x8868;&#x4E0A;&#x7684;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;A&#x548C;B&#xFF0C;&#x957F;&#x5EA6;&#x5206;&#x522B;&#x4E3A;n&#x548C;m&#x8F93;&#x51FA;&#xFF1A; A&#x548C;B&#x6700;&#x957F;&#x516C;&#x5171;&#x5B50;&#x5E8F;&#x5217;&#x7684;&#x957F;&#x5EA6;1. for i = 0 to n2. L[i, 0] = 03. end for4. for j = 0 to m5. L[0, j] = 06. end for7. for i = 1 to n8. for j = 1 to m9. if a_i = b_j then L[i,j] = L[i-1,j-1]+110. else L[i,j] = max{L[i,j-1],L[i-1,j]}11. end if12. end for13. end for14. return L[n,m]","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"DP（SJTU OJ 1012）","slug":"算法/2017-9-15-DP问题","date":"2017-09-14T16:00:00.000Z","updated":"2019-09-17T07:56:13.124Z","comments":true,"path":"2017/09/15/算法/2017-9-15-DP问题/","link":"","permalink":"http://www.liufr.com/2017/09/15/算法/2017-9-15-DP问题/","excerpt":"","text":"Description &#x6709;&#x4E00;&#x4E2A;&#x6570;&#x5217;&#xFF0C;&#x5B83;&#x662F;&#x7531;&#x81EA;&#x7136;&#x6570;&#x7EC4;&#x6210;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x4E25;&#x683C;&#x5355;&#x8C03;&#x4E0A;&#x5347;&#x3002;&#x6700;&#x5C0F;&#x7684;&#x6570;&#x4E0D;&#x5C0F;&#x4E8E;S&#xFF0C;&#x6700;&#x5927;&#x7684;&#x4E0D;&#x8D85;&#x8FC7;T&#x3002;&#x73B0;&#x5728;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x6570;&#x5217;&#x6709;&#x4E00;&#x4E2A;&#x6027;&#x8D28;&#xFF1A;&#x540E;&#x4E00;&#x4E2A;&#x6570;&#x76F8;&#x5BF9;&#x4E8E;&#x524D;&#x4E00;&#x4E2A;&#x6570;&#x7684;&#x589E;&#x957F;&#x7387;&#x603B;&#x662F;&#x767E;&#x5206;&#x6BD4;&#x4E0B;&#x7684;&#x6574;&#x6570;&#xFF08;&#x5982;5&#x76F8;&#x5BF9;&#x4E8E;4&#x7684;&#x589E;&#x957F;&#x7387;&#x662F;25%&#xFF0C;25&#x4E3A;&#x6574;&#x6570;&#xFF1B;&#x800C;9&#x5BF9;7&#x5C31;&#x4E0D;&#x884C;&#x4E86;&#xFF09;&#x3002;&#x73B0;&#x5728;&#x95EE;&#xFF1A;&#x8FD9;&#x4E2A;&#x6570;&#x5217;&#x6700;&#x957F;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x957F;&#xFF1F;&#x6EE1;&#x8DB3;&#x6700;&#x957F;&#x8981;&#x6C42;&#x7684;&#x6570;&#x5217;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#xFF1F; Input Format &#x8F93;&#x5165;&#x4EC5;&#x6709;&#x4E00;&#x884C;&#xFF0C;&#x5305;&#x542B;S&#x548C;T&#x4E24;&#x4E2A;&#x6570;&#xFF08; 0&lt;S&lt;T&#x2264;200000&#xFF09;&#x3002; 30%&#x7684;&#x6570;&#x636E;&#xFF0C;0&lt;S&lt;T&#x2264;100&#xFF1B; 100%&#x7684;&#x6570;&#x636E;&#xFF0C;0&lt;S&lt;T&#x2264;200000&#x3002; Output Format &#x8F93;&#x51FA;&#x6709;2&#x884C;&#x3002;&#x7B2C;&#x4E00;&#x884C;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6570;&#x8868;&#x793A;&#x957F;&#x5EA6;&#xFF0C;&#x7B2C;&#x4E8C;&#x884C;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6570;&#x8868;&#x793A;&#x4E2A;&#x6570;&#x3002; Sample Input 2 10 Sample Output 52 &#x6837;&#x4F8B;&#x89E3;&#x91CA; 2 4 5 6 9&#x4EE5;&#x53CA;2 4 5 8 10 &#x89E3;&#x9898;&#x601D;&#x8DEF; DP&#x52A8;&#x6001;&#x89C4;&#x5212;&#x6C42;&#x89E3; &#x5982;&#x4F55;&#x5C06;&#x4ECE;S&#x5230;T&#x7684;&#x95EE;&#x9898;&#x8F6C;&#x53D8;&#x6210;&#x4ECE;S&#x5230;T-1&#x7684;&#x95EE;&#x9898;&#x5462;&#xFF1F; &#x9996;&#x5148;&#x6C42;&#x51FA;&#x4ECE;S&#x5230;T-1&#x7684;&#x6700;&#x957F;&#x5E8F;&#x5217;&#x6709;&#x51E0;&#x4E2A;&#xFF0C;&#x4ED6;&#x7684;&#x672B;&#x7AEF;&#x5206;&#x522B;&#x662F;&#x8C01;&#xFF0C;&#x7136;&#x540E;&#x628A;T&#x548C;&#x672B;&#x7AEF;&#x6570;&#x5B57;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x770B;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5EF6;&#x7EED;&#x8FD9;&#x4E2A;&#x6700;&#x957F;&#x5E8F;&#x5217;&#xFF0C;&#x4ECE;&#x800C;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x8981;&#x589E;&#x52A0;&#x5E8F;&#x5217;&#x7684;&#x957F;&#x5EA6;&#x3002; DP&#x8BBE;&#x5B9A;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x72B6;&#x6001; * d[i] &#x8868;&#x793A;&#x4EE5;i&#x4E3A;&#x7ED3;&#x5C3E;&#x7684;&#x6700;&#x957F;&#x5E8F;&#x5217;&#x7684;&#x957F;&#x5EA6; * times[i] &#x4EE5;i&#x4E3A;&#x7ED3;&#x5C3E;&#x7684;&#x6700;&#x957F;&#x5E8F;&#x5217;&#x7684;&#x4E2A;&#x6570; * cnt[x] &#x957F;&#x5EA6;&#x4E3A;x&#x7684;&#x5E8F;&#x5217;&#x7684;&#x4E2A;&#x6570; &#x7B97;&#x6CD5;&#xFF1A; &#x4ECE;S&#x5230;T&#x904D;&#x5386;&#x8D77;&#x70B9;i&#x3002; &#x9006;&#x5411;&#x601D;&#x8003;&#xFF1A;&#x5047;&#x8BBE;&#x589E;&#x957F;&#x7684;&#x767E;&#x5206;&#x7387;&#x4E3A;j%&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x9898;&#x76EE;&#x4E2D;&#x7684;25&#x3002;&#x5219;&#x786E;&#x5B9A;&#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x4E0B;&#x4E2A;&#x6570;&#x5B57;tmp &#x4E0E;i&#x7684;&#x5173;&#x7CFB;&#x4E3A; \\((tmp - i)/i = j/100\\) &#x6574;&#x7406;&#x5F97; \\(tmp = i + i*j/100\\) &#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x7684; \\(tmp&lt;=T\\)&#x3002; &#x5F97;&#x5230;&#x4E0A;&#x8FF0;&#x5173;&#x7CFB;&#x540E;&#xFF0C;DP&#x7684;&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x4E3A;&#xFF1A; &#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x7684;tmp&#x662F;&#x5728;&#x4EE5;i&#x4E3A;&#x7ED3;&#x5C3E;&#x7684;&#x5E8F;&#x5217;&#x540E;&#x52A0;&#x5165;&#x7684;&#xFF0C;&#x957F;&#x5EA6;&#x4E3A;d[i]+1, &#x56E0;&#x6B64;&#x4EE5;tmp&#x7684;&#x7ED3;&#x5C3E;&#x7684;&#x5E8F;&#x5217;&#x957F;&#x5EA6;&#x548C;&#x6B21;&#x6570;&#x8981;&#x66F4;&#x65B0;&#xFF1B; &#x5982;&#x679C;d[tmp] &#x548C; d[i]+1&#x76F8;&#x7B49;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x6B64;&#x4E4B;&#x524D;&#x4EE5;tmp&#x7ED3;&#x5C3E;&#x7684;&#x5E8F;&#x5217;&#x6700;&#x957F;&#x957F;&#x5EA6;&#x548C;&#x4E4B;&#x524D;&#x7684;&#x5E8F;&#x5217;&#x957F;&#x5EA6;&#x4E00;&#x81F4;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4; \\(times[tmp] += times[i]\\)&#x3002; &#x5982;&#x679C;d[tmp] &lt; d[i]+1, &#x8BF4;&#x660E;&#x65B0;&#x7684;&#x5E8F;&#x5217;&#x6BD4;&#x539F;&#x6765;&#x7684;&#x8FD8;&#x8981;&#x957F;&#xFF0C;&#x6240;&#x4EE5;\\(d[tmp] = d[i]+1, times[tmp] = times[i]\\)&#x3002; &#x66F4;&#x65B0;&#x603B;&#x7684;&#x6700;&#x5927;&#x957F;&#x5EA6;\\(ans = max&#xFF08;ans,d[tmp]&#xFF09;\\); &#x6700;&#x540E;&#x8F93;&#x51FA;ans&#x548C;cnt[ans] #include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;using namespace std;typedef long long ll;const int maxn=200007;int d[maxn];ll cnt[maxn],times[maxn];//cnt[i]&#x5B58;&#x50A8;&#x7684;&#x662F; &#x957F;&#x5EA6;&#x4E3A;i&#x7684;&#x5E8F;&#x5217;&#x7684;&#x4E2A;&#x6570;//d[i]&#x5B58;&#x50A8;&#x7684;&#x662F;&#x4EE5;i&#x7ED3;&#x5C3E;&#x7684;&#x5E8F;&#x5217;&#x6700;&#x957F;&#x7684;&#x957F;&#x5EA6;int main(){ int s,t; cin&gt;&gt;s&gt;&gt;t; memset(cnt,0,sizeof(cnt)); int i,j,tmp,ans=1; cnt[1]=t-s+1; for(i=s;i&lt;=t;i++) d[i]=times[i]=1; //&#x521D;&#x59CB;&#x5316;&#x4E3A;1 for(i=s;i&lt;=t;i++) //&#x904D;&#x5386;&#x6BCF;&#x4E2A;&#x6570;&#x4F5C;&#x4E3A;&#x8D77;&#x70B9; for(j=1;j&lt;=100;j++) if( (i*j)%100 == 0) //&#x5047;&#x8BBE;&#x589E;&#x957F;&#x7387;&#x4E3A;j% { //&#x5219;&#x5728;&#x6B64;&#x589E;&#x957F;&#x7387;&#x4E0B; &#x5F97;&#x5230;&#x7684;&#x6570;&#x4E3A; tmp &#x53EF;&#x4EE5;&#x770B;&#x51FA;,&#x8981;&#x8BA9;tmp&#x4E3A;&#x6574;&#x6570; &#x5FC5;&#x987B;i*j&#x662F;100&#x7684;&#x500D;&#x6570; tmp = i + i*j/100; if( tmp &lt;= t ) //&#x5982;&#x679C;&#x8FD9;&#x4E2A;tmp&#x662F;&#x5728;&#x89C4;&#x5B9A;&#x8303;&#x56F4;&#x5185;&#x7684; &#x6211;&#x4EEC;&#x5C31;&#x627E;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x89E3; { if(d[i]+1 &gt; d[tmp]) //&#x8FD9;&#x65F6;&#x8981;&#x6BD4;&#x8F83; &#x770B;&#x770B;&#x8981;&#x4E0D;&#x8981;&#x66F4;&#x65B0;&#x4EE5;tmp&#x7ED3;&#x5C3E;&#x7684;&#x6700;&#x957F;&#x7684;&#x957F;&#x5EA6; { d[tmp] = d[i] + 1;//&#x4EE5;tmp&#x4E3A;&#x7ED3;&#x5C3E;&#x7684;&#x5E8F;&#x5217;&#x7684;&#x957F;&#x5EA6; &#x4E3A; &#x4EE5;i&#x4E3A;&#x7ED3;&#x5C3E;&#x7684;&#x5E8F;&#x5217;&#x7684;&#x957F;&#x5EA6; &#x518D;&#x52A0;&#x4E0A;1 &#x8868;&#x793A;&#x7B97;&#x4E0A;tmp times[tmp] = times[i]; //&#x53D1;&#x751F;&#x4E86;&#x6700;&#x957F;&#x957F;&#x5EA6;&#x7684;&#x66F4;&#x65B0; &#x6240;&#x4EE5;&#x8981;&#x91CD;&#x7F6E; &#x4EE5;tmp&#x7ED3;&#x5C3E;&#x7684;&#x6700;&#x957F;&#x957F;&#x5EA6;&#x7684;&#x91CD;&#x590D;&#x6B21;&#x6570;&#x4E3A; i&#x7684; } else if(d[i]+1==d[tmp]) //&#x6070;&#x597D;&#x662F;&#x91CD;&#x590D;&#x7684;&#x6700;&#x957F;&#x957F;&#x5EA6; { times[tmp] += times[i];//&#x5219;&#x6700;&#x957F;&#x957F;&#x5EA6;&#x7684;&#x6B21;&#x6570; &#x589E;&#x52A0; &#x4EE5;i&#x7ED3;&#x5C3E;&#x7684;&#x6700;&#x957F;&#x957F;&#x5EA6;&#x91CD;&#x590D;&#x6B21;&#x6570; } ans = max(ans,d[tmp]); //&#x66F4;&#x65B0;ans //d[i]+1 &#x8868;&#x793A;&#x4EE5;i&#x7ED3;&#x5C3E;&#x7684;&#x5E8F;&#x5217;&#x957F;&#x5EA6;+tmp&#x6240;&#x589E;&#x52A0;&#x7684;1&#x4F4D; &#x8FD9;&#x4E2A;&#x957F;&#x5EA6;&#x7684;&#x5B50;&#x5217;&#x6570;&#x91CF;&#x8981;&#x589E;&#x52A0;times[i] cnt[d[i]+1] += times[i]; } } cout&lt;&lt;ans&lt;&lt;cnt[ans]; return 0;}","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"超大数求和（SJTU OJ 1007）","slug":"算法/2017-9-14-超大数求和","date":"2017-09-13T16:00:00.000Z","updated":"2019-09-17T07:56:03.247Z","comments":true,"path":"2017/09/14/算法/2017-9-14-超大数求和/","link":"","permalink":"http://www.liufr.com/2017/09/14/算法/2017-9-14-超大数求和/","excerpt":"","text":"&#x9898;&#x76EE;&#x63CF;&#x8FF0; &#x4E8C;&#x54E5;&#x5F53;&#x4E86;&#x591A;&#x5E74;&#x7684;&#x52A9;&#x6559;&#xFF0C;&#x4ECA;&#x5929;&#x7EC8;&#x4E8E;&#x8981;&#x53D1;&#x5DE5;&#x8D44;&#x4E86;&#xFF01;&#x4E8C;&#x54E5;&#x6B63;&#x5728;&#x9AD8;&#x5174;&#x4E4B;&#x9645;&#xFF0C;&#x5F97;&#x77E5;&#x5DE5;&#x8D44;&#x662F;&#x5206;&#x4E24;&#x90E8;&#x5206;&#x53D1;&#x653E;&#x7684;&#x3002;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x8FD9;&#x5B66;&#x671F;&#x7684;&#x5DE5;&#x8D44;&#xFF0C;&#x53E6;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x4E4B;&#x524D;&#x6240;&#x6709;&#x5B66;&#x671F;&#x7684;&#x5DE5;&#x8D44;&#x603B;&#x548C;&#x3002;&#x800C;&#x9886;&#x53D6;&#x5DE5;&#x8D44;&#x65F6;&#xFF0C;&#x51FA;&#x7EB3;&#x5458;&#x4F1A;&#x95EE;&#x4E8C;&#x54E5;&#xFF0C;&#x4E24;&#x90E8;&#x5206;&#x5DE5;&#x8D44;&#x52A0;&#x5728;&#x4E00;&#x8D77;&#x662F;&#x591A;&#x5C11;&#xFF0C;&#x5982;&#x679C;&#x4E8C;&#x54E5;&#x56DE;&#x7B54;&#x9519;&#x4E86;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x9886;&#x5230;&#x8FD9;&#x4E2A;&#x5B66;&#x671F;&#x7684;&#x5DE5;&#x8D44;&#x4E4B;&#x524D;&#x6240;&#x6709;&#x5B66;&#x671F;&#x7684;&#x52B3;&#x52A8;&#x5C31;&#x767D;&#x8D39;&#x4E86;&#x3002; &#x4E8C;&#x54E5;&#x4ECE;&#x5C0F;&#x9053;&#x6D88;&#x606F;&#x5F97;&#x77E5;&#xFF0C;&#x51FA;&#x7EB3;&#x5458;&#x662F;&#x4E2A;&#x5BF9;&#x6570;&#x5B57;&#x654F;&#x611F;&#x7684;&#x4EBA;&#xFF0C;&#x4E0D;&#x80FD;&#x6709;&#x4E00;&#x70B9;&#x5DEE;&#x9519;&#xFF0C;&#x6240;&#x4EE5;&#x4E8C;&#x54E5;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x6765;&#x5E2E;&#x4ED6;&#x7B97;&#x51FA;&#x7CBE;&#x786E;&#x7684;&#x5DE5;&#x8D44;&#x603B;&#x548C;&#x3002; &#x8F93;&#x5165;&#x683C;&#x5F0F; &#x8F93;&#x5165;&#x5171;&#x4E24;&#x884C;&#xFF0C;&#x6BCF;&#x884C;&#x662F;&#x4E00;&#x4E2A;&#x5341;&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7684;&#x5DE5;&#x8D44;&#x91D1;&#x989D;&#xFF08;&#x6CA1;&#x6709;&#x6B63;&#x8D1F;&#x53F7;&#xFF0C;&#x5C0F;&#x6570;&#x70B9;&#x540E;&#x6709;&#x4E24;&#x4F4D;&#x6570;&#x5B57;&#xFF09;&#x3002; &#x8F93;&#x51FA;&#x683C;&#x5F0F; &#x8F93;&#x51FA;&#x5171;&#x4E00;&#x884C;&#xFF0C;&#x5373;&#x7CBE;&#x786E;&#x7684;&#x5DE5;&#x8D44;&#x603B;&#x548C;&#xFF08;&#x6CA1;&#x6709;&#x6B63;&#x8D1F;&#x53F7;&#xFF0C;&#x5C0F;&#x6570;&#x70B9;&#x540E;&#x6709;&#x4E24;&#x4F4D;&#x6570;&#x5B57;&#xFF09;&#x3002; &#x8BF4;&#x660E; &#x5DE5;&#x8D44;&#x91D1;&#x989D;&#x7684;&#x6709;&#x6548;&#x6570;&#x5B57;&#x4F4D;&#x6570;&#x4E0D;&#x8D85;&#x8FC7;200&#x4F4D;&#xFF0C;&#x5E76;&#x4FDD;&#x8BC1;&#x6709;&#x5C0F;&#x6570;&#x70B9;&#x3002; Sample Input 123.45543.21 Sample Output 666.66 &#x601D;&#x8DEF; &#x6574;&#x4F53;&#x601D;&#x8DEF;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x6570;&#x7EC4;&#x4EE3;&#x66FF;double&#x7C7B;&#x578B;&#x5B9E;&#x73B0;&#x5927;&#x6574;&#x6570;&#x7684;&#x76F8;&#x52A0;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;&#x662F;&#xFF1A; &#x5C0F;&#x6570;&#x70B9;&#x7B26;&#x53F7;&#x4E0D;&#x53C2;&#x4E0E;&#x8FD0;&#x7B97; &#x6700;&#x9AD8;&#x4F4D;&#x8FDB;&#x4F4D;&#x540E;&#x8981;&#x8BB0;&#x5F97;&#x8F93;&#x51FA; //// main.c// calculation//// Created by Oscar on 11/09/2017.// Copyright &#xA9; 2017 &#x5218;&#x4E30;&#x745E;. All rights reserved.//#include &lt;stdio.h&gt;#include &quot;stdlib.h&quot;#include &quot;math.h&quot;int main(int argc, const char * argv[]) { int max = 0, m=0, n=0,k; int carry = 0; int sum=0; int temp = 0; int a[200] = {}; int b[200] = {}; int result[210] = {}; while ((temp=getchar())!=&apos;\\n&apos;) { a[m] = temp-&apos;0&apos;; m++; } while ((temp=getchar())!=&apos;\\n&apos;) { b[n] = temp-&apos;0&apos;; n++; } max = n&gt;m?n:m; for (k = 0; k &lt; max; k++) { if (k!=2) { if (k&gt;=n) { result[k] = a[m-k-1] + carry; }else if (k&gt;=m){ result[k] = b[n-k-1] + carry; }else{ result[k] = a[m-k-1] + b[n-k-1] + carry; } if (result[k]&gt;=10) { result[k] = result[k]%10; carry = 1; }else{ carry = 0; } }else{ } } if (carry==1) { printf(&quot;1&quot;); } for (k = 0; k &lt; max; k++) { if (k==max-3) { printf(&quot;.&quot;); }else{ printf(&quot;%d&quot;,result[max-k-1]); } } return 0;}","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"前缀和（SJTU OJ 1002）","slug":"算法/2017-9-13-前缀和","date":"2017-09-12T16:00:00.000Z","updated":"2019-09-17T07:55:58.922Z","comments":true,"path":"2017/09/13/算法/2017-9-13-前缀和/","link":"","permalink":"http://www.liufr.com/2017/09/13/算法/2017-9-13-前缀和/","excerpt":"","text":"SJTU OJ 1002 Description &#x4E8C;&#x54E5;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x540E;&#x82B1;&#x56ED;&#x91CC;&#x79CD;&#x4E86;&#x4E00;&#x4E9B;&#x82B1;&#x751F;&#xFF0C;&#x4E5F;&#x5FEB;&#x5230;&#x4E86;&#x6536;&#x83B7;&#x7684;&#x65F6;&#x5019;&#x4E86;&#x3002;&#x8FD9;&#x7247;&#x82B1;&#x751F;&#x5730;&#x662F;&#x4E00;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A;L&#x3001;&#x5BBD;&#x5EA6;&#x4E3A;W&#x7684;&#x77E9;&#x5F62;&#xFF0C;&#x6BCF;&#x4E2A;&#x5355;&#x4F4D;&#x9762;&#x79EF;&#x4E0A;&#x82B1;&#x751F;&#x4EA7;&#x91CF;&#x90FD;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x3002;&#x4ED6;&#x60F3;&#x77E5;&#x9053;&#xFF0C;&#x5BF9;&#x4E8E;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x533A;&#x57DF;&#x5927;&#x5C0F;&#xFF0C;&#x5728;&#x8FD9;&#x4E48;&#x5927;&#x7684;&#x77E9;&#x5F62;&#x533A;&#x57DF;&#x5185;&#xFF0C;&#x82B1;&#x751F;&#x7684;&#x4EA7;&#x91CF;&#x6700;&#x5927;&#x4F1A;&#x662F;&#x591A;&#x5C11;&#x3002; Input Format &#x7B2C;1&#x884C;&#x6709;2&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x957F;&#x5EA6;L&#x548C;&#x5BBD;&#x5EA6;W&#x3002; &#x7B2C;2&#x884C;&#x81F3;&#x7B2C;L+1&#x884C;&#xFF0C;&#x6BCF;&#x884C;&#x6709;W&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x5206;&#x522B;&#x8868;&#x793A;&#x5BF9;&#x5E94;&#x7684;&#x5355;&#x4F4D;&#x9762;&#x79EF;&#x4E0A;&#x7684;&#x82B1;&#x751F;&#x4EA7;&#x91CF;A&#xFF08; 0&lt; A&lt;10 ) &#x3002; &#x7B2C;L+2&#x884C;&#x6709;2&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x6307;&#x5B9A;&#x7684;&#x533A;&#x57DF;&#x5927;&#x5C0F;&#x7684;&#x957F;&#x5EA6;a&#x548C;&#x5BBD;&#x5EA6;b&#x3002; Output Format &#x8F93;&#x51FA;&#x4E00;&#x4E2A;&#x6574;&#x6570;m&#xFF0C;&#x8868;&#x793A;&#x5728;&#x6307;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x533A;&#x57DF;&#x5185;&#xFF0C;&#x82B1;&#x751F;&#x6700;&#x5927;&#x4EA7;&#x91CF;&#x4E3A;m&#x3002; Sample Input 4 51 2 3 4 56 7 8 0 00 9 2 2 33 0 0 0 13 3 Sample Output 38 &#x6837;&#x4F8B;&#x89E3;&#x91CA; &#x5DE6;&#x4E0A;&#x89D2;&#xFF1A;38 = (1+2+3) + (6+7+8) + (0+9+2) &#x6570;&#x636E;&#x8303;&#x56F4; &#x5BF9;&#x4E8E;30%&#x7684;&#x6570;&#x636E;&#xFF1A; ( 1 &lt; L,W &lt; 100 )&#xFF1B; &#x5BF9;&#x4E8E;100%&#x7684;&#x6570;&#x636E;&#xFF1A; ( 1 &lt; L,W &lt; 1000 ); &#x5168;&#x90E8;&#x533A;&#x57DF;&#x5927;&#x5C0F;&#x6EE1;&#x8DB3;&#xFF1A;( 1 &lt; a &lt; L &#xFF0C;1 &lt; b &lt; W ) &#x3002; &#x89E3;&#x6CD5; &#x5176;&#x5B9E;&#x8FD9;&#x9053;&#x9898;&#x6709;&#x4E00;&#x70B9;&#x7269;&#x5316;&#x6280;&#x672F;&#x7684;&#x601D;&#x60F3;&#xFF0C;&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x66B4;&#x529B;&#x8BA1;&#x7B97;&#x7684;&#x8BDD;&#x6211;&#x4EEC;&#x4F1A;&#x53D1;&#x73B0;&#x6709;&#x5F88;&#x591A;&#x90E8;&#x5206;&#x662F;&#x91CD;&#x590D;&#x8BA1;&#x7B97;&#x7684;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x5904;&#x7406;&#x5F53;&#x4E2D;&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x91CD;&#x590D;&#x8BA1;&#x7B97;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x4E8B;&#x5148;&#x8BA1;&#x7B97;&#x597D;&#x7684;&#x503C;&#x4FDD;&#x5B58;&#x4E0B;&#x6765;&#xFF0C;&#x51CF;&#x5C11;&#x8BA1;&#x7B97;&#x7684;&#x590D;&#x6742;&#x5EA6;&#x3002; &#x5728;&#x7F51;&#x4E0A;&#x6709;&#x7684;&#x4EBA;&#x662F;&#x7528;&apos;&#x524D;&#x7F00;&#x548C;&apos;&#x8FD9;&#x6837;&#x7684;&#x6982;&#x5FF5;&#x6765;&#x63CF;&#x8FF0;&#x5E76;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#xFF1A; &#x6211;&#x4EEC;&#x5148;&#x8003;&#x8651;&#x4E00;&#x7EF4;&#x7684;&#x60C5;&#x5F62;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4E8B;&#x5148;&#x8BA1;&#x7B97;&#x51FA; pre[i] &#x8868;&#x793A;&#x524D;1-i&#x4E2A;&#x683C;&#x5B50;&#x5185;&#x6570;&#x5B57;&#x4E4B;&#x548C;&#xFF0C;&#x90A3;&#x4E48;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x5904;&#x7406;&#x4E4B;&#x540E;&#xFF0C;&#x6BCF;&#x6B21;&#x60F3;&#x8981;&#x5F97;&#x5230;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x533A;&#x95F4; [l, r]&#x7684;&#x6570;&#x5B57;&#x548C;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8BA1;&#x7B97; pre[r] - pre[l -1]&#x5373;&#x53EF;&#x3002;&#x968F;&#x5373;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x63A8;&#x5E7F;&#x5230;&#x4E8C;&#x7EF4;&#xFF0C;&#x4E8B;&#x5148;&#x8BA1;&#x7B97;pre[i][j]&#x8868;&#x793A;&#x4EE5;1, 1&#x4E3A;&#x5DE6;&#x4E0A;&#x89D2;&#xFF0C;i, j&#x4E3A;&#x53F3;&#x4E0B;&#x89D2;&#x7684;&#x77E9;&#x5F62;&#x5185;&#x6570;&#x5B57;&#x4E4B;&#x548C;&#x3002;&#x90A3;&#x4E48;&#x4E0D;&#x96BE;&#x63A8;&#x51FA;&#x5982;&#x679C;&#x8981;&#x53D6;&#x5F97;&#x4EE5;x1, y1&#x4E3A;&#x5DE6;&#x4E0A;&#x89D2; x2, y2&#x4E3A;&#x53F3;&#x4E0B;&#x89D2;&#x7684;&#x77E9;&#x5F62;&#x5185;&#x6570;&#x5B57;&#x4E4B;&#x548C;&#xFF0C;&#x53EA;&#x9700;&#x8BA1;&#x7B97; pre[x2][y2] - pre[x1 - 1][y2] - pre[x2][y1 - 1] + pre[x1 - 1][y1 - 1] &#x5373;&#x53EF;&#x3002; #include&lt;iostream&gt;using namespace std;int main(){ int L(0), W(0), t(0); cin &gt;&gt; L &gt;&gt; W; //&#x8F93;&#x5165;&#x82B1;&#x751F;&#x5730;&#x7684;&#x957F;&#x548C;&#x5BBD; //&#x5B9A;&#x4E49;&#x6570;&#x7EC4; int **store = new int*[L]; for (int i = 0; i &lt; L; ++i) store[i] = new int[W]; for (int i = 0; i &lt; L; ++i){ for (int j = 0; j &lt; W; ++j){ cin &gt;&gt; t; if (j&gt;0&amp;&amp;i&gt;0)store[i][j] = store[i-1][j] + t + store[i][j-1] - store[i-1][j-1]; else if (j&gt;0 &amp;&amp; i == 0)store[i][j] = t + store[i][j-1]; else if (i &gt; 0 &amp;&amp; j == 0)store[i][j] = t + store[i - 1][j]; else store[i][j] = t; } } int l, w, result(0), temp(0); cin &gt;&gt; l &gt;&gt; w;//&#x83B7;&#x5F97;&#x76EE;&#x6807;&#x533A;&#x5757;&#x7684;&#x5927;&#x5C0F; //&#x904D;&#x5386;&#x8BA1;&#x7B97; for (int i = l - 1; i &lt; L; ++i){ for (int j = w - 1; j &lt; W; ++j){ if(i == l- 1 &amp;&amp; j == w - 1)temp = store[i][j]; else if (i == l - 1 &amp;&amp; j != w - 1)temp = store[i][j] - store[i][j - w]; else if (i != l - 1 &amp;&amp; j == w - 1)temp = store[i][j] - store[i - l][j]; else temp = store[i][j] - store[i - l][j] - store[i][j-w] + store[i-l][j-w]; if (temp &gt;= result)result = temp; } } cout &lt;&lt; result;//&#x8F93;&#x51FA;&#x7ED3;&#x679C; //&#x91CA;&#x653E;&#x5185;&#x5B58;&#xFF01; for (int i = 0; i &lt; L; ++i) delete[] store[i]; delete[] store; return 0;}","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"Ego networks","slug":"网络/2017-07-14-Ego networks","date":"2017-07-13T16:00:00.000Z","updated":"2019-09-17T10:46:44.707Z","comments":true,"path":"2017/07/14/网络/2017-07-14-Ego networks/","link":"","permalink":"http://www.liufr.com/2017/07/14/网络/2017-07-14-Ego networks/","excerpt":"","text":"&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7406;&#x89E3;&#x4E3A;&#xFF0C;Ego network &#x4FA7;&#x91CD;&#x7814;&#x7A76;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x5C40;&#x90E8;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x67D0;&#x4E00;&#x4E2A;&#x4F53;&#x7684;&#x6027;&#x8D28;&#xFF0C;&#x8FD9;&#x79CD;&#x7F51;&#x7EDC;&#x5E38;&#x5E38;&#x51FA;&#x73B0;&#x5728;&#x793E;&#x4EA4;&#x7F51;&#x7EDC;&#x7814;&#x7A76;&#x4E2D;&#xFF0C; 2016&#x5E74;infocom workshop&#x4E0A;&#x9762;&#x7684;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;Distributed Probabilistic Caching Strategy in VANETs through Named Data Networking &#x63D0;&#x5230;&#x4E86;&#x8FD9;&#x79CD;&#x7F51;&#x7EDC;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5C06;&#x8FD9;&#x79CD;&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#x8FD0;&#x7528;&#x5230;VANET&#x5F53;&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x7ED3;&#x5408;Degree and Betweenness measures&#x7B49;&#x6765;&#x786E;&#x5B9A;&#x4E2D;&#x5FC3;&#x8282;&#x70B9;&#x3002; ego network &#x5176;&#x4E2D;ego&#x5C31;&#x662F;&#x4E2D;&#x5FC3;&#x8282;&#x70B9;&#xFF0C;&#x5176;&#x5B83;&#x5C31;&#x662F;&#x90BB;&#x5C45;&#x8282;&#x70B9;&#xFF08;alert&#xFF09;,&#x6BCF;&#x4E00;&#x4E2A;ego&#x7F51;&#x7EDC;&#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x4E2D;&#x5FC3;&#x8282;&#x70B9;&#xFF0C;&#x4EE5;&#x53CA;&#x82E5;&#x5E72;&#x4E0E;&#x5176;&#x76F8;&#x8FDE;&#x7684;&#xFF08;tie&#xFF09;&#x7684;&#x90BB;&#x5C45;&#x8282;&#x70B9;&#x3002; &#x5982;&#x4F55;&#x8BA1;&#x7B97;ego network&#x7684;betweenness&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8BBA;&#x6587;&#x3002; &#x4E3B;&#x8981;&#x601D;&#x60F3;&#x5C31;&#x662F;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x4EE5;ego&#x4E3A;&#x4E2D;&#x5FC3;&#x7684;&#x77E9;&#x9635;&#xFF0C;&#x5728;&#x77E9;&#x9635;&#x4E2D;&#x4E3A;&#x7B2C;&#x4E00;&#x884C;&#x7B2C;&#x4E00;&#x5217;&#xFF0C;&#x90BB;&#x5C45;&#x8282;&#x70B9;&#x8865;&#x5145;&#x4E3A;&#x5176;&#x5B83;&#x884C;&#x5217;&#x3002; 0&#x8868;&#x793A;&#x4E0D;&#x8FDE;&#x901A;&#xFF0C;1&#x8868;&#x793A;&#x8FDE;&#x901A;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x89D2;&#x7EBF;&#x4E3A;&#x5168;0. &#x5982;&#x679C;&#x662F;&#x65E0;&#x5411;&#x56FE;&#xFF0C;&#x53EF;&#x4EE5;&#x548C;&#x5BB9;&#x6613;&#x53D1;&#x73B0;&#x8FD9;&#x4E2A;&#x77E9;&#x9635;&#x662F;&#x5BF9;&#x79F0;&#x77E9;&#x9635;&#xFF0C;&#x8BA1;&#x7B97;betweeness&#x53EF;&#x4EE5;&#x7528;&#x4EE5;&#x4E0B;&#x77E9;&#x9635; betweeness &#x4E3A;&#x4E0A;&#x8FF0;&#x77E9;&#x9635;&#x4E2D;&#x7684;&#x503C;&#x7684;&#x5012;&#x6570;&#x548C;&#xFF0C;&#x56FE;&#x4F8B;&#x4E2D;&#x8BA1;&#x7B97;&#x7684;&#x503C;&#x4E3A;3.5&#x3002;","categories":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/categories/Networking/"}],"tags":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/tags/Networking/"}],"author":"刘丰瑞"},{"title":"tf-idf","slug":"算法/2017-7-14-tf-idf","date":"2017-07-13T16:00:00.000Z","updated":"2019-09-17T07:55:41.018Z","comments":true,"path":"2017/07/14/算法/2017-7-14-tf-idf/","link":"","permalink":"http://www.liufr.com/2017/07/14/算法/2017-7-14-tf-idf/","excerpt":"","text":"tf-idf: term-frequency-inverse document frequency &#x8FD9;&#x79CD;&#x6280;&#x672F;&#x5E38;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x6587;&#x672C;&#x6316;&#x6398;&#xFF0C;&#x53EF;&#x4EE5;&#x8BC4;&#x4F30;&#x51FA;&#x67D0;&#x4E00;&#x4E2A;&#x8BED;&#x6599;&#x5E93;&#x4E2D;&#x7684;&#x5355;&#x8BCD;&#x3001;&#x6587;&#x4EF6;&#x96C6;&#x7684;&#x91CD;&#x8981;&#x7A0B;&#x5EA6;&#x3002; term frequency &#x4F5C;&#x4E3A;&#x8BCD;&#x9891;&#xFF0C;&#x662F;&#x8BCD;&#x6570;&#x7684;&#x5F52;&#x4E00;&#x5316;&#x8868;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x5B83;&#x504F;&#x5411;&#x957F;&#x6587;&#x4EF6;&#x3002; &#x5206;&#x5B50;&#x4E2D; \\(n_{i,j}\\) &#x662F;&#x8BE5;&#x8BCD;&#x5728;&#x6587;&#x4EF6; \\(d_j\\) &#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x5206;&#x6BCD;&#x662F;&#x6587;&#x4EF6; \\(d_j\\) &#x4E2D;&#x6240;&#x6709;&#x5B57;&#x8BCD;&#x7684;&#x51FA;&#x73B0;&#x6B21;&#x6570;&#x4E4B;&#x548C;&#x3002; \\[ tf_{i,j} = \\frac {n_{i,j}}{\\sum_kn_{k,j}} \\] inverse document frequency &#x9006;&#x5411;&#x6587;&#x4EF6;&#x9891;&#x7387;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8BCD;&#x8BED;&#x666E;&#x904D;&#x91CD;&#x8981;&#x6027;&#x7684;&#x5EA6;&#x91CF;&#xFF0C;&#x7531;&#x603B;&#x6587;&#x4EF6;&#x6570;&#x76EE; &#x9664;&#x4EE5;&#x5305;&#x542B;&#x8BE5;&#x8BCD;&#x8BED;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x76EE;&#xFF0C;&#x518D;&#x5C06;&#x5F97;&#x5230;&#x7684;&#x5546;&#x53D6;&#x5BF9;&#x6570;&#x3002;\\(|D|\\) &#x662F;&#x8BED;&#x6599;&#x5E93;&#x4E2D;&#x6587;&#x4EF6;&#x603B;&#x6570;&#xFF0C;\\(|\\{j:t_i\\in d_j\\}|\\) &#x8868;&#x793A;&#x5305;&#x542B;&#x8BE5;&#x8BCD;&#x8BED;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x82E5;&#x503C;&#x4E3A;0&#xFF0C;&#x7528; \\(|\\{j:t_i\\in d_j\\}|+1\\) &#x6765;&#x4EE3;&#x66FF;&#x3002; \\[ idf_i=log\\frac{|D|}{|\\{j:t_i\\in d_j\\}|} \\] &#x7EFC;&#x4E0A;&#x6240;&#x8FF0;&#xFF0C; \\[ rfidf_{i,j} = tf_{i,j}*idf_{i} \\] &#x5E94;&#x7528;&#xFF1A;tfidf&#x5E38;&#x5E38;&#x4E0E;&#x4F59;&#x5F26;&#x76F8;&#x4F3C;&#x6027;&#x5E76;&#x7528;&#xFF0C;&#x5177;&#x4F53;&#x6B65;&#x9AA4;&#x4E3A;&#xFF1A;&#x5206;&#x8BCD;&#xFF0C;&#x8BA1;&#x7B97;&#x8BCD;&#x9891;&#xFF0C;&#x5199;&#x51FA;&#x8BCD;&#x9891;&#x5411;&#x91CF;&#xFF0C;&#x8BA1;&#x7B97;&#x4F59;&#x5F26;&#x503C; &#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A; * tf-idf * TF-IDF&#x4E0E;&#x4F59;&#x5F26;&#x76F8;&#x4F3C;&#x6027;&#x7684;&#x5E94;&#x7528;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"VANET仿真-ns3(6)","slug":"VANET/2017-3-15-Vanet仿真-ns3(6)","date":"2017-03-14T16:00:00.000Z","updated":"2019-09-17T10:54:55.504Z","comments":true,"path":"2017/03/15/VANET/2017-3-15-Vanet仿真-ns3(6)/","link":"","permalink":"http://www.liufr.com/2017/03/15/VANET/2017-3-15-Vanet仿真-ns3(6)/","excerpt":"","text":"VANET &#x4EFF;&#x771F; ns3/examples/routing/manet-routing-compare.cc &#x8BE5;&#x4EE3;&#x7801;&#x662F;&#x5728;ns-3&#x4E0A;&#x8FD0;&#x884C;DSDV&#xFF0C;AODV&#xFF0C;OLSR&#xFF0C;&#x4EFF;&#x771F;&#x573A;&#x666F;&#x662F;&#x5178;&#x578B;&#x7684;&#x968F;&#x673A;&#x8FD0;&#x52A8;&#x6A21;&#x578B;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6A21;&#x62DF;&#x5171;200s&#xFF0C;&#x524D;50s&#x662F;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#xFF1B;&#x5171;50&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x8282;&#x70B9;&#x9075;&#x4ECE;RandomWaypointMobilityModel&#x6A21;&#x578B;&#xFF0C;&#x8FD0;&#x52A8;&#x901F;&#x5EA6;20m/s&#xFF0C;&#x65E0;&#x6682;&#x505C;&#xFF0C;&#x8FD0;&#x52A8;&#x8303;&#x56F4;300*1500 m&#x7684;&#x533A;&#x57DF;&#x8303;&#x56F4;&#x4E4B;&#x5185;&#x3002;WiFi&#x7684;&#x4F20;&#x64AD;&#x901F;&#x5EA6;&#x4E3A;2Mb/s&#xFF0C;&#x9075;&#x5B88;Friis loss model(&#x8BA4;&#x4E3A;&#x662F;ns-3&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x6A21;&#x578B;)&#xFF0C;&#x5E7F;&#x64AD;&#x53D1;&#x5C04;&#x529F;&#x7387;&#x4E3A;7.5dBm&#x3002; &#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x8FD0;&#x52A8;&#x4E0E;&#x5BC6;&#x5EA6;&#x6A21;&#x578B;&#x3001;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x901F;&#x5EA6;&#x548C;&#x8282;&#x70B9;&#x6570;&#x91CF;&#x88AB;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x53D1;&#x5C04;&#x529F;&#x7387;&#xFF08;&#x5F88;&#x663E;&#x7136;&#xFF0C;&#x5F53;&#x53D1;&#x5C04;&#x529F;&#x7387;&#x589E;&#x52A0;&#x65F6;&#xFF0C;&#x8FD0;&#x52A8;&#x6240;&#x9020;&#x6210;&#x7684;&#x5F71;&#x54CD;&#x5C31;&#x51CF;&#x5C11;&#x4E86;&#xFF0C;&#x5BC6;&#x5EA6;&#x9020;&#x6210;&#x7684;&#x5F71;&#x54CD;&#x76F8;&#x5E94;&#x589E;&#x5927;&#xFF09;&#x3002; &#x9ED8;&#x8BA4;&#x662F;OLSR&#x8DEF;&#x7531;&#x534F;&#x8BAE;&#xFF0C;&#x53C2;&#x6570;2&#x662F;AODV&#xFF0C;3&#x662F;DSDV&#x3002; &#x9ED8;&#x8BA4;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x6709;10&#x5BF9;&#x6E90;&#x6570;&#x636E;&#x5BF9;&#x53D1;&#x9001;UDP&#xFF0C;&#x901F;&#x5EA6;&#x4E3A;2.048 kbps&#x3002;&#x5747;&#x5728;50~51s&#x5185;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x3002; &#x6807;&#x51C6;&#x8F93;&#x51FA; 1. &#x5305;&#x63A5;&#x6536;&#xFF1A; received one packet from 2. &#x6BCF;&#x79D2;&#x6570;&#x636E;&#x63A5;&#x6536;&#x90FD;&#x4F1A;&#x5236;&#x8868;&#x5E76;&#x8F93;&#x51FA;&#x6210;csv&#x6587;&#x4EF6; 3. &#x4E00;&#x4E9B;&#x8FFD;&#x8E2A;&#x548C;&#x6D41;&#x76D1;&#x89C6;&#x5668;&#x4F1A;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x8F93;&#x51FA;&#x4E00;&#x4E9B;&#x72B6;&#x6001;&#x4FE1;&#x606F; #include &lt;fstream&gt;#include &lt;iostream&gt;#include &quot;ns3/core-module.h&quot;#include &quot;ns3/network-module.h&quot;#include &quot;ns3/internet-module.h&quot;#include &quot;ns3/mobility-module.h&quot;#include &quot;ns3/wifi-module.h&quot;#include &quot;ns3/aodv-module.h&quot;#include &quot;ns3/olsr-module.h&quot;#include &quot;ns3/dsdv-module.h&quot;#include &quot;ns3/dsr-module.h&quot;#include &quot;ns3/applications-module.h&quot;using namespace ns3;using namespace dsr;NS_LOG_COMPONENT_DEFINE (&quot;manet-routing-compare&quot;);class RoutingExperiment{public: RoutingExperiment (); void Run (int nSinks, double txp, std::string CSVfileName); //static void SetMACParam (ns3::NetDeviceContainer &amp; devices, // int slotDistance); std::string CommandSetup (int argc, char \\**argv);private: Ptr&lt;Socket&gt; SetupPacketReceive (Ipv4Address addr, Ptr&lt;Node&gt; node); void ReceivePacket (Ptr&lt;Socket&gt; socket); void CheckThroughput (); uint32_t port; uint32_t bytesTotal; uint32_t packetsReceived; std::string m_CSVfileName; int m_nSinks; std::string m_protocolName; double m_txp; bool m_traceMobility; uint32_t m_protocol;};//&#x8BBE;&#x7F6E;&#x7AEF;&#x53E3;&#x53F7;&#x3001;&#x5B57;&#x8282;&#x6570;&#x3001;&#x63A5;&#x6536;&#x5305;&#x7684;&#x4E2A;&#x6570;&#x3001;CSV&#x6587;&#x4EF6;&#x540D;&#x3001;&#x79FB;&#x52A8;&#x8FFD;&#x8E2A;&#x3001;&#x534F;&#x8BAE;&#x7B49;RoutingExperiment::RoutingExperiment () : port (9), bytesTotal (0), packetsReceived (0), m_CSVfileName (&quot;manet-routing.output.csv&quot;), m_traceMobility (false), m_protocol (2) // AODV{}//&#x5728;RoutingExperiment::ReceivePacket&#x4E2D;&#x4F7F;&#x7528;static inline std::stringPrintReceivedPacket (Ptr&lt;Socket&gt; socket, Ptr&lt;Packet&gt; packet, Address senderAddress){ //&#x81EA;&#x52A8;&#x5206;&#x914D;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x683C;&#x5F0F;&#x5316;&#x5B57;&#x7B26;&#x4E32; std::ostringstream oss; oss &lt;&lt; Simulator::Now ().GetSeconds () &lt;&lt; &quot; &quot; &lt;&lt; socket-&gt;GetNode ()-&gt;GetId (); //&#x5982;&#x679C;&#x627E;&#x5230;&#x5339;&#x914D;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x628A;&#x5730;&#x5740;&#x4E5F;&#x8868;&#x793A;&#x51FA;&#x6765; if (InetSocketAddress::IsMatchingType (senderAddress)) { InetSocketAddress addr = InetSocketAddress::ConvertFrom (senderAddress); oss &lt;&lt; &quot; received one packet from &quot; &lt;&lt; addr.GetIpv4 (); } else { oss &lt;&lt; &quot; received one packet!&quot;; } return oss.str ();}voidRoutingExperiment::ReceivePacket (Ptr&lt;Socket&gt; socket){ Ptr&lt;Packet&gt; packet; Address senderAddress; //&#x4ECE;socket&#x4E2D;&#x8BFB;&#x53D6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;packet&#xFF0C;&#x5E76;&#x4E14;&#x68C0;&#x7D22;&#x53D1;&#x9001;&#x5730;&#x5740;&#xFF0C;&#x4FDD;&#x5B58;&#x5230;&#x53D8;&#x91CF;senderAddress&#x4E2D; while ((packet = socket-&gt;RecvFrom (senderAddress))) { bytesTotal += packet-&gt;GetSize (); packetsReceived += 1; NS_LOG_UNCOND (PrintReceivedPacket (socket, packet, senderAddress)); }}voidRoutingExperiment::CheckThroughput (){ //&#x5148;&#x8BA1;&#x7B97;kbs&#xFF0C;&#x7136;&#x540E;&#x518D;&#x628A;bytesTotal&#x6E05;&#x96F6;&#xFF0C;&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x4E0B;&#x4E00;&#x6B21;&#x7684;kbs double kbs = (bytesTotal * 8.0) / 1000; bytesTotal = 0; //&#x5199;&#x64CD;&#x4F5C;&#x5230;csv&#x6587;&#x4EF6;&#x4E2D; std::ofstream out (m_CSVfileName.c_str (), std::ios::app); out &lt;&lt; (Simulator::Now ()).GetSeconds () &lt;&lt; &quot;,&quot; &lt;&lt; kbs &lt;&lt; &quot;,&quot; &lt;&lt; packetsReceived &lt;&lt; &quot;,&quot; &lt;&lt; m_nSinks &lt;&lt; &quot;,&quot; &lt;&lt; m_protocolName &lt;&lt; &quot;,&quot; &lt;&lt; m_txp &lt;&lt; &quot;&quot; &lt;&lt; std::endl; out.close (); //&#x540C;&#x7406;&#xFF0C;&#x8FD9;&#x91CC;packetsReceived&#x4E5F;&#x9700;&#x8981;&#x6E05;&#x96F6; packetsReceived = 0; //&#x8BBE;&#x7F6E;1s&#x5EF6;&#x65F6;&#x4E4B;&#x540E;&#x6267;&#x884C;CheckThroughput&#xFF0C;this&#x6807;&#x660E;&#x662F;&#x8C01;&#x5524;&#x9192;&#x6210;&#x5458;&#x51FD;&#x6570; Simulator::Schedule (Seconds (1.0), &amp;RoutingExperiment::CheckThroughput, this);}Ptr&lt;Socket&gt;RoutingExperiment::SetupPacketReceive (Ipv4Address addr, Ptr&lt;Node&gt; node){ //&#x901A;&#x8FC7;&#x540D;&#x5B57;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;TypeId TypeId tid = TypeId::LookupByName (&quot;ns3::UdpSocketFactory&quot;); Ptr&lt;Socket&gt; sink = Socket::CreateSocket (node, tid); InetSocketAddress local = InetSocketAddress (addr, port); sink-&gt;Bind (local); //&#x8BBE;&#x7F6E;&#x56DE;&#x8C03; sink-&gt;SetRecvCallback (MakeCallback (&amp;RoutingExperiment::ReceivePacket, this)); return sink;}std::stringRoutingExperiment::CommandSetup (int argc, char \\**argv){ CommandLine cmd; cmd.AddValue (&quot;CSVfileName&quot;, &quot;The name of the CSV output file name&quot;, m_CSVfileName); cmd.AddValue (&quot;traceMobility&quot;, &quot;Enable mobility tracing&quot;, m_traceMobility); cmd.AddValue (&quot;protocol&quot;, &quot;1=OLSR;2=AODV;3=DSDV;4=DSR&quot;, m_protocol); cmd.Parse (argc, argv); return m_CSVfileName;}intmain (int argc, char \\*argv[]){ RoutingExperiment experiment; std::string CSVfileName = experiment.CommandSetup (argc,argv); //blank out the last output file and write the column headers std::ofstream out (CSVfileName.c_str ()); out &lt;&lt; &quot;SimulationSecond,&quot; &lt;&lt; &quot;ReceiveRate,&quot; &lt;&lt; &quot;PacketsReceived,&quot; &lt;&lt; &quot;NumberOfSinks,&quot; &lt;&lt; &quot;RoutingProtocol,&quot; &lt;&lt; &quot;TransmissionPower&quot; &lt;&lt; std::endl; out.close (); int nSinks = 10; double txp = 7.5; //&#x8282;&#x70B9;&#x6570;10&#xFF0C;&#x4F20;&#x64AD;&#x529F;&#x7387;7.5 experiment.Run (nSinks, txp, CSVfileName);}voidRoutingExperiment::Run (int nSinks, double txp, std::string CSVfileName){ Packet::EnablePrinting (); m_nSinks = nSinks; m_txp = txp; m_CSVfileName = CSVfileName; int nWifis = 50; double TotalTime = 200.0; std::string rate (&quot;2048bps&quot;); std::string phyMode (&quot;DsssRate11Mbps&quot;); std::string tr_name (&quot;manet-routing-compare&quot;); int nodeSpeed = 20; //in m/s int nodePause = 0; //in s m_protocolName = &quot;protocol&quot;; //&#x8FD9;&#x91CC;OnOffApplication&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x5355;&#x5411;&#x7684;&#x4EA4;&#x901A;&#x6D41;&#xFF0C;&#x6709;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E; Config::SetDefault (&quot;ns3::OnOffApplication::PacketSize&quot;,StringValue (&quot;64&quot;)); Config::SetDefault (&quot;ns3::OnOffApplication::DataRate&quot;, StringValue (rate)); //&#x5C06;&#x975E;&#x5355;&#x64AD;&#x6A21;&#x5F0F;&#x8BBE;&#x7F6E;&#x6210;&#x5355;&#x64AD; Config::SetDefault (&quot;ns3::WifiRemoteStationManager::NonUnicastMode&quot;,StringValue (phyMode)); NodeContainer adhocNodes; adhocNodes.Create (nWifis); // setting up wifi phy and channel using helpers WifiHelper wifi; wifi.SetStandard (WIFI_PHY_STANDARD_80211b); YansWifiPhyHelper wifiPhy = YansWifiPhyHelper::Default (); YansWifiChannelHelper wifiChannel; wifiChannel.SetPropagationDelay (&quot;ns3::ConstantSpeedPropagationDelayModel&quot;); wifiChannel.AddPropagationLoss (&quot;ns3::FriisPropagationLossModel&quot;); wifiPhy.SetChannel (wifiChannel.Create ()); // Add a mac and disable rate control WifiMacHelper wifiMac; wifi.SetRemoteStationManager (&quot;ns3::ConstantRateWifiManager&quot;, &quot;DataMode&quot;,StringValue (phyMode), &quot;ControlMode&quot;,StringValue (phyMode)); wifiPhy.Set (&quot;TxPowerStart&quot;,DoubleValue (txp)); wifiPhy.Set (&quot;TxPowerEnd&quot;, DoubleValue (txp)); wifiMac.SetType (&quot;ns3::AdhocWifiMac&quot;); NetDeviceContainer adhocDevices = wifi.Install (wifiPhy, wifiMac, adhocNodes); MobilityHelper mobilityAdhoc; //&#x4E3A;&#x4E86;&#x80FD;&#x6301;&#x7EED;&#x6027;&#x5730;&#x5F97;&#x5230;&#x79FB;&#x52A8;&#x4EA4;&#x53C9;&#x573A;&#x666F; int64_t streamIndex = 0; // used to get consistent mobility across scenarios //&#x8BBE;&#x7F6E;&#x8FD0;&#x52A8;&#x8303;&#x56F4; ObjectFactory pos; pos.SetTypeId (&quot;ns3::RandomRectanglePositionAllocator&quot;); pos.Set (&quot;X&quot;, StringValue (&quot;ns3::UniformRandomVariable[Min=0.0|Max=300.0]&quot;)); pos.Set (&quot;Y&quot;, StringValue (&quot;ns3::UniformRandomVariable[Min=0.0|Max=1500.0]&quot;)); Ptr&lt;PositionAllocator&gt; taPositionAlloc = pos.Create ()-&gt;GetObject&lt;PositionAllocator&gt; (); streamIndex += taPositionAlloc-&gt;AssignStreams (streamIndex); std::stringstream ssSpeed; ssSpeed &lt;&lt; &quot;ns3::UniformRandomVariable[Min=0.0|Max=&quot; &lt;&lt; nodeSpeed &lt;&lt; &quot;]&quot;; std::stringstream ssPause; ssPause &lt;&lt; &quot;ns3::ConstantRandomVariable[Constant=&quot; &lt;&lt; nodePause &lt;&lt; &quot;]&quot;; mobilityAdhoc.SetMobilityModel (&quot;ns3::RandomWaypointMobilityModel&quot;, &quot;Speed&quot;, StringValue (ssSpeed.str ()), &quot;Pause&quot;, StringValue (ssPause.str ()), &quot;PositionAllocator&quot;, PointerValue (taPositionAlloc)); mobilityAdhoc.SetPositionAllocator (taPositionAlloc); mobilityAdhoc.Install (adhocNodes); streamIndex += mobilityAdhoc.AssignStreams (adhocNodes, streamIndex); AodvHelper aodv; OlsrHelper olsr; DsdvHelper dsdv; DsrHelper dsr; DsrMainHelper dsrMain; Ipv4ListRoutingHelper list; InternetStackHelper internet; switch (m_protocol) { case 1: list.Add (olsr, 100); m_protocolName = &quot;OLSR&quot;; break; case 2: list.Add (aodv, 100); m_protocolName = &quot;AODV&quot;; break; case 3: list.Add (dsdv, 100); m_protocolName = &quot;DSDV&quot;; break; case 4: m_protocolName = &quot;DSR&quot;; break; default: NS_FATAL_ERROR (&quot;No such protocol:&quot; &lt;&lt; m_protocol); } if (m_protocol &lt; 4) { internet.SetRoutingHelper (list); internet.Install (adhocNodes); } else if (m_protocol == 4) { internet.Install (adhocNodes); dsrMain.Install (dsr, adhocNodes); } NS_LOG_INFO (&quot;assigning ip address&quot;); Ipv4AddressHelper addressAdhoc; addressAdhoc.SetBase (&quot;10.1.1.0&quot;, &quot;255.255.255.0&quot;); Ipv4InterfaceContainer adhocInterfaces; adhocInterfaces = addressAdhoc.Assign (adhocDevices); OnOffHelper onoff1 (&quot;ns3::UdpSocketFactory&quot;,Address ()); onoff1.SetAttribute (&quot;OnTime&quot;, StringValue (&quot;ns3::ConstantRandomVariable[Constant=1.0]&quot;)); onoff1.SetAttribute (&quot;OffTime&quot;, StringValue (&quot;ns3::ConstantRandomVariable[Constant=0.0]&quot;)); for (int i = 0; i &lt; nSinks; i++) { Ptr&lt;Socket&gt; sink = SetupPacketReceive (adhocInterfaces.GetAddress (i), adhocNodes.Get (i)); AddressValue remoteAddress (InetSocketAddress (adhocInterfaces.GetAddress (i), port)); onoff1.SetAttribute (&quot;Remote&quot;, remoteAddress); Ptr&lt;UniformRandomVariable&gt; var = CreateObject&lt;UniformRandomVariable&gt; (); ApplicationContainer temp = onoff1.Install (adhocNodes.Get (i + nSinks)); temp.Start (Seconds (var-&gt;GetValue (100.0,101.0))); temp.Stop (Seconds (TotalTime)); } std::stringstream ss; ss &lt;&lt; nWifis; std::string nodes = ss.str (); std::stringstream ss2; ss2 &lt;&lt; nodeSpeed; std::string sNodeSpeed = ss2.str (); std::stringstream ss3; ss3 &lt;&lt; nodePause; std::string sNodePause = ss3.str (); std::stringstream ss4; ss4 &lt;&lt; rate; std::string sRate = ss4.str (); //NS_LOG_INFO (&quot;Configure Tracing.&quot;); //tr_name = tr_name + &quot;_&quot; + m_protocolName +&quot;_&quot; + nodes + &quot;nodes_&quot; + sNodeSpeed + &quot;speed_&quot; + sNodePause + &quot;pause_&quot; + sRate + &quot;rate&quot;; //AsciiTraceHelper ascii; //Ptr&lt;OutputStreamWrapper&gt; osw = ascii.CreateFileStream ( (tr_name + &quot;.tr&quot;).c_str()); //wifiPhy.EnableAsciiAll (osw); AsciiTraceHelper ascii; MobilityHelper::EnableAsciiAll (ascii.CreateFileStream (tr_name + &quot;.mob&quot;)); //Ptr&lt;FlowMonitor&gt; flowmon; //FlowMonitorHelper flowmonHelper; //flowmon = flowmonHelper.InstallAll (); NS_LOG_INFO (&quot;Run Simulation.&quot;); CheckThroughput (); Simulator::Stop (Seconds (TotalTime)); Simulator::Run (); //flowmon-&gt;SerializeToXmlFile ((tr_name + &quot;.flowmon&quot;).c_str(), false, false); Simulator::Destroy ();} &#x4EFF;&#x771F;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4F7F;&#x7528;netanim&#x6765;&#x5BFC;&#x51FA;xml&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x628A;asciihelper&#x6CE8;&#x91CA;&#x6389;&#xFF0C;&#x5426;&#x5219;&#x6709;&#x51B2;&#x7A81;&#xFF0C;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01;","categories":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/categories/VANET/"}],"tags":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/tags/VANET/"},{"name":"ns3","slug":"ns3","permalink":"http://www.liufr.com/tags/ns3/"}],"author":"刘丰瑞"},{"title":"VANET仿真-ns3(5)","slug":"VANET/2017-3-13-Vanet仿真-ns3(5)","date":"2017-03-12T16:00:00.000Z","updated":"2019-09-17T10:54:53.829Z","comments":true,"path":"2017/03/13/VANET/2017-3-13-Vanet仿真-ns3(5)/","link":"","permalink":"http://www.liufr.com/2017/03/13/VANET/2017-3-13-Vanet仿真-ns3(5)/","excerpt":"","text":"VANET &#x4EFF;&#x771F; ns3&#x793A;&#x4F8B;&#x4EE3;&#x7801;fifth.cc&#x6CE8;&#x91CA;&#x6574;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5728;&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x89C2;&#x5BDF;TCP&#x7684;&#x62E5;&#x585E;&#x7A97;&#x53E3;&#x60C5;&#x51B5;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x8C03;&#x9AD8;&#x6570;&#x636E;&#x6D41;&#x5E76;&#x4E14;&#x5C06;&#x62E5;&#x585E;&#x7A97;&#x53E3;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x6302;&#x5230;&#x53D1;&#x9001;&#x65B9;&#x7684;&#x5957;&#x63A5;&#x5B57;socket&#x4E0A;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x5F00;&#x5173;&#x7684;&#x5E94;&#x7528;&#x6765;&#x751F;&#x6210;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x7CFB;&#x5217;&#x95EE;&#x9898;&#x6709;&#x5F85;&#x89E3;&#x51B3;&#x3002;&#x9996;&#x5148;&#xFF0C;&#x5957;&#x63A5;&#x5B57;socket&#x662F;&#x5728;&#x5E94;&#x7528;&#x5F00;&#x59CB;&#x4E4B;&#x540E;&#x624D;&#x88AB;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x56E0;&#x800C;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x5728;&#x914D;&#x7F6E;&#x9636;&#x6BB5;&#x5904;&#x7406;&#x5957;&#x63A5;&#x5B57;&#x3002;&#x5176;&#x6B21;&#xFF0C;&#x5957;&#x63A5;&#x5B57;socket&#x662F;&#x975E;&#x516C;&#x5171;&#x5C5E;&#x6027;&#xFF0C;&#x56E0;&#x800C;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x5B83;&#x3002; &#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5E94;&#x7528;&#x7A0B;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5957;&#x63A5;&#x5B57;&#x5E76;&#x8FDE;&#x63A5;&#x4E00;&#x4E2A;&#x8FFD;&#x8E2A;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8BE5;&#x5957;&#x63A5;&#x5B57;&#x4F20;&#x9012;&#x5230;&#x6211;&#x4EEC;&#x5E94;&#x7528;&#x7A0B;&#x5F0F;&#x7684;&#x6784;&#x9020;&#x5668;&#x4E2D;&#xFF0C;&#x5E76;&#x628A;&#x5B83;&#x5B89;&#x88C5;&#x5230;&#x6E90;&#x4EE3;&#x7801;&#x4E0A;&#x5373;&#x53EF;&#x3002; #include &lt;fstream&gt;#include &quot;ns3/core-module.h&quot;#include &quot;ns3/network-module.h&quot;#include &quot;ns3/internet-module.h&quot;#include &quot;ns3/point-to-point-module.h&quot;#include &quot;ns3/applications-module.h&quot;using namespace ns3;NS_LOG_COMPONENT_DEFINE (&quot;FifthScriptExample&quot;);// ===========================================================================//// node 0 node 1// +----------------+ +----------------+// | ns-3 TCP | | ns-3 TCP |// +----------------+ +----------------+// | 10.1.1.1 | | 10.1.1.2 |// +----------------+ +----------------+// | point-to-point | | point-to-point |// +----------------+ +----------------+// | |// +---------------------+// 5 Mbps, 2 ms////// We want to look at changes in the ns-3 TCP congestion window. We need// to crank up a flow and hook the CongestionWindow attribute on the socket// of the sender. Normally one would use an on-off application to generate a// flow, but this has a couple of problems. First, the socket of the on-off// application is not created until Application Start time, so we wouldn&apos;t be// able to hook the socket (now) at configuration time. Second, even if we// could arrange a call after start time, the socket is not public so we// couldn&apos;t get at it.//// So, we can cook up a simple version of the on-off application that does what// we want. On the plus side we don&apos;t need all of the complexity of the on-off// application. On the minus side, we don&apos;t have a helper, so we have to get// a little more involved in the details, but this is trivial.//// So first, we create a socket and do the trace connect on it; then we pass// this socket into the constructor of our simple application which we then// install in the source node.// ===========================================================================////&#x7EE7;&#x627F;&#x81EA;Application&#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x5199;&#x4E86;StartApplication&#x548C;StopApplication&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x5728;&#x8C03;&#x7528;MyApp&#x65F6;&#x81EA;&#x52A8;&#x5F00;&#x59CB;&#x548C;&#x505C;&#x6B62;&#x53D1;&#x9001;&#x6570;&#x636E;&#x3002;class MyApp : public Application{public: MyApp (); virtual ~MyApp(); void Setup (Ptr&lt;Socket&gt; socket, Address address, uint32_t packetSize, uint32_t nPackets, DataRate dataRate);private: virtual void StartApplication (void); virtual void StopApplication (void); void ScheduleTx (void); void SendPacket (void); Ptr&lt;Socket&gt; m_socket; Address m_peer; uint32_t m_packetSize; uint32_t m_nPackets; DataRate m_dataRate; EventId m_sendEvent; bool m_running; uint32_t m_packetsSent;};MyApp::MyApp () : m_socket (0), m_peer (), m_packetSize (0), m_nPackets (0), m_dataRate (0), m_sendEvent (), m_running (false), m_packetsSent (0){}MyApp::~MyApp(){ m_socket = 0;}//&#x5C06;&#x7C7B;&#x91CC;&#x9762;&#x7684;&#x5C5E;&#x6027;&#x8D4B;&#x4E88;&#x521D;&#x503C;voidMyApp::Setup (Ptr&lt;Socket&gt; socket, Address address, uint32_t packetSize, uint32_t nPackets, DataRate dataRate){ m_socket = socket; m_peer = address; m_packetSize = packetSize; m_nPackets = nPackets; m_dataRate = dataRate;}voidMyApp::StartApplication (void){ m_running = true; m_packetsSent = 0; //bind&#x51FD;&#x6570;&#xFF0C;&#x4E3A;socket()&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x7684;&#x5957;&#x63A5;&#x5B57;&#x5173;&#x8054;&#x4E00;&#x4E2A;&#x76F8;&#x5E94;&#x5730;&#x5740;&#xFF0C;&#x53D1;&#x9001;&#x5230;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x7684;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BE5;&#x5957;&#x63A5;&#x5B57;&#x8BFB;&#x53D6;&#x4E0E;&#x4F7F;&#x7528;&#x3002; m_socket-&gt;Bind (); //connect&#x51FD;&#x6570;&#xFF0C;&#x7528;TCP&#x5EFA;&#x7ACB;&#x4E86;&#x5730;&#x5740;&#x8054;&#x7CFB; m_socket-&gt;Connect (m_peer); //&#x5F00;&#x59CB;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x6A21;&#x62DF;&#x4E8B;&#x4EF6; SendPacket ();}//&#x5F53;&#x6A21;&#x62DF;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E8B;&#x4EF6;&#x4E5F;&#x5C31;&#x88AB;&#x521B;&#x5EFA;&#x4E86;voidMyApp::StopApplication (void){ m_running = false; //&#x5982;&#x679C;&#x4E8B;&#x4EF6;&#x6B63;&#x5728;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x5219;.IsRunning&#x8FD4;&#x56DE;true if (m_sendEvent.IsRunning ()) { //cancel&#x5219;&#x53D6;&#x6D88;&#x8BE5;&#x4E8B;&#x52A1;&#x961F;&#x5217; Simulator::Cancel (m_sendEvent); } if (m_socket) { m_socket-&gt;Close (); }}voidMyApp::SendPacket (void){ Ptr&lt;Packet&gt; packet = Create&lt;Packet&gt; (m_packetSize); m_socket-&gt;Send (packet); if (++m_packetsSent &lt; m_nPackets) { //schedule another transmit, &#x77E5;&#x9053;&#x8FBE;&#x5230;&#x7CFB;&#x7EDF;&#x7684;&#x4E0A;&#x754C; ScheduleTx (); }}voidMyApp::ScheduleTx (void){ if (m_running) { Time tNext (Seconds (m_packetSize * 8 / static_cast&lt;double&gt; (m_dataRate.GetBitRate ()))); //&#x518D;&#x4E00;&#x6B21;&#x53D1;&#x9001;&#x6570;&#x636E;&#x5305; m_sendEvent = Simulator::Schedule (tNext, &amp;MyApp::SendPacket, this); }}static voidCwndChange (uint32_t oldCwnd, uint32_t newCwnd){ //&#x6BCF;&#x5F53;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x901A;&#x8FC7;&#x65E5;&#x5FD7;&#x5199;&#x51FA;&#x5F53;&#x524D;&#x4EFF;&#x771F;&#x7684;&#x65F6;&#x95F4;&#x4EE5;&#x53CA;&#x65B0;&#x7684;&#x62E5;&#x585E;&#x7A97;&#x53E3;&#x5927;&#x5C0F; NS_LOG_UNCOND (Simulator::Now ().GetSeconds () &lt;&lt; &quot;\\t&quot; &lt;&lt; newCwnd);}static voidRxDrop (Ptr&lt;const Packet&gt; p){ //&#x68C0;&#x67E5;&#x6570;&#x636E;&#x5305;&#x5728;&#x7269;&#x7406;&#x5C42;&#x54EA;&#x91CC;drop&#x4E86; NS_LOG_UNCOND (&quot;RxDrop at &quot; &lt;&lt; Simulator::Now ().GetSeconds ());}intmain (int argc, char \\*argv[]){ CommandLine cmd; cmd.Parse (argc, argv); NodeContainer nodes; nodes.Create (2); PointToPointHelper pointToPoint; pointToPoint.SetDeviceAttribute (&quot;DataRate&quot;, StringValue (&quot;5Mbps&quot;)); pointToPoint.SetChannelAttribute (&quot;Delay&quot;, StringValue (&quot;2ms&quot;)); NetDeviceContainer devices; devices = pointToPoint.Install (nodes); //&#x8DDF;&#x8E2A;channel&#x4FE1;&#x9053;&#x4E0A;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x901A;&#x8FC7;&#x5B9E;&#x4F8B;&#x5316;&#x4E00;&#x4E2A;RateErrorModel&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;ErrorRate&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5C06;&#x5B9E;&#x4F8B;&#x4F5C;&#x4E3A;&#x9519;&#x8BEF;&#x6A21;&#x5F0F; Ptr&lt;RateErrorModel&gt; em = CreateObject&lt;RateErrorModel&gt; (); em-&gt;SetAttribute (&quot;ErrorRate&quot;, DoubleValue (0.00001)); devices.Get (1)-&gt;SetAttribute (&quot;ReceiveErrorModel&quot;, PointerValue (em)); InternetStackHelper stack; stack.Install (nodes); Ipv4AddressHelper address; address.SetBase (&quot;10.1.1.0&quot;, &quot;255.255.255.252&quot;); Ipv4InterfaceContainer interfaces = address.Assign (devices); //TCP&#x534F;&#x8BAE;&#x5F53;&#x4E2D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x76EE;&#x6807;&#x8282;&#x70B9; uint16_t sinkPort = 8080; Address sinkAddress (InetSocketAddress (interfaces.GetAddress (1), sinkPort)); //1. ns3::TcpSocketFactory&#xFF1A;&#x62BD;&#x8C61;&#x5730;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x7528;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7;&#x5BF9;&#x8C61;&#x5DE5;&#x5382;&#xFF08;object factory&#xFF09;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x521B;&#x5EFA; //2. &#x544A;&#x77E5;&#x9700;&#x8981;bind&#x7684;&#x5730;&#x5740;&#x4E0E;&#x7AEF;&#x53E3; PacketSinkHelper packetSinkHelper (&quot;ns3::TcpSocketFactory&quot;, InetSocketAddress (Ipv4Address::GetAny (), sinkPort)); ApplicationContainer sinkApps = packetSinkHelper.Install (nodes.Get (1)); sinkApps.Start (Seconds (0.)); sinkApps.Stop (Seconds (20.)); //&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x6210;&#x5458;&#x51FD;&#x6570;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x548C;&#x660E;&#x786E;&#x7684;TypeId&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;socket&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;CwndChange&#x7684;&#x56DE;&#x8C03;&#x975E;&#x5E38;&#x5173;&#x952E; Ptr&lt;Socket&gt; ns3TcpSocket = Socket::CreateSocket (nodes.Get (0), TcpSocketFactory::GetTypeId ()); ns3TcpSocket-&gt;TraceConnectWithoutContext (&quot;CongestionWindow&quot;, MakeCallback (&amp;CwndChange)); Ptr&lt;MyApp&gt; app = CreateObject&lt;MyApp&gt; (); app-&gt;Setup (ns3TcpSocket, sinkAddress, 1040, 1000, DataRate (&quot;1Mbps&quot;)); nodes.Get (0)-&gt;AddApplication (app); app-&gt;SetStartTime (Seconds (1.)); app-&gt;SetStopTime (Seconds (20.)); devices.Get (1)-&gt;TraceConnectWithoutContext (&quot;PhyRxDrop&quot;, MakeCallback (&amp;RxDrop)); Simulator::Stop (Seconds (20)); Simulator::Run (); Simulator::Destroy (); return 0;}","categories":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/categories/VANET/"}],"tags":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/tags/VANET/"},{"name":"ns3","slug":"ns3","permalink":"http://www.liufr.com/tags/ns3/"}],"author":"刘丰瑞"},{"title":"VANET仿真-ns3(4)","slug":"VANET/2017-3-13-Vanet仿真-ns3(4)","date":"2017-03-12T16:00:00.000Z","updated":"2019-09-17T10:54:52.028Z","comments":true,"path":"2017/03/13/VANET/2017-3-13-Vanet仿真-ns3(4)/","link":"","permalink":"http://www.liufr.com/2017/03/13/VANET/2017-3-13-Vanet仿真-ns3(4)/","excerpt":"","text":"VANET &#x4EFF;&#x771F; ns3&#x793A;&#x4F8B;&#x4EE3;&#x7801;fourth.cc&#x6CE8;&#x91CA;&#x6574;&#x7406;&#xFF0C;&#x8FFD;&#x8E2A;&#xFF08;tracing&#xFF09;&#x4E0E;&#x56DE;&#x8C03;&#x3002; #include &quot;ns3/object.h&quot;#include &quot;ns3/uinteger.h&quot;#include &quot;ns3/traced-value.h&quot; //&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6570;&#x636E;&#x8FFD;&#x8E2A;&#x7684;&#x65B9;&#x6CD5;#include &quot;ns3/trace-source-accessor.h&quot;#include &lt;iostream&gt;using namespace ns3;class MyObject : public Object{public: // Register this type. //return The TypeId. static TypeId GetTypeId (void) { static TypeId tid = TypeId (&quot;MyObject&quot;) .SetParent&lt;Object&gt; () .SetGroupName (&quot;Tutorial&quot;) .AddConstructor&lt;MyObject&gt; () //.AddTraceSource&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x7684;&#x94A9;&#x5B50;(hook)&#xFF0C;&#x53C2;&#x6570;&#x5206;&#x522B;&#x4E3A;&#xFF1A; //1.&#x6570;&#x636E;&#x8FFD;&#x8E2A;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x7CFB;&#x7EDF;&#x53EF;&#x89C1; //2.&#x63D0;&#x793A;&#x4FE1;&#x606F; //3.&amp;MyObject::m_myInt&#x88AB;&#x8FFD;&#x8E2A;&#x7684;&#x503C;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x6570;&#x636E;&#x6210;&#x5458; //4.&#x7528;&#x6765;&#x751F;&#x6210;&#x6587;&#x6863;&#x4E0E;&#x6B63;&#x786E;&#x7684;Callback&#x4FE1;&#x606F; .AddTraceSource (&quot;MyInteger&quot;, &quot;An integer value to trace.&quot;, MakeTraceSourceAccessor (&amp;MyObject::m_myInt), &quot;ns3::TracedValueCallback::Int32&quot;) ; return tid; } MyObject () {} //Traceavalue&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x56DE;&#x8C03;&#xFF0C;&#x786E;&#x5B9A;&#x9700;&#x8981;&#x8FFD;&#x8E2A;&#x7684;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#x3002; TracedValue&lt;int32_t&gt; m_myInt;};//&#x4E0E;trace sink&#x5339;&#x914D;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x662F;&#x56DE;&#x8C03;&#x7684;&#x76F4;&#x63A5;&#x4FE1;&#x53F7;&#xFF0C;&#x5F53;&#x503C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x5C31;&#x9700;&#x8981;&#x56DE;&#x8C03;&#x8BE5;&#x51FD;&#x6570;voidIntTrace (int32_t oldValue, int32_t newValue){ std::cout &lt;&lt; &quot;Traced &quot; &lt;&lt; oldValue &lt;&lt; &quot; to &quot; &lt;&lt; newValue &lt;&lt; std::endl;}intmain (int argc, char \\*argv[]){ Ptr&lt;MyObject&gt; myObject = CreateObject&lt;MyObject&gt; (); //&#x5728;trace source&#x4E0E;trace sink&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x8054;&#x7CFB;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;trace source&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x4E3A;&#x56DE;&#x8C03; myObject-&gt;TraceConnectWithoutContext (&quot;MyInteger&quot;, MakeCallback (&amp;IntTrace)); myObject-&gt;m_myInt = 1234;} &#x5F53;&#x6267;&#x884C;&#x4EE3;&#x7801; myObject-&gt;m_myInt = 1234; &#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x503C;&#x7684;&#x6539;&#x53D8;&#x89E6;&#x53D1;&#x4E86;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x6709;&#x4EE5;&#x4E0B;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF1A;","categories":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/categories/VANET/"}],"tags":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/tags/VANET/"},{"name":"ns3","slug":"ns3","permalink":"http://www.liufr.com/tags/ns3/"}],"author":"刘丰瑞"},{"title":"VANET仿真-ns3(1)","slug":"VANET/2017-3-12-Vanet仿真-ns3(1)","date":"2017-03-11T16:00:00.000Z","updated":"2019-09-17T10:54:41.940Z","comments":true,"path":"2017/03/12/VANET/2017-3-12-Vanet仿真-ns3(1)/","link":"","permalink":"http://www.liufr.com/2017/03/12/VANET/2017-3-12-Vanet仿真-ns3(1)/","excerpt":"","text":"VANET &#x4EFF;&#x771F; ns3&#x793A;&#x4F8B;&#x4EE3;&#x7801;first.cc&#x6CE8;&#x91CA;&#x6574;&#x7406;&#xFF0C;&#x70B9;&#x5BF9;&#x70B9;&#x7684;udp&#x4F20;&#x8F93;&#x4EFF;&#x771F; #include &quot;ns3/core-module.h&quot;#include &quot;ns3/network-module.h&quot;#include &quot;ns3/internet-module.h&quot;#include &quot;ns3/point-to-point-module.h&quot;#include &quot;ns3/applications-module.h&quot;//namespace &#x5B9A;&#x4E49;&#x4E4B;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x53C2;&#x6570;&#x90FD;&#x9700;&#x8981;&#x7528;ns::&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x8868;&#x793A;using namespace ns3;//&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x7684;&#x7EC4;&#x6210;&#x90E8;&#x5206;NS_LOG_COMPONENT_DEFINE (&quot;FirstScriptExample&quot;);intmain (int argc, char \\*argv[]){ //&#x5F00;&#x542F;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x3001;&#x5C5E;&#x6027;&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;./waf --run &quot;scratch/myfirst --PrintHelp&quot;&#x67E5;&#x770B;&#x5E2E;&#x52A9;&#x4FE1;&#x606F; CommandLine cmd; cmd.Parse (argc, argv); Time::SetResolution (Time::NS); //&#x65F6;&#x95F4;&#x88AB;&#x8BBE;&#x5B9A;&#x6210;&#x7EB3;&#x79D2;&#x7EA7;&#x522B; LogComponentEnable (&quot;UdpEchoClientApplication&quot;, LOG_LEVEL_INFO); LogComponentEnable (&quot;UdpEchoServerApplication&quot;, LOG_LEVEL_INFO); NodeContainer nodes; nodes.Create (2); PointToPointHelper pointToPoint; //&#x5B9E;&#x4F8B;&#x5316;&#x4E00;&#x4E2A;&#x70B9;&#x5BF9;&#x70B9;&#x6A21;&#x578B; //&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x8282;&#x70B9;&#x53C2;&#x6570;&#xFF0C;&#x4E00;&#x79CD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#x4FEE;&#x6539;&#xFF0C; //&#x53E6;&#x4E00;&#x79CD;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x884C;./waf --run &quot;scratch/myfirst --ns3::PointToPointNetDevice::DataRate=5Mbps --ns3::PointToPointChannel::Delay=2ms&quot; pointToPoint.SetDeviceAttribute (&quot;DataRate&quot;, StringValue (&quot;5Mbps&quot;)); pointToPoint.SetChannelAttribute (&quot;Delay&quot;, StringValue (&quot;2ms&quot;)); NetDeviceContainer devices; devices = pointToPoint.Install (nodes); //&#x534F;&#x8BAE;&#x6808;&#xFF0C;&#x5305;&#x62EC;TCP&#xFF0C;UDP&#xFF0C;IP&#x7B49; InternetStackHelper stack; stack.Install (nodes); //&#x8BBE;&#x5B9A;&#x5730;&#x5740;&#x63A9;&#x7801;&#x7B49;&#x4FE1;&#x606F; Ipv4AddressHelper address; address.SetBase (&quot;10.1.1.0&quot;, &quot;255.255.255.0&quot;); //&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x51FD;&#x6570;&#x5C06;ipv4&#x5730;&#x5740;&#x4E0E;&#x8BBE;&#x5907;&#x94FE;&#x63A5;&#x8D77;&#x6765; Ipv4InterfaceContainer interfaces = address.Assign (devices); //&#x8BBE;&#x7F6E;udp&#x7AEF;&#x53E3;&#x53F7;&#x4E3A;9 UdpEchoServerHelper echoServer (9); //install&#x51FD;&#x6570;&#x5C31;&#x662F;&#x628A;&#x8282;&#x70B9;&#x6302;&#x8F7D;&#x5230;server&#x4E0A; ApplicationContainer serverApps = echoServer.Install (nodes.Get (1)); serverApps.Start (Seconds (1.0)); serverApps.Stop (Seconds (10.0)); //client&#x4E0A;&#x4E94;&#x4E2A;&#x5C5E;&#x6027;&#x5206;&#x522B;&#x4E3A;&#x8282;&#x70B9;&#x5730;&#x5740;&#x3001;&#x7AEF;&#x53E3;&#x53F7;&#x3001;&#x5305;&#x6570;&#x91CF;&#x3001;&#x95F4;&#x9694;&#x3001;&#x5305;&#x5927;&#x5C0F; UdpEchoClientHelper echoClient (interfaces.GetAddress (1), 9); echoClient.SetAttribute (&quot;MaxPackets&quot;, UintegerValue (1)); echoClient.SetAttribute (&quot;Interval&quot;, TimeValue (Seconds (1.0))); echoClient.SetAttribute (&quot;PacketSize&quot;, UintegerValue (1024)); ApplicationContainer clientApps = echoClient.Install (nodes.Get (0)); clientApps.Start (Seconds (2.0)); clientApps.Stop (Seconds (10.0)); //&#x5F00;&#x59CB;&#x4EFF;&#x771F;&#x3001;&#x7ED3;&#x675F;&#x4EFF;&#x771F; Simulator::Run (); Simulator::Destroy (); return 0;}","categories":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/categories/VANET/"}],"tags":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/tags/VANET/"},{"name":"ns3","slug":"ns3","permalink":"http://www.liufr.com/tags/ns3/"}],"author":"刘丰瑞"},{"title":"VANET仿真-ns3(3)","slug":"VANET/2017-3-12-Vanet仿真-ns3(3)","date":"2017-03-11T16:00:00.000Z","updated":"2019-09-17T10:54:48.857Z","comments":true,"path":"2017/03/12/VANET/2017-3-12-Vanet仿真-ns3(3)/","link":"","permalink":"http://www.liufr.com/2017/03/12/VANET/2017-3-12-Vanet仿真-ns3(3)/","excerpt":"","text":"VANET &#x4EFF;&#x771F; ns3&#x793A;&#x4F8B;&#x4EE3;&#x7801;third.cc&#x6CE8;&#x91CA;&#x6574;&#x7406;&#xFF0C;&#x65E0;&#x7EBF;&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x4EFF;&#x771F;&#xFF0C;&#x62D3;&#x6251;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; Number of wifi or csma nodes can be increased up to 250 | Rank 0 | Rank 1-------------------------|---------------------------- Wifi 10.1.3.0 AP * * * * | | | | 10.1.1.0n5 n6 n7 n0 -------------- n1 n2 n3 n4 point-to-point | | | | ================ LAN 10.1.2.0 #include &quot;ns3/core-module.h&quot;#include &quot;ns3/point-to-point-module.h&quot;#include &quot;ns3/network-module.h&quot;#include &quot;ns3/applications-module.h&quot;#include &quot;ns3/wifi-module.h&quot;#include &quot;ns3/mobility-module.h&quot;#include &quot;ns3/csma-module.h&quot;#include &quot;ns3/internet-module.h&quot;using namespace ns3;NS_LOG_COMPONENT_DEFINE (&quot;ThirdScriptExample&quot;);intmain (int argc, char \\*argv[]){ bool verbose = true; uint32_t nCsma = 3; uint32_t nWifi = 3; bool tracing = false; CommandLine cmd; cmd.AddValue (&quot;nCsma&quot;, &quot;Number of \\&quot;extra\\&quot; CSMA nodes/devices&quot;, nCsma); cmd.AddValue (&quot;nWifi&quot;, &quot;Number of wifi STA devices&quot;, nWifi); cmd.AddValue (&quot;verbose&quot;, &quot;Tell echo applications to log if true&quot;, verbose); cmd.AddValue (&quot;tracing&quot;, &quot;Enable pcap tracing&quot;, tracing); cmd.Parse (argc,argv); // Check for valid number of csma or wifi nodes // 250 should be enough, otherwise IP addresses // soon become an issue if (nWifi &gt; 250 || nCsma &gt; 250) { std::cout &lt;&lt; &quot;Too many wifi or csma nodes, no more than 250 each.&quot; &lt;&lt; std::endl; return 1; } if (verbose) { LogComponentEnable (&quot;UdpEchoClientApplication&quot;, LOG_LEVEL_INFO); LogComponentEnable (&quot;UdpEchoServerApplication&quot;, LOG_LEVEL_INFO); } //p2p &#x8282;&#x70B9; NodeContainer p2pNodes; p2pNodes.Create (2); PointToPointHelper pointToPoint; pointToPoint.SetDeviceAttribute (&quot;DataRate&quot;, StringValue (&quot;5Mbps&quot;)); pointToPoint.SetChannelAttribute (&quot;Delay&quot;, StringValue (&quot;2ms&quot;)); NetDeviceContainer p2pDevices; p2pDevices = pointToPoint.Install (p2pNodes); //csma &#x8282;&#x70B9; NodeContainer csmaNodes; csmaNodes.Add (p2pNodes.Get (1)); csmaNodes.Create (nCsma); CsmaHelper csma; csma.SetChannelAttribute (&quot;DataRate&quot;, StringValue (&quot;100Mbps&quot;)); csma.SetChannelAttribute (&quot;Delay&quot;, TimeValue (NanoSeconds (6560))); NetDeviceContainer csmaDevices; csmaDevices = csma.Install (csmaNodes); //wifi &#x8282;&#x70B9; NodeContainer wifiStaNodes; wifiStaNodes.Create (nWifi); //&#x5C06;p2p&#x4E2D;&#x7684;0&#x8282;&#x70B9;&#x8BBE;&#x4E3A;wifi&#x4E2D;&#x7684;Ap&#x8282;&#x70B9; NodeContainer wifiApNode = p2pNodes.Get (0); //wifi &#x8282;&#x70B9;&#x4E2D;&#x7684;&#x5185;&#x90E8;&#x4FE1;&#x9053;&#x914D;&#x7F6E;&#xFF0C;&#x9700;&#x8981;&#x5206;&#x522B;&#x5904;&#x7406;channel&#x4E0E;phy&#x7684;&#x4FE1;&#x53F7; YansWifiChannelHelper channel = YansWifiChannelHelper::Default (); YansWifiPhyHelper phy = YansWifiPhyHelper::Default (); //&#x5C06;channel&#x4E8E;phy&#x7269;&#x7406;&#x5C42;&#x8FDE;&#x63A5;&#xFF0C;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x521B;&#x5EFA;&#x7684;&#x7269;&#x7406;&#x5C42;&#x5171;&#x4EAB;&#x540C;&#x4E00;&#x4E2A;&#x5E95;&#x5C42;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x5F7C;&#x6B64;&#x901A;&#x4FE1; phy.SetChannel (channel.Create ()); //wifi&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4F7F;&#x7528;&#x7B97;&#x6CD5;AarfWifiManager WifiHelper wifi; wifi.SetRemoteStationManager (&quot;ns3::AarfWifiManager&quot;); //ns3::StaWifiMac : mac&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x533A;&#x5206;sta&#x4E0E;ap //ssid&#xFF1A;&#x7F51;&#x7EDC;&#x540D;&#x79F0;&#xFF0C;&#x7528;&#x6765;&#x533A;&#x5206;&#x7F51;&#x7EDC; //ActiveProbing: &#x63A2;&#x9488;&#x4E0D;&#x5141;&#x8BB8;&#x88AB;&#x53D1;&#x9001; WifiMacHelper mac; Ssid ssid = Ssid (&quot;ns-3-ssid&quot;); mac.SetType (&quot;ns3::StaWifiMac&quot;, &quot;Ssid&quot;, SsidValue (ssid), &quot;ActiveProbing&quot;, BooleanValue (false)); NetDeviceContainer staDevices; staDevices = wifi.Install (phy, mac, wifiStaNodes); //ap&#x8282;&#x70B9; mac.SetType (&quot;ns3::ApWifiMac&quot;, &quot;Ssid&quot;, SsidValue (ssid)); NetDeviceContainer apDevices; apDevices = wifi.Install (phy, mac, wifiApNode); //sta&#x8282;&#x70B9;&#x4FDD;&#x6301;&#x79FB;&#x52A8;&#xFF0C;ap&#x8282;&#x70B9;&#x9759;&#x6B62; MobilityHelper mobility; //&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x4E8C;&#x7EF4;&#x573A;&#x666F; mobility.SetPositionAllocator (&quot;ns3::GridPositionAllocator&quot;, &quot;MinX&quot;, DoubleValue (0.0), &quot;MinY&quot;, DoubleValue (0.0), &quot;DeltaX&quot;, DoubleValue (5.0), &quot;DeltaY&quot;, DoubleValue (10.0), &quot;GridWidth&quot;, UintegerValue (3), &quot;LayoutType&quot;, StringValue (&quot;RowFirst&quot;)); //&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x901F;&#x5EA6;&#x4E0E;&#x65B9;&#x5411;&#x7684;&#x6A21;&#x578B;&#xFF0C;&#x975E;&#x5E38;&#x65B9;&#x4FBF; mobility.SetMobilityModel (&quot;ns3::RandomWalk2dMobilityModel&quot;, &quot;Bounds&quot;, RectangleValue (Rectangle (-50, 50, -50, 50))); mobility.Install (wifiStaNodes); mobility.SetMobilityModel (&quot;ns3::ConstantPositionMobilityModel&quot;); mobility.Install (wifiApNode); InternetStackHelper stack; stack.Install (csmaNodes); stack.Install (wifiApNode); stack.Install (wifiStaNodes); Ipv4AddressHelper address; address.SetBase (&quot;10.1.1.0&quot;, &quot;255.255.255.0&quot;); Ipv4InterfaceContainer p2pInterfaces; p2pInterfaces = address.Assign (p2pDevices); address.SetBase (&quot;10.1.2.0&quot;, &quot;255.255.255.0&quot;); Ipv4InterfaceContainer csmaInterfaces; csmaInterfaces = address.Assign (csmaDevices); address.SetBase (&quot;10.1.3.0&quot;, &quot;255.255.255.0&quot;); address.Assign (staDevices); address.Assign (apDevices); UdpEchoServerHelper echoServer (9); ApplicationContainer serverApps = echoServer.Install (csmaNodes.Get (nCsma)); serverApps.Start (Seconds (1.0)); serverApps.Stop (Seconds (10.0)); UdpEchoClientHelper echoClient (csmaInterfaces.GetAddress (nCsma), 9); echoClient.SetAttribute (&quot;MaxPackets&quot;, UintegerValue (1)); echoClient.SetAttribute (&quot;Interval&quot;, TimeValue (Seconds (1.0))); echoClient.SetAttribute (&quot;PacketSize&quot;, UintegerValue (1024)); ApplicationContainer clientApps = echoClient.Install (wifiStaNodes.Get (nWifi - 1)); clientApps.Start (Seconds (2.0)); clientApps.Stop (Seconds (10.0)); Ipv4GlobalRoutingHelper::PopulateRoutingTables (); Simulator::Stop (Seconds (10.0)); if (tracing == true) { pointToPoint.EnablePcapAll (&quot;third&quot;); phy.EnablePcap (&quot;third&quot;, apDevices.Get (0)); csma.EnablePcap (&quot;third&quot;, csmaDevices.Get (0), true); } Simulator::Run (); Simulator::Destroy (); return 0;} &#x4FEE;&#x6539;&#x8282;&#x70B9;&#x4F4D;&#x7F6E;&#x5E76;&#x4EFF;&#x771F;&#x7ED3;&#x679C;&#xFF1A;","categories":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/categories/VANET/"}],"tags":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/tags/VANET/"},{"name":"ns3","slug":"ns3","permalink":"http://www.liufr.com/tags/ns3/"}],"author":"刘丰瑞"},{"title":"VANET仿真-ns3(2)","slug":"VANET/2017-3-12-Vanet仿真-ns3(2)","date":"2017-03-11T16:00:00.000Z","updated":"2019-09-17T10:54:46.944Z","comments":true,"path":"2017/03/12/VANET/2017-3-12-Vanet仿真-ns3(2)/","link":"","permalink":"http://www.liufr.com/2017/03/12/VANET/2017-3-12-Vanet仿真-ns3(2)/","excerpt":"","text":"VANET &#x4EFF;&#x771F; ns3&#x793A;&#x4F8B;&#x4EE3;&#x7801;second.cc&#x6CE8;&#x91CA;&#x6574;&#x7406;&#xFF0C;&#x603B;&#x7EBF;&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x4EFF;&#x771F;&#xFF0C;&#x62D3;&#x6251;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; 10.1.1.0 n0 -------------- n1 n2 n3 n4 point-to-point | | | | ================ LAN 10.1.2.0 #include &quot;ns3/core-module.h&quot;#include &quot;ns3/network-module.h&quot;#include &quot;ns3/csma-module.h&quot;#include &quot;ns3/internet-module.h&quot;#include &quot;ns3/point-to-point-module.h&quot;#include &quot;ns3/applications-module.h&quot;#include &quot;ns3/ipv4-global-routing-helper.h&quot;using namespace ns3;NS_LOG_COMPONENT_DEFINE (&quot;SecondScriptExample&quot;);intmain (int argc, char \\*argv[]){ bool verbose = true; //&#x542F;&#x7528;&#x65E5;&#x5FD7;&#x7684;&#x53C2;&#x6570; uint32_t nCsma = 3; //&#x9644;&#x52A0;&#x8282;&#x70B9; CommandLine cmd; cmd.AddValue (&quot;nCsma&quot;, &quot;Number of \\&quot;extra\\&quot; CSMA nodes/devices&quot;, nCsma); cmd.AddValue (&quot;verbose&quot;, &quot;Tell echo applications to log if true&quot;, verbose); cmd.Parse (argc,argv); if (verbose) { LogComponentEnable (&quot;UdpEchoClientApplication&quot;, LOG_LEVEL_INFO); LogComponentEnable (&quot;UdpEchoServerApplication&quot;, LOG_LEVEL_INFO); } nCsma = nCsma == 0 ? 1 : nCsma; //&#x4FDD;&#x8BC1;&#x9644;&#x52A0;&#x8282;&#x70B9;&#x81F3;&#x5C11;&#x4E3A;1&#x4E2A; NodeContainer p2pNodes; p2pNodes.Create (2); NodeContainer csmaNodes; csmaNodes.Add (p2pNodes.Get (1)); csmaNodes.Create (nCsma); PointToPointHelper pointToPoint; pointToPoint.SetDeviceAttribute (&quot;DataRate&quot;, StringValue (&quot;5Mbps&quot;)); pointToPoint.SetChannelAttribute (&quot;Delay&quot;, StringValue (&quot;2ms&quot;)); NetDeviceContainer p2pDevices; p2pDevices = pointToPoint.Install (p2pNodes); CsmaHelper csma; csma.SetChannelAttribute (&quot;DataRate&quot;, StringValue (&quot;100Mbps&quot;)); csma.SetChannelAttribute (&quot;Delay&quot;, TimeValue (NanoSeconds (6560))); NetDeviceContainer csmaDevices; csmaDevices = csma.Install (csmaNodes); InternetStackHelper stack; stack.Install (p2pNodes.Get (0)); stack.Install (csmaNodes); //&#x8FD9;&#x91CC;&#x7ED9;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x4E0E;CSMA&#x8BBE;&#x5907;&#x90E8;&#x7F72;ipv4&#x5730;&#x5740;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x76F8;&#x540C;&#x7684; Ipv4AddressHelper address; address.SetBase (&quot;10.1.1.0&quot;, &quot;255.255.255.0&quot;); Ipv4InterfaceContainer p2pInterfaces; p2pInterfaces = address.Assign (p2pDevices); address.SetBase (&quot;10.1.2.0&quot;, &quot;255.255.255.0&quot;); Ipv4InterfaceContainer csmaInterfaces; csmaInterfaces = address.Assign (csmaDevices); UdpEchoServerHelper echoServer (9); ApplicationContainer serverApps = echoServer.Install (csmaNodes.Get (nCsma)); serverApps.Start (Seconds (1.0)); serverApps.Stop (Seconds (10.0)); UdpEchoClientHelper echoClient (csmaInterfaces.GetAddress (nCsma), 9); echoClient.SetAttribute (&quot;MaxPackets&quot;, UintegerValue (1)); echoClient.SetAttribute (&quot;Interval&quot;, TimeValue (Seconds (1.0))); echoClient.SetAttribute (&quot;PacketSize&quot;, UintegerValue (1024)); ApplicationContainer clientApps = echoClient.Install (p2pNodes.Get (0)); clientApps.Start (Seconds (2.0)); clientApps.Stop (Seconds (10.0)); //&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#xFF0C;&#x5BF9;&#x7528;&#x6237;&#x662F;&#x4E0D;&#x53EF;&#x89C1;&#x7684;&#xFF0C;&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x8DEF;&#x7531;&#x8868; Ipv4GlobalRoutingHelper::PopulateRoutingTables (); pointToPoint.EnablePcapAll (&quot;second&quot;); csma.EnablePcap (&quot;second&quot;, csmaDevices.Get (1), true); Simulator::Run (); Simulator::Destroy (); return 0;} &#x6CE8;&#xFF1A;&#x5728;netanim-module&#x4E0B;&#xFF0C;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF0C;&#x786E;&#x5B9A;&#x8282;&#x70B9;&#x4F4D;&#x7F6E;&#xFF0C;&#x65B9;&#x4FBF;&#x5229;&#x7528;.xml&#x6587;&#x4EF6;&#x67E5;&#x770B;&#x52A8;&#x6001;&#x6548;&#x679C;&#x3002; #include &quot;ns3/netanim-module.h&quot; ........ ...... .. AnimationInterface anim(&quot;second.xml&quot;); anim.SetConstantPosition(p2pNodes.Get(0), 10, 10); anim.SetConstantPosition(p2pNodes.Get(1), 50, 50); //anim.SetConstantPosition(csmaNodes.Get(0), 25, 0); anim.SetConstantPosition(csmaNodes.Get(1), 40, 0); anim.SetConstantPosition(csmaNodes.Get(2), 30, 10); anim.SetConstantPosition(csmaNodes.Get(3), 20, 20); Simulator::Run (); Simulator::Destroy (); return 0; &#x4EFF;&#x771F;&#x6548;&#x679C;&#x5982;&#x4E0B;","categories":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/categories/VANET/"}],"tags":[{"name":"VANET","slug":"VANET","permalink":"http://www.liufr.com/tags/VANET/"},{"name":"ns3","slug":"ns3","permalink":"http://www.liufr.com/tags/ns3/"}],"author":"刘丰瑞"},{"title":"学习构造用户空间的IP栈（资料总结）","slug":"网络/2016-12-24-ipv4在Linux上的实现","date":"2016-12-23T16:00:00.000Z","updated":"2019-09-17T10:46:41.407Z","comments":true,"path":"2016/12/24/网络/2016-12-24-ipv4在Linux上的实现/","link":"","permalink":"http://www.liufr.com/2016/12/24/网络/2016-12-24-ipv4在Linux上的实现/","excerpt":"","text":"&#x5B66;&#x4E60;&#x6784;&#x9020;&#x7528;&#x6237;&#x7A7A;&#x95F4;&#x7684;IP&#x6808;&#xFF08;&#x8D44;&#x6599;&#x603B;&#x7ED3;&#xFF09; saminiir&#x7684;&#x535A;&#x5BA2;&#x53CA;&#x76F8;&#x5173;&#x4EE3;&#x7801; Ethernet &amp; ARP BY saminiir&apos;s blog IPv4 &amp; ICMPv4 BY saminiir&apos;s blog TCP Basics &amp; Handshake BY saminiir&apos;s blog TCP Data Flow &amp; Socket API BY saminiir&apos;s blog level-ip(code) chobits&#x7684;&#x4EE3;&#x7801; tapip(code) Linux&#x6E90;&#x7801;-IP&#x90E8;&#x5206; root/net/ipv4","categories":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/categories/Networking/"}],"tags":[{"name":"Networking","slug":"Networking","permalink":"http://www.liufr.com/tags/Networking/"},{"name":"IPv4","slug":"IPv4","permalink":"http://www.liufr.com/tags/IPv4/"}],"author":"刘丰瑞"},{"title":"Bloom Filter","slug":"算法/2016-12-08-Bloom Filter","date":"2016-12-07T16:00:00.000Z","updated":"2019-09-17T07:55:55.770Z","comments":true,"path":"2016/12/08/算法/2016-12-08-Bloom Filter/","link":"","permalink":"http://www.liufr.com/2016/12/08/算法/2016-12-08-Bloom Filter/","excerpt":"","text":"&#x6700;&#x8FD1;&#x5B66;&#x4E60;&#x4E2D;&#x8001;&#x5E08;&#x603B;&#x662F;&#x63D0;&#x5230;Bloom Filter&#xFF0C;&#x4F46;&#x4E00;&#x76F4;&#x90FD;&#x6CA1;&#x7CFB;&#x7EDF;&#x5B66;&#x8FC7;&#xFF0C;&#x4ECA;&#x5929;&#x82B1;&#x70B9;&#x65F6;&#x95F4;&#x4ED4;&#x7EC6;&#x7814;&#x7A76;&#x4E00;&#x4E0B;&#x3002; &#x57FA;&#x672C;&#x6982;&#x5FF5; &#x5F53;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x88AB;&#x52A0;&#x5165;&#x5230;&#x96C6;&#x5408;&#x4E2D;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;K&#x4E2A;&#x6563;&#x5217;&#x51FD;&#x6570;&#x5C06;&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x6620;&#x5C04;&#x6210;&#x4E00;&#x4E2A;&#x4F4D;&#x6570;&#x7EC4;&#x4E2D;&#x7684;K&#x4E2A;&#x70B9;&#xFF0C;&#x5E76;&#x5C06;&#x8FD9;&#x4E9B;&#x70B9;&#x7F6E;&#x4F4D;1&#xFF0C;&#x5F53;&#x68C0;&#x7D22;&#x65F6;&#x53EA;&#x8981;&#x68C0;&#x67E5;&#x8FD9;&#x4E9B;&#x6563;&#x5217;&#x70B9;&#x662F;&#x5426;&#x5168;&#x4E3A;1&#x5C31;&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#x96C6;&#x5408;&#x4E2D;&#x6709;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x4E86;&#x3002; &#x4F18;&#x70B9;&#xFF1A; &#x7A7A;&#x95F4;&#x6548;&#x7387;&#xFF0C;&#x65F6;&#x95F4;&#x6548;&#x7387;&#x90FD;&#x662F;&#xFF08;O(k)&#xFF09; &#x53EF;&#x4EE5;&#x8868;&#x793A;&#x5168;&#x96C6;&#xFF0C;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5747;&#x4E0D;&#x80FD;&#x8868;&#x793A;&#x5168;&#x96C6; &#x7F3A;&#x70B9;&#xFF1A; &#x6709;&#x4E00;&#x5B9A;&#x8BEF;&#x8BC6;&#x522B;&#x7387; &#x5F88;&#x96BE;&#x5C06;&#x5143;&#x7D20;&#x4ECE;&#x96C6;&#x5408;&#x4E2D;&#x5220;&#x9664; &#x7B97;&#x6CD5;&#x63CF;&#x8FF0; &#x5143;&#x7D20;&#x52A0;&#x5165; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;m&#x4F4D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x4E32;&#x5E76;&#x5C06;&#x6BCF;&#x4E00;&#x4F4D;&#x90FD;&#x521D;&#x59CB;&#x5316;&#x4E3A;0&#xFF0C;&#x9009;&#x62E9;k&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570; &#x5229;&#x7528;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;&#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x5C06;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x6620;&#x5C04;&#x5230;{1...m}&#x7684;&#x8303;&#x56F4;&#x5F53;&#x4E2D;&#xFF0C;&#x5BF9;&#x4E8E;&#x5143;&#x7D20;x&#xFF0C;&#x7B2C;i&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x6620;&#x5C04;&#x7684;&#x4F4D;&#x7F6E;hi(x) = 1,&#x5176;&#x4E2D; 1&lt;=i&lt;=k&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x88AB;&#x591A;&#x6B21;&#x6620;&#x5C04;&#xFF0C;&#x90A3;&#x4E48;&#x53EA;&#x6709;&#x7B2C;&#x4E00;&#x6B21;&#x7F6E;&#x4F4D;1&#xFF0C;&#x540E;&#x9762;&#x7684;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002; &#x4E0B;&#x56FE;&#x4E2D;m = 18&#xFF0C; k = 3&#x3002; &#x5143;&#x7D20;&#x67E5;&#x8BE2; &#x5BF9;&#x67E5;&#x8BE2;&#x5143;&#x7D20;y&#x5E94;&#x7528;k&#x6B21;&#x54C8;&#x5E0C;&#x51FD;&#x6570; &#x5982;&#x679C;&#x6240;&#x6709;hi(y) = 1,&#x90A3;&#x4E48;y&#x662F;&#x96C6;&#x5408;&#x4E2D;&#x5143;&#x7D20;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x662F; &#x9519;&#x8BEF;&#x7387;&#x4F30;&#x8BA1; &#x7531;&#x7B97;&#x6CD5;&#x53EF;&#x77E5;&#xFF0C;&#x6240;&#x6709;&#x5143;&#x7D20;&#x901A;&#x8FC7;k&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x54C8;&#x5E0C;&#x540E;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x4E32;&#x4E2D;&#x67D0;&#x4E00;&#x4F4D;&#x8FD8;&#x4E3A;0&#x7684;&#x6982;&#x7387;&#x662F; p&apos; = (1-1/m)kn &#x9519;&#x8BEF;&#x7387;&#x5219;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x6210;k&#x6B21;&#x54C8;&#x5E0C;&#x90FD;&#x521A;&#x597D;&#x9009;&#x4E2D;1&#x7684;&#x533A;&#x57DF;&#xFF08;false positive rate&#xFF09;&#xFF0C;&#x8868;&#x793A;&#x6210;&#x4E0B;&#x9762;&#x7684;&#x516C;&#x5F0F; (1-p&apos;)k &#x57FA;&#x672C;Bloom Filter&#x7684;&#x5185;&#x5BB9;&#x5C31;&#x8FD9;&#x6837;&#x4E86;&#xFF0C;&#x8BE6;&#x7EC6;&#x7684;&#x6269;&#x5C55;&#x5185;&#x5BB9;&#x5305;&#x62EC;&#x6700;&#x4F18;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#xFF0C;&#x4F4D;&#x4E32;&#x7684;&#x9009;&#x53D6;&#x53EF;&#x4EE5;&#x53C2;&#x770B;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#xFF0C;&#x603B;&#x7684;&#x6765;&#x8BF4;&#x8FD8;&#x662F;&#x76F8;&#x5F53;&#x7B80;&#x5355;&#x6613;&#x7528;&#x7684;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x6316;&#x636E;&#x7B49;&#x65B9;&#x9762;&#x4F7F;&#x7528;&#x8F83;&#x4E3A;&#x5E7F;&#x6CDB;&#x3002;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"Dijkstra算法","slug":"算法/2016-10-25-Dijkstra算法","date":"2016-10-24T16:00:00.000Z","updated":"2019-09-17T07:55:52.723Z","comments":true,"path":"2016/10/25/算法/2016-10-25-Dijkstra算法/","link":"","permalink":"http://www.liufr.com/2016/10/25/算法/2016-10-25-Dijkstra算法/","excerpt":"","text":"Dijkstra&#x7B97;&#x6CD5; Dijkstra&#x7B97;&#x6CD5;&#x6C42;&#x56FE;&#x4E2D;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x7684;&#x4E00;&#x79CD;&#x7B97;&#x6CD5;&#xFF0C;&#x4F18;&#x70B9;&#x662F;&#x5176;&#x80FD;&#x627E;&#x5230;&#x6240;&#x6709;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x6C42;&#x56FE;&#x4E2D;&#x4E0D;&#x80FD;&#x542B;&#x6709;&#x8D1F;&#x6743;&#x503C;&#x7684;&#x8FB9;&#x3002; &#x7B97;&#x6CD5;&#x63CF;&#x8FF0; Dijkstra&#x7B97;&#x6CD5;&#x7684;&#x601D;&#x60F3;&#x662F;&#x4E00;&#x79CD;&#x8D2A;&#x5A6A;&#x7B97;&#x6CD5;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x6839;&#x8282;&#x70B9;&#xFF08;root&#xFF09;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;distance = 0 &#x5E76;&#x653E;&#x5728;&#x4F18;&#x5148;&#x961F;&#x5217;S&#x4E2D;&#xFF0C;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x88AB;&#x8BBE;&#x7F6E;&#x6210;distance = +inf &#x5E76;&#x653E;&#x5728;&#x7B49;&#x5F85;&#x961F;&#x5217;V&#x4E2D;&#x3002;&#x8BBE;descendent node&#x662F;V&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x4ECE;processed node&#x5230;descendent node&#x4E14;&#x4E2D;&#x95F4;&#x53EA;&#x7ECF;&#x8FC7;S&#x4E2D;&#x8282;&#x70B9;&#x7684;&#x8DEF;&#x5F84;&#x53EB;&#x505A;&#x5173;&#x952E;&#x8DEF;&#x5F84;&#xFF0C;&#x91C7;&#x7528;&#x6570;&#x7EC4;dist&#x8BB0;&#x5F55;&#x8DEF;&#x5F84;&#x957F;&#x5EA6;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5728;&#x7B97;&#x6CD5;&#x4E2D;&#x4FDD;&#x8BC1; distance.processed + edgeWeight.(processed,descendant) &lt; distance.descendent &#x5982;&#x679C;&#x4E0A;&#x5F0F;&#x6210;&#x7ACB;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;processed node&#x8BBE;&#x7F6E;&#x6210;descendant node &#x7684;&#x7956;&#x5148;&#x8282;&#x70B9;&#xFF08;ancestor&#xFF09;&#xFF0C;&#x904D;&#x5386;V&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8282;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x9009;&#x53D6;&#x6700;&#x4F18;&#xFF08;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#xFF09;&#x52A0;&#x5165;S&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x590D;&#x4E0A;&#x8FF0;&#x8FC7;&#x7A0B;&#xFF0C;&#x76F4;&#x5230;V&#x96C6;&#x5408;&#x4E3A;&#x7A7A;&#x3002; /** * Dijkstra&apos;s algorithm * @param d matrix of legths, position [0 1] = 2 means that from node 0 leads an edge to node 1 of length 2 * @param from root node * @return tree an ancestors (denotes path from the node to the root node) */procedure int[] doDijkstra(d, from) { //insert all nodes to the priority queue, node from has a distance 0, all others infinity Q = InsertAllNodesToTheQueue(d, from) CLOSED = {} //closed nodes - empty set predecessors = new array[d.nodeCount] //array of ancestors while !Q.isEmpty() do node = Q.extractMin() CLOSED.add(node) //close the node //contract distances for a in Adj(node) do //for all descendants if !CLOSED.contains(a) //if the descendatn was not closed yet //and his distance has decreased if Q[node].distance + d[node][a] &lt; Q[a].distance //zmen prioritu (vzdalenost) uzlu Q[a].distance = Q[node].distance + d[node][a] //change its ancestor predecessors[a] = node return predecessors /** * Dijkstra&apos;s algorithm * @param d matrix of lengths (Integer.MAX_VALUE if there is no edge between the nodes) * @param from root node * @return tree an ancestors (denotes path from the node to the root node) */ public static int[] doDijkstra(int[][] d, int from) { Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(); set.add(from); boolean[] closed = new boolean[d.length]; int[] distances = new int[d.length]; for (int i = 0; i &lt; d.length; i++) { if (i != from) { distances[i] = Integer.MAX_VALUE; } else { distances[i] = 0; } } int[] predecessors = new int[d.length]; predecessors[from] = -1; while (!set.isEmpty()) { //find the nearest node int minDistance = Integer.MAX_VALUE; int node = -1; for(Integer i : set){ if(distances[i] &lt; minDistance){ minDistance = distances[i]; node = i; } } set.remove(node); closed[node] = true; //contract the distances for (int i = 0; i &lt; d.length; i++) { //edge exists if (d[node][i] != Integer.MAX_VALUE) { if (!closed[i]) { //the path length decreased using the ancestor node if (distances[node] + d[node][i] &lt; distances[i]) { distances[i] = distances[node] + d[node][i]; predecessors[i] = node; set.add(i); } } } } } return predecessors; } &#x56FE;&#x793A; &#x8FED;&#x4EE3; S descentdent node dist[A] dist[B] dist[C] dist[D] &#x521D;&#x59CB; {S} - 20 10 max int 70 1 {S&#xFF0C;B} B 20 10 40 70 2 {S&#xFF0C;B&#xFF0C;A} A 20 10 40 70 3 {S&#xFF0C;B&#xFF0C;A&#xFF0C;C} C 20 10 40 70 4 {S&#xFF0C;B&#xFF0C;A&#xFF0C;C&#xFF0C;D} D 20 10 40 70","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"Bellman-Ford算法","slug":"算法/2016-10-25-BellmanFord算法","date":"2016-10-24T16:00:00.000Z","updated":"2019-09-17T07:55:49.424Z","comments":true,"path":"2016/10/25/算法/2016-10-25-BellmanFord算法/","link":"","permalink":"http://www.liufr.com/2016/10/25/算法/2016-10-25-BellmanFord算法/","excerpt":"","text":"Bellman-Ford &#x7B97;&#x6CD5; Bellman-Ford&#x7B97;&#x6CD5;&#x662F;&#x8BA1;&#x7B97;&#x5355;&#x6E90;&#xFF08;single source vertex&#xFF09;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x7684;&#x7B97;&#x6CD5;&#x3002;&#x76F8;&#x6BD4;&#x8F83;&#x4E8E; Dijkstra&apos;s algorithm &#x7B97;&#x6CD5;&#xFF0C;BellmanFord&#x7B97;&#x6CD5;&#x8F83;&#x6162;&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x80FD;&#x9002;&#x5408;&#x6709;&#x8D1F;&#x6743;&#x503C;&#x7684;&#x8FB9;&#xFF0C;&#x5BF9;&#x4E8E;&#x8D1F;&#x73AF;&#x56FE;&#xFF08;negative cycle&#xFF09;&#x4E5F;&#x80FD;&#x68C0;&#x6D4B;&#x5230;&#x5176;&#x5B58;&#x5728;&#xFF0C;&#x8FD9;&#x5BF9;&#x4E8E;&#x56FE;&#x8BA1;&#x7B97;/&#x8BA1;&#x7B97;&#x673A;&#x7F51;&#x7EDC;&#x8DEF;&#x7531;&#x7B97;&#x6CD5;&#x90FD;&#x6709;&#x91CD;&#x8981;&#x7684;&#x610F;&#x4E49;&#x3002; Bellman-Ford&#x7B97;&#x6CD5;&#x662F;&#x57FA;&#x4E8E;&#x677E;&#x5F1B;&#x8BA1;&#x7B97;&#x7684;&#xFF08;relaxation operation&#xFF09; &#x677E;&#x5F1B;&#x8BA1;&#x7B97; &#x5BF9;&#x4E8E;&#x4E24;&#x70B9;&#xFF08;A&#x548C;B&#xFF09;&#x4EE5;&#x53CA;&#x8FDE;&#x63A5;&#x4ED6;&#x4EEC;&#x7684;&#x8FB9;&#xFF0C;&#x5982;&#x679C;&#x6E90;&#x8282;&#x70B9;S&#xFF08;source node&#xFF09;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;A&#x7684;&#x8DDD;&#x79BB;&#x52A0;&#x4E0A;AB&#x95F4;&#x7684;&#x8FB9;&#x7684;&#x8DDD;&#x79BB;&#x5C0F;&#x4E8E;&#x6E90;&#x8282;&#x70B9;S&#x5230;&#x7B2C;&#x4E8C;&#x4E2A;&#x8282;&#x70B9;B&#x7684;&#x8DDD;&#x79BB;&#xFF0C;&#x90A3;&#x4E48;A&#x5C06;&#x4F5C;&#x4E3A;B&#x7684;&#x5148;&#x9A71;&#x8282;&#x70B9;&#xFF0C;&#x6E90;&#x8282;&#x70B9;&#x5230;B&#x7684;&#x8DDD;&#x79BB;&#x4E5F;&#x66F4;&#x65B0;&#x5230;&#xFF08;distance&#xFF08;A&#xFF09;+ edge.length&#xFF08;A,B&#xFF09;&#xFF09;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x66F4;&#x65B0;&#x3002; Bellman-Ford&#x7B97;&#x6CD5;&#x53EF;&#x4EE5;&#x5927;&#x81F4;&#x5206;&#x4E3A;&#x4E09;&#x4E2A;&#x90E8;&#x5206; 1. &#x521D;&#x59CB;&#x5316;&#x6240;&#x6709;&#x70B9;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x70B9;&#x4FDD;&#x5B58;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x4ECE;&#x539F;&#x70B9;&#x5230;&#x8FBE;&#x8FD9;&#x4E2A;&#x70B9;&#x7684;&#x8DDD;&#x79BB;&#xFF0C;&#x5C06;&#x539F;&#x70B9;&#x7684;&#x503C;&#x8BBE;&#x4E3A;0&#xFF0C;&#x5176;&#x5B83;&#x7684;&#x70B9;&#x7684;&#x503C;&#x8BBE;&#x4E3A;&#x65E0;&#x7A77;&#x5927;&#xFF08;&#x8868;&#x793A;&#x4E0D;&#x53EF;&#x8FBE;&#xFF09;&#x3002; 2. &#x8FDB;&#x884C;&#x5FAA;&#x73AF;&#xFF0C;&#x5FAA;&#x73AF;&#x4E0B;&#x6807;&#x4E3A;&#x4ECE;1&#x5230;n&#xFF0D;1&#xFF08;n&#x7B49;&#x4E8E;&#x56FE;&#x4E2D;&#x70B9;&#x7684;&#x4E2A;&#x6570;&#xFF09;&#x3002;&#x5728;&#x5FAA;&#x73AF;&#x5185;&#x90E8;&#xFF0C;&#x904D;&#x5386;&#x6240;&#x6709;&#x7684;&#x8FB9;&#xFF0C;&#x8FDB;&#x884C;&#x677E;&#x5F1B;&#x8BA1;&#x7B97;&#x3002; 3. &#x904D;&#x5386;&#x9014;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x8FB9;&#xFF08;edge&#xFF08;u&#xFF0C;v&#xFF09;&#xFF09;&#xFF0C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x8FD9;&#x6837;&#x60C5;&#x51B5;&#xFF1A; d&#xFF08;v&#xFF09; &gt; d (u) + w(u,v)&#xFF0C;&#x5219;&#x8FD4;&#x56DE;false&#xFF0C;&#x8868;&#x793A;&#x9014;&#x4E2D;&#x5B58;&#x5728;&#x4ECE;&#x6E90;&#x70B9;&#x53EF;&#x8FBE;&#x7684;&#x6743;&#x4E3A;&#x8D1F;&#x7684;&#x56DE;&#x8DEF; function &lt;predecessors&gt; Bellman-Ford(G, source) for i in 1 to |U| do distance[i] = +inf predecessors[i] = null distance[source] = 0 for i in 1 to (|U| - 1) do for each Edge e in Edges(G) do if distance[e.from] + length(e) &lt; distance[e.to] do distance[e.to] = distance[e.from] + length(e) predecessors[e.to] = e.from for each Edge e in Edges(G) do if distance[e.from] + length(e) &lt; distance[e.to] do error(&quot;Graph contains cycles of negative length&quot;) return predecessors &#x8FD9;&#x91CC;&#x7684;&#x7B2C;&#x4E09;&#x6B65;&#x662F;&#x4E3A;&#x4E86;&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x5B58;&#x5728;negative cycle&#xFF0C;&#x5047;&#x8BBE;&#x5B58;&#x5728;&#x4EE5;&#x4E0B;&#x56FE;&#x5E76;&#x8FDB;&#x884C;relaxation operation&#xFF1A; &#x7531;&#x4E8E;&#x5B58;&#x5728;negative edge &#x5BFC;&#x81F4;&#x6BCF;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x677E;&#x5F1B;&#x8BA1;&#x7B97;&#xFF0C;&#x8282;&#x70B9;&#x7684;&#x6743;&#x503C;&#x90FD;&#x4F1A;&#x51CF;&#x5C0F;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x73AF;&#x56FE;&#x4E2D;&#x5C31;&#x6CA1;&#x6709;&#x6536;&#x655B;&#xFF0C;&#x6B64;&#x65F6;&#x6839;&#x636E;&#x7B97;&#x6CD5;&#x7B2C;&#x4E09;&#x6761;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#xFF0C;&#x82E5;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x5219;&#x8BF4;&#x660E;&#x5B58;&#x5728;negative edge example","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/categories/Algorithm/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://www.liufr.com/tags/Algorithm/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi Input02","slug":"Pi/2016-09-01-Raspberry Pi Input02","date":"2016-08-31T16:00:00.000Z","updated":"2017-10-20T01:31:26.860Z","comments":true,"path":"2016/09/01/Pi/2016-09-01-Raspberry Pi Input02/","link":"","permalink":"http://www.liufr.com/2016/09/01/Pi/2016-09-01-Raspberry Pi Input02/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x5728;&#x5B9E;&#x9A8C;Input 01&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x53EF;&#x4EE5;&#x4E2D;&#x65AD;&#x5E76;&#x663E;&#x793A;&#x5B83;&#x4EEC;&#x3002; &#x7EC8;&#x7AEF; &#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x884C;&#x4E3A;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; 1. &#x542F;&#x52A8;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x663E;&#x793A;&#x6B22;&#x8FCE;&#x4FE1;&#x606F; 2. &#x8BA1;&#x7B97;&#x673A;&#x8868;&#x660E;&#x5B83;&#x51C6;&#x5907;&#x597D;&#x5DE5;&#x4F5C; 3. &#x4F7F;&#x7528;&#x8005;&#x5728;&#x952E;&#x76D8;&#x4E0A;&#x952E;&#x5165;&#x6307;&#x4EE4;&#x548C;&#x53C2;&#x6570; 4. &#x5F53;&#x6572;&#x4E0B;&#x56DE;&#x8F66;&#x952E;&#x65F6;&#x8868;&#x793A;&#x63D0;&#x4EA4;&#x4E00;&#x6761;&#x6307;&#x4EE4; 5. &#x8BA1;&#x7B97;&#x673A;&#x89E3;&#x6790;&#x5E76;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x5982;&#x679C;&#x8BE5;&#x6307;&#x4EE4;&#x6CA1;&#x6709;&#x9519;&#x8BEF; 6. &#x8BA1;&#x7B97;&#x673A;&#x663E;&#x793A;&#x6307;&#x4EE4;&#x6B63;&#x786E;&#x4EE5;&#x53CA;&#x63A5;&#x4E0B;&#x6765;&#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48; 7. &#x8FD4;&#x56DE;&#x5230;&#x6B65;&#x9AA4;2 &#x5728;&#x7EC8;&#x7AEF;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x64CD;&#x4F5C;&#x90FD;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x7EDF;&#x4E00;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x53BB;&#x7ED8;&#x5236;&#x51FA;&#x6BCF;&#x4E00;&#x4E2A;&#x50CF;&#x7D20;&#x70B9;&#xFF08;&#x8BA1;&#x7B97;&#x673A;&#x5728;&#x6B64;&#x5904;&#x7684;&#x989D;&#x64CD;&#x4F5C;&#x662F;&#x4EE5;&#x5B57;&#x7B26;&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#xFF09;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6BCF;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x56FE;&#x6848;&#x4FE1;&#x606F;&#x3001;&#x989C;&#x8272;&#x4FE1;&#x606F;&#x7B49;&#x90FD;&#x4FDD;&#x5B58;&#x8D77;&#x6765;&#xFF0C;&#x518D;&#x6309;&#x7167;&#x9700;&#x8981;&#x901A;&#x8FC7;DrawCharacter&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6BCF;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x5373;&#x53EF;&#x3002; .section .data.align 4terminalStart:.int terminalBufferterminalStop:.int terminalBufferterminalView:.int terminalBufferterminalColour:.byte 0xf.align 8terminalBuffer:.rept 128*128.byte 0x7f.byte 0x0.endrterminalScreen:.rept 1024/8 * 768/16.byte 0x7f.byte 0x0.endr terminalBuffer &#x53EF;&#x4EE5;&#x4FDD;&#x5B58;&#x6211;&#x4EEC;&#x6240;&#x6709;&#x9700;&#x8981;&#x663E;&#x793A;&#x7684;&#x6587;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x4E86;&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x4FDD;&#x5B58;128&#x884C;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x4FDD;&#x5B58;&#x4E86;128&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B57;&#x7B26;&#x53C8;&#x4FDD;&#x5B58;&#x4E86;ASCII&#x5B57;&#x7B26;&#x4EE5;&#x53CA;&#x989C;&#x8272;&#x4FE1;&#x606F;&#xFF0C;&#x4F7F;&#x7528;buffer&#x7684;&#x4F18;&#x70B9;&#x5982;&#x4E0B;&#xFF1A; 1. &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8F7B;&#x6613;&#x770B;&#x54EA;&#x4E2A;&#x5B57;&#x7B26;&#x4E0D;&#x540C;&#xFF0C;&#x4ECE;&#x800C;&#x533A;&#x5206;&#x51FA;&#x6765; 2. &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x56DE;&#x6EDA;&#x5230;&#x5386;&#x53F2;&#x7248;&#x672C;&#x56E0;&#x4E3A;buffer&#x91CC;&#x9762;&#x53EF;&#x4EE5;&#x4FDD;&#x5B58;&#x5230;&#x5386;&#x53F2;&#x4FE1;&#x606F; terminalScreen &#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x663E;&#x793A;&#x7684;&#x6587;&#x672C;&#x4FE1;&#x606F; terminalStart terminalStop &#x7531;&#x4E8E;&#x5728;&#x8FD9;&#x91CC;&#x7684;buffer&#x662F;&#x73AF;&#x5F62;&#x7ED3;&#x6784;&#x7684;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x5FAA;&#x73AF;&#x94FE;&#x8868;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x7528;Start&#x548C;Stop&#x6765;&#x8FDB;&#x884C;&#x6807;&#x8BC6;&#x8D77;&#x59CB;&#x4E8E;&#x4E2D;&#x6B62;&#x4F4D;&#x7F6E;&#xFF0C;&#x56E0;&#x6B64;&#x5F53;&#x4E2D;&#x6B62;&#x8D85;&#x8FC7;&#x8D77;&#x59CB;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x80FD;&#x53D1;&#x89C9;&#x662F;&#x5426;&#x8981;&#x66F4;&#x66FF;&#x5B57;&#x6BCD;&#x6216;&#x8005;&#x5176;&#x5B83;&#x64CD;&#x4F5C; . terminalColor &#x7EFC;&#x5408;&#x524D;&#x666F;&#x6587;&#x5B57;&#x4E0E;&#x80CC;&#x666F;&#x5404;16&#x79CD;&#x989C;&#x8272;&#xFF0C;&#x4E00;&#x5171;256&#x7EC4;&#x5408;,&#x6BCF;&#x4E2A;&#x5B57;&#x7B26;&#x4E2D;&#x4F4E;&#x4F4D;&#x4FDD;&#x5B58;&#x7684;&#x662F;&#x524D;&#x666F;&#x989C;&#x8272;&#xFF0C;&#x9AD8;&#x4F4D;&#x4FDD;&#x5B58;&#x7684;&#x662F;&#x80CC;&#x666F;&#x989C;&#x8272;&#xFF0C; &#x6587;&#x672C;&#x663E;&#x793A; terminalDisplay &#x8BE5;&#x51FD;&#x6570;&#x662F;&#x4ECE;terminalBuffer&#x4E2D;&#x590D;&#x5236;&#x5F53;&#x524D;&#x7684;&#x6570;&#x636E;&#x5230;terminalScreen&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x6BD4;&#x8F83;&#x4E8C;&#x8005;&#x662F;&#x5426;&#x4E0D;&#x540C;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x540C;&#x8981;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x3002; &#x52A0;&#x8F7D; terminalView terminalStop terminalDisplay &#x51FD;&#x6570; &#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x884C;&#x6765;&#x8BF4;&#xFF08;&#x5148;&#x884C;&#x904D;&#x5386;&#xFF09; &#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x5217;&#x6765;&#x8BF4;&#xFF08;&#x518D;&#x5217;&#x904D;&#x5386;&#xFF09; &#x5982;&#x679C;view&#x89C6;&#x56FE;&#x4E2D;&#x4E0D;&#x4E3A;stop&#xFF0C;&#x5219;&#x52A0;&#x8F7D;view&#x5F53;&#x524D;&#x5B57;&#x7B26;&#x4E0E;&#x989C;&#x8272; &#x5426;&#x5728;&#x52A0;&#x8F7D;&#x5B57;&#x7B26;0x7f&#x4E0E;&#x989C;&#x8272;0 &#x4ECE;terminalDisplay&#x52A0;&#x8F7D;&#x5F53;&#x524D;&#x5B57;&#x7B26; &#x5982;&#x679C;&#x4E8C;&#x8005;&#x76F8;&#x540C;&#x5219;&#x8DF3;&#x8F6C;&#x5230;&#x6B65;&#x9AA4;10 &#x4E8C;&#x8005;&#x4E0D;&#x540C;&#x5219;&#x9700;&#x8981;&#x5C06;&#x52A0;&#x8F7D;&#x5230;&#x7684;&#x5B57;&#x7B26;&#x4E0E;&#x989C;&#x8272;&#x4FDD;&#x5B58;&#x5230;terminalDisplay&#x4E2D; &#x8C03;&#x7528; TerminalColor &#x51FD;&#x6570;&#xFF0C;&#x83B7;&#x53D6;&#x80CC;&#x666F;&#x989C;&#x8272; &#x8C03;&#x7528; DrawCharacter &#x51FD;&#x6570;&#xFF0C;r0 = 0x7f&#xFF08;&#x7A7A;&#x767D;&#xFF09;&#xFF0C;r1=x&#xFF0C; r2 = y &#x8C03;&#x7528; TerminalColor &#x51FD;&#x6570;&#xFF0C;&#x83B7;&#x53D6;&#x524D;&#x666F;&#x989C;&#x8272; &#x8C03;&#x7528; DrawCharacter &#x51FD;&#x6570;&#xFF0C;r0 = &#x5F53;&#x524D;&#x663E;&#x793A;&#x5B57;&#x7B26;&#xFF0C;r1=x&#xFF0C; r2 = y &#x5C06; terminalDisplay &#x51FD;&#x6570;&#x663E;&#x793A;&#x7684;&#x4F4D;&#x7F6E;&#x52A0;2 &#x5982;&#x679C;view &#x4E0E; stop &#x4E0D;&#x76F8;&#x540C;&#xFF08;&#x6CA1;&#x6709;&#x5C06;&#x6240;&#x6709;&#x7A7A;&#x95F4;&#x586B;&#x6EE1;&#xFF09;&#xFF0C;view&#x7684;&#x4F4D;&#x7F6E;&#x4E5F;&#x52A0;2 &#x5426;&#x5219;&#x8981;&#x5C06;end&#x66FF;&#x6362;&#x6389;start&#x7684;&#x4F4D;&#x7F6E; x&#x7684;&#x5750;&#x6807;&#x8981;&#x52A0;8 y&#x7684;&#x5750;&#x6807;&#x8981;&#x52A0;16 &#x6253;&#x5370;&#x884C;&#x4FE1;&#x606F; &#x8BE5;&#x51FD;&#x6570;&#x5728;r0&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x4FDD;&#x5B58;&#x4E86;&#x4E32;&#x5730;&#x5740;&#xFF0C;&#x5728;r1&#x4E2D;&#x4FDD;&#x5B58;&#x4E86;&#x4E32;&#x957F;&#x5EA6;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5185;&#x5BB9;&#x5199;&#x51FA;&#x5230;&#x5F53;&#x524D;&#x7684;&#x5730;&#x5740;&#x4E2D;&#xFF0C;&#x5E76;&#x663E;&#x793A;&#x5230;&#x663E;&#x793A;&#x5668;&#x4E0A;&#x3002; &#x68C0;&#x6D4B;&#x4E32;&#x957F;&#x5EA6;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x5982;&#x679C;&#x4E3A;0&#x5219;&#x8FD4;&#x56DE; &#x52A0;&#x8F7D; terminalStop &#x548C; terminalView &#x51FD;&#x6570; &#x8BA1;&#x7B97;&#x5E76;&#x786E;&#x8BA4;x&#x5750;&#x6807;&#x7684;&#x4F4D;&#x7F6E;&#xFF08;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x786E;&#x5B9A;&#x8981;&#x663E;&#x793A;&#x4E32;&#x7684;&#x4F4D;&#x7F6E;&#xFF09; &#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x6709;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C; &#x68C0;&#x67E5;&#x6362;&#x884C;&#x7B26; &#x5982;&#x679C;&#x9700;&#x8981;&#x6362;&#x884C;&#x5C06;bufferStop&#x6807;&#x8BC6;&#x66F4;&#x65B0;&#x5230;&#x884C;&#x5C3E; &#x5982;&#x679C;&#x4E0D;&#x9700;&#x8981;&#x6362;&#x884C;&#x5C06;&#x5B57;&#x7B26;&#x590D;&#x5236;&#x5230;&#x5F53;&#x524D;&#x7684;terminalColour&#x4E2D; &#x68C0;&#x67E5;&#x662F;&#x5426;&#x5728;&#x884C;&#x5C3E; &#x5982;&#x679C;&#x5728;&#x884C;&#x5C3E;&#x5C31;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x5728;terminalView&#x4E0E;terminalStop&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x6570;&#x91CF;&#x662F;&#x5426;&#x8D85;&#x8FC7;&#x4E86;&#x5F53;&#x524D;&#x5C4F;&#x5E55;&#x6240;&#x80FD;&#x5BB9;&#x7EB3;&#x7684;&#x6570;&#x91CF; &#x5982;&#x679C;&#x8D85;&#x51FA;&#x5F53;&#x524D;&#x5C4F;&#x5E55;&#x5C31;&#x9700;&#x8981;&#x6362;&#x884C; &#x68C0;&#x67E5; terminalView &#x5982;&#x679C;&#x5728;buffer&#x5C3E;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5C06;start&#x66F4;&#x65B0; &#x68C0;&#x67E5; terminalStop &#x5982;&#x679C;&#x5728;buffer&#x5C3E;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5C06;start&#x66F4;&#x65B0; &#x68C0;&#x67E5; terminalStop &#x4E0E; terminalStart &#x662F;&#x5426;&#x76F8;&#x7B49;&#xFF0C;&#x5982;&#x679C;&#x76F8;&#x7B49;&#x5219;&#x9700;&#x8981;&#x589E;&#x52A0; terminalStart&#x7684;&#x503C;&#x6765;&#x6362;&#x884C; &#x68C0;&#x67E5; terminalStart &#x662F;&#x5426;&#x5728;buffer&#x5C3E;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x8FD9;&#x6837;&#x5219;&#x7528;start&#x6765;&#x66F4;&#x65B0;&#x5F53;&#x524D;&#x503C; &#x4FDD;&#x5B58; terminalStop &#x4E0E; terminalView &#x6807;&#x51C6;&#x8F93;&#x5165; ReadLine &#x5982;&#x679C;&#x6700;&#x5927;&#x957F;&#x5EA6;&#x662F;0&#xFF08;&#x5373;&#x6CA1;&#x6709;&#x8F93;&#x5165;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x8FD4;&#x56DE;0 &#x53D6;&#x56DE; terminalStop &#x548C; terminalView &#x5F53;&#x524D;&#x503C; &#x5982;&#x679C;&#x6700;&#x5927;&#x957F;&#x5EA6;&#x5927;&#x4E8E;buffer&#x5927;&#x5C0F;&#x7684;&#x4E00;&#x534A;&#xFF0C;&#x5C06;&#x957F;&#x5EA6;&#x7F6E;&#x4E3A;buffer&#x5927;&#x5C0F;&#x7684;&#x4E00;&#x534A; &#x4ECE;&#x6700;&#x5927;&#x957F;&#x5EA6;&#x51CF;&#x53BB;&#x4EE5;&#x4FDD;&#x8BC1;&#x80FD;&#x5B9E;&#x73B0;&#x4E0B;&#x5212;&#x7EBF;&#x95EA;&#x70C1;&#x4E0E;&#x7A7A;&#x7EC8;&#x7AEF;&#x7684;&#x5B9E;&#x73B0; &#x5728;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x52A0;&#x4E0A;&#x4E0B;&#x5212;&#x7EBF; &#x5199;&#x56DE; terminalView &#x4E0E; terminalStop &#x5730;&#x5740; &#x5BF9;&#x5F53;&#x524D;&#x5B57;&#x7B26;&#x4E32;&#x8C03;&#x7528; Print &#x51FD;&#x6570; &#x8C03;&#x7528; terminalDisplay &#x8C03;&#x7528; KeyboardUpdate &#x8C03;&#x7528; KeyboardGetChar &#x5982;&#x679C;&#x662F;&#x65B0;&#x7684;&#x884C;&#x5B57;&#x7B26;&#xFF0C;&#x5230;&#x6B65;&#x9AA4;16 &#x5982;&#x679C;&#x662F;&#x7A7A;&#x683C;&#x5E76;&#x4E14;&#x957F;&#x5EA6;&#x5927;&#x4E8E;1&#x5219;&#x5728;&#x957F;&#x5EA6;&#x4E0A;&#x51CF;1 &#x5982;&#x679C;&#x662F;&#x5E38;&#x89C4;&#x5B57;&#x7B26;&#x5E76;&#x4E14;&#x957F;&#x5EA6;&#x5C0F;&#x4E8E;&#x6700;&#x5927;&#x957F;&#x5EA6;&#x90A3;&#x4E48;&#x5C06;&#x5B57;&#x7B26;&#x5199;&#x5165;&#x5230;&#x4E32;&#x4E2D; &#x5982;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x4EE5;&#x4E0B;&#x5212;&#x7EBF;&#x7ED3;&#x5C3E;&#xFF0C;&#x52A0;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#x5426;&#x5219;&#x52A0;&#x4E00;&#x4E2A;&#x4E0B;&#x5212;&#x7EBF; &#x56DE;&#x5230;&#x6B65;&#x9AA4;6 &#x5728;&#x5DF2;&#x6709;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x540E;&#x9762;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x884C; &#x8C03;&#x7528; Print &#x548C; TerminalDisplay &#x51FD;&#x6570; &#x5C06;&#x65B0;&#x884C;&#x7528;&#x7A7A;&#x7EC8;&#x7AEF;&#x6765;&#x4EE3;&#x66FF; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi Input01","slug":"Pi/2016-08-31-Raspberry Pi Input01","date":"2016-08-30T16:00:00.000Z","updated":"2017-10-20T01:31:23.370Z","comments":true,"path":"2016/08/31/Pi/2016-08-31-Raspberry Pi Input01/","link":"","permalink":"http://www.liufr.com/2016/08/31/Pi/2016-08-31-Raspberry Pi Input01/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x4E86;&#x89E3;&#x9A71;&#x52A8;&#x4E0E;&#x94FE;&#x63A5;&#xFF0C;&#x4EE5;&#x53CA;&#x952E;&#x76D8;&#x548C;&#x5982;&#x4F55;&#x5728;&#x663E;&#x793A;&#x5668;&#x4E0A;&#x663E;&#x793A;&#x6587;&#x672C;&#x3002; &#x94FE;&#x63A5; &#x9759;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x4E0E;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x90FD;&#x662F;&#x5171;&#x4EAB;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x94FE;&#x63A5;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x8C03;&#x7528;&#x3002;&#x9759;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x76F4;&#x63A5;&#x5C06;&#x4EE3;&#x7801;&#x5730;&#x5740;&#x5199;&#x5165;&#x5230;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x800C;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x5219;&#x662F;&#x5728;&#x52A0;&#x8F7D;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x5B9E;&#x73B0;&#x94FE;&#x63A5;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x91C7;&#x7528;&#x7684;&#x662F;&#x9759;&#x6001;&#x94FE;&#x63A5;&#x7684;&#x65B9;&#x5F0F;&#x3002; &#x952E;&#x76D8;&#x5B9E;&#x73B0;&#x952E;&#x5165;&#x66F4;&#x65B0; &#x5728;&#x8BA1;&#x7B97;&#x673A;&#x5F53;&#x4E2D;&#xFF0C;&#x91CD;&#x590D;&#x67E5;&#x770B;&#x67D0;&#x4E00;&#x66F4;&#x65B0;&#x88AB;&#x79F0;&#x4E3A;&#x8F6E;&#x8BE2;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x7ECF;&#x5E38;&#x5728;I/O&#x5F53;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x672C;&#x5B9E;&#x9A8C;&#x5F53;&#x4E2D;&#x4E5F;&#x662F;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x8F6E;&#x8BE2;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x67E5;&#x770B;&#x952E;&#x76D8;&#x662F;&#x5426;&#x6709;&#x65B0;&#x7684;&#x8F93;&#x5165;&#x3002; &#x5177;&#x4F53;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; &#x53D6;&#x56DE;&#x5B58;&#x5165;&#x7684;&#x952E;&#x76D8;&#x5730;&#x5740;&#xFF08;&#x9ED8;&#x8BA4;&#x521D;&#x59CB;&#x4E3A;0&#xFF09; &#x5982;&#x679C;&#x4E0D;&#x4E3A;0&#x5219;&#x8BF4;&#x660E;&#x6709;&#x5F53;&#x524D;&#x952E;&#x5165;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x8DF3;&#x5230;&#x6B65;&#x9AA4;9 &#x4F7F;&#x7528;UsbCheckForChange&#x51FD;&#x6570;&#x6765;&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x6709;&#x65B0;&#x7684;&#x51FD;&#x6570;&#x503C;&#x66F4;&#x65B0; &#x4F7F;&#x7528;KeyboardCount&#x68C0;&#x6D4B;&#x73B0;&#x5728;&#x6709;&#x591A;&#x5C11;&#x952E; &#x5F53;&#x8FD4;&#x56DE;0&#x65F6;&#x8BF4;&#x660E;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x8BBE;&#x5907; &#x4F7F;&#x7528;KeyboardGetAddress&#x51FD;&#x6570;&#x53BB;&#x5F97;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x952E;&#x76D8;&#x5730;&#x5740; &#x5B58;&#x5165;&#x5730;&#x5740; &#x6709;&#x9519;&#x8BEF;&#x4EA7;&#x751F;&#x8FD4;&#x56DE;0 &#x91CD;&#x590D;&#x4F7F;&#x7528;6&#x6B21;KeyboardGetKeyDown&#x51FD;&#x6570;&#x53D6;&#x5F97;&#x6BCF;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#x5E76;&#x5B58;&#x50A8; &#x4F7F;&#x7528;KeyboardPoll&#x51FD;&#x6570; &#x5982;&#x679C;&#x6CA1;&#x6709;&#x9519;&#x8BEF;&#x5219;&#x8DF3;&#x8F6C;&#x5230;&#x6B65;&#x9AA4;3 .section .text.globl KeyboardUpdateKeyboardUpdate:push {r4,r5,lr}kbd .req r4ldr r0,=KeyboardAddressldr kbd,[r0]teq kbd,#0bne haveKeyboard$getKeyboard$:bl UsbCheckForChange &#x9996;&#x5148;&#x5C06;KeyboardAddress&#x5B58;&#x5165;r4&#x4E2D;&#xFF0C;&#x5E76;&#x5224;&#x65AD;&#x5176;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x5F53;&#x5730;&#x5740;&#x4E3A;0&#x5219;&#x8BF4;&#x660E;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x952E;&#x76D8;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F7F;&#x7528;UsbCheckForChange&#x6765;&#x67E5;&#x627E;&#x65B0;&#x8BBE;&#x5907;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E00;&#x6B65;&#x6D88;&#x8017;&#x8D44;&#x6E90;&#x8F83;&#x5927;&#xFF0C;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x3002; teq r0,#0ldreq r1,=KeyboardAddressstreq r0,[r1]beq return$mov r0,#0bl KeyboardGetAddress &#x5F53;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x952E;&#x76D8;&#x662F;&#xFF0C;&#x7406;&#x5E94;&#x83B7;&#x53D6;&#x4E0D;&#x5230;&#x952E;&#x76D8;&#x5730;&#x5740;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5E94;&#x8BE5;&#x5C06;r0&#x521D;&#x59CB;&#x5316;&#x4E3A;0&#x540E;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;&#x8FD4;&#x56DE;&#x6765;&#x67E5;&#x770B;&#x5730;&#x5740;&#x3002; saveKeys$:mov r0,kbdmov r1,r5bl KeyboardGetKeyDownldr r1,=KeyboardOldDownadd r1,r5,lsl #1strh r0,[r1]add r5,#1cmp r5,#6blt saveKeys$ &#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x91C7;&#x7528;&#x8F6E;&#x8BE2;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x83B7;&#x53D6;&#x952E;&#x5165;&#x503C; mov r0,kbdbl KeyboardPollteq r0,#0bne getKeyboard$return$:pop {r4,r5,pc}.unreq kbd &#x6210;&#x529F;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x952E;&#x5165;&#x503C;&#x4E4B;&#x540E;&#x4F7F;&#x8C03;&#x7528;KeyboardPoll&#x51FD;&#x6570;&#x3002; &#x7136;&#x540E;&#x6839;&#x636E;&#x952E;&#x76D8;&#x5339;&#x914D;&#x7684;&#x5B57;&#x7B26;&#x8868;&#x6765;&#x8FDB;&#x884C;&#x6BD4;&#x5BF9;&#x4ECE;&#x800C;&#x5F97;&#x5230;&#x6BCF;&#x4E00;&#x4E2A;&#x6309;&#x952E;&#x6240;&#x4EE3;&#x8868;&#x7684;&#x5B57;&#x7B26;&#x4FE1;&#x606F;&#xFF0C;&#x5B8C;&#x6210;&#x4FE1;&#x606F;&#x952E;&#x5165;&#x3002;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi Screen04","slug":"Pi/2016-08-16-Raspberry Pi Screen04","date":"2016-08-15T16:00:00.000Z","updated":"2017-10-20T01:31:18.330Z","comments":true,"path":"2016/08/16/Pi/2016-08-16-Raspberry Pi Screen04/","link":"","permalink":"http://www.liufr.com/2016/08/16/Pi/2016-08-16-Raspberry Pi Screen04/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x5728;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x4E0A;&#x64CD;&#x4F5C;&#x6587;&#x672C; &#x80CC;&#x666F;&#x8865;&#x5145; &#x5B57;&#x7B26;&#x4E32;&#x64CD;&#x4F5C; &#x8BA1;&#x7B97;&#x673A;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x4E8E;&#x53EA;&#x663E;&#x793A;&#x63D0;&#x524D;&#x51C6;&#x5907;&#x597D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x9700;&#x8981;&#x6709;&#x7279;&#x5B9A;&#x7684;&#x51FD;&#x6570;&#x6765;&#x5904;&#x7406;&#x542B;&#x6709;&#x53D8;&#x91CF;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x8868;&#x683C;&#x5C31;&#x662F;C++&#x5E38;&#x89C1;&#x8BED;&#x6CD5;&#x3002; &#x5373;&#x4F7F;&#x4F20;&#x5165;&#x7684;&#x53D8;&#x91CF;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x663E;&#x793A;&#x7684;&#x683C;&#x5F0F;&#x4E0D;&#x4E00;&#x6837;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E5F;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x5982;&#x4E0B;&#xFF1A; &#x9664;&#x6CD5; &#x4E0D;&#x540C;&#x4E8E;&#x4EBA;&#x4EEC;&#x8FD0;&#x7B97;&#x9664;&#x6CD5;&#x65F6;&#x91C7;&#x7528;&#x7684;&#x4E58;&#x6CD5;&#x8868;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x5728;&#x8FDB;&#x884C;&#x9664;&#x6CD5;&#x8FD0;&#x7B97;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x5176;&#x8F6C;&#x6362;&#x6210;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x5B57;&#xFF0C;&#x4ECE;&#x88AB;&#x9664;&#x6570;&#x6700;&#x9AD8;&#x4E3A;&#x5F00;&#x59CB;&#xFF0C;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6570;&#xFF0C;&#x975E;&#x96F6;&#x5373;&#x4E00;&#xFF0C;&#x68C0;&#x67E5;&#x8BE5;&#x4F4D;&#x4E0A;&#x80FD;&#x5426;&#x51CF;&#x53BB;&#x9664;&#x6570;&#x4E4B;&#x540E;&#x4F59;&#x6570;&#x8FD8;&#x5927;&#x4E8E;0&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x628A;&#x4F59;&#x6570;&#x90E8;&#x4F4D;&#xFF0C;&#x7EE7;&#x7EED;&#x5B8C;&#x6210;&#x4E0B;&#x4E00;&#x4F4D;&#x7684;&#x8FD0;&#x7B97;&#x3002;&#x91CD;&#x590D;&#x76F4;&#x5230;&#x6240;&#x6709;&#x88AB;&#x9664;&#x6570;&#x7684;&#x4F4D;&#x90FD;&#x88AB;&#x5904;&#x7406;&#x65E2;&#x5B8C;&#x6210;&#x3002; &#x76F8;&#x6BD4;&#x8F83;&#x4E8E;&#x5176;&#x4ED6;&#x8FD0;&#x7B97;&#xFF0C;&#x9664;&#x6CD5;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x5F00;&#x9500;&#x662F;&#x5F88;&#x5927;&#x7684;&#xFF0C;&#x4E00;&#x65B9;&#x9762;&#x4ED6;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5546;&#x5B9E;&#x9645;&#x4E0A;&#x90FD;&#x662F;&#x8BD5;&#x9A8C;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x8BA1;&#x7B97;&#x80FD;&#x786E;&#x5B9A;&#x7684;&#x7ED3;&#x679C;&#xFF1B;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#x4ED6;&#x7684;&#x6BCF;&#x4E00;&#x6B21;&#x8FD0;&#x7B97;&#x90FD;&#x53D6;&#x51B3;&#x4E8E;&#x4E0A;&#x4E00;&#x6B21;&#x7684;&#x8FD0;&#x7B97;&#x7ED3;&#x679C;&#xFF0C;&#x6CA1;&#x6CD5;&#x901A;&#x8FC7;&#x786C;&#x4EF6;&#x5B9E;&#x73B0;&#x5E76;&#x884C;&#x8BA1;&#x7B97;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x80FD;&#x63D0;&#x5347;&#x9664;&#x6CD5;&#x7684;&#x6027;&#x80FD;&#x662F;&#x5F88;&#x6709;&#x610F;&#x4E49;&#x7684;&#x3002; &#x6211;&#x4EEC;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x9664;&#x6CD5;&#x8FD0;&#x7B97;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x7684;&#x4F18;&#x5316;&#xFF1A;&#x6BD4;&#x5982;&#x8BF4;&#x4E00;&#x4E9B;&#x8F83;&#x5C0F;&#x7684;&#x6570;&#x7684;&#x8BA1;&#x7B97;&#xFF0C;1/1 &#x6211;&#x4EEC;&#x5C31;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x4ECE;&#x6700;&#x9AD8;&#x4F4D;&#x5F00;&#x59CB;loop&#xFF0C;&#x7528;clz&#x6307;&#x4EE4;&#xFF08;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x524D;&#x5BFC;0&#x7684;&#x6570;&#x76EE;&#xFF09;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x907F;&#x5F00;&#x9AD8;&#x4F4D;&#x4E3A;0&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x63D0;&#x9AD8;&#x8BA1;&#x7B97;&#x6027;&#x80FD;&#x3002; &#x4EE3;&#x7801;&#x5206;&#x6790; &#x6570;&#x5B57;&#x4E32; SignedString &#x6211;&#x4EEC;&#x5904;&#x7406;&#x6709;&#x7B26;&#x53F7;&#x548C;&#x65E0;&#x7B26;&#x53F7;&#x6570;&#x65F6;&#x4E3B;&#x8981;&#x7684;&#x533A;&#x522B;&#x5C31;&#x662F;&#x5728;&#x4E8E;&#x6700;&#x9AD8;&#x4F4D;&#x6240;&#x4EE3;&#x8868;&#x7684;&#x542B;&#x4E49;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E;&#x6B63;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6309;&#x7167;&#x65E0;&#x7B26;&#x53F7;&#x6570;&#x5904;&#x7406;&#xFF0C;&#x8D1F;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x53EF;&#x4EE5;&#x7528;&#x5269;&#x4F59;&#x4F4D;&#x7684;&#x6570;&#x5B57;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x7136;&#x540E;&#x6700;&#x540E;&#x5224;&#x65AD;&#x7B26;&#x53F7;&#x586B;&#x5728;&#x7ED3;&#x679C;&#x524D;&#x9762;&#x5C31;&#x597D;&#x3002; UnsignedString &#x5728;&#x5904;&#x7406;&#x65E0;&#x7B26;&#x53F7;&#x7684;&#x6570;&#x65F6;&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x4E24;&#x53E5;&#x4F2A;&#x4EE3;&#x7801; rem + &apos;0&apos;&#xFF0C; rem - 10 + &apos;a&apos; &#x5C31;&#x662F;&#x6839;&#x636E;ascii&#x7801;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x7684;&#x3002; &#x683C;&#x5F0F;&#x4E32; &#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x63D0;&#x5230;&#x7684; %d &#x5C31;&#x662F;&#x4E00;&#x79CD;&#x683C;&#x5F0F;&#x5316;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x683C;&#x5F0F;&#x5316;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7CBE;&#x9AD3;&#x5C31;&#x662F;&#x5404;&#x79CD;&#x53D8;&#x53C2;&#xFF08;&#x53EF;&#x4EE5;&#x53C2;&#x770B;&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;&#xFF09;,&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x9650;&#x5236;&#x957F;&#x5EA6;&#x3001;&#x7CBE;&#x5EA6;&#x7B49;&#x3002;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x624B;&#x9996;&#x8981;&#x786E;&#x5B9A;&#x7684;&#x5173;&#x952E;&#x5C31;&#x662F;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x91C7;&#x7528;&#x6808;&#x6765;&#x5B58;&#x50A8;&#x53C2;&#x6570;&#xFF0C;&#x5BF9;&#x4E8E;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x53CD;&#x5411;&#x538B;&#x6808;&#xFF0C;&#x7136;&#x540E;&#x4F9D;&#x6B21;&#x5224;&#x65AD;&#x6BCF;&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x542B;&#x4E49;&#xFF0C;&#x4ECE;&#x800C;&#x8FDB;&#x884C;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x683C;&#x5F0F;&#x5316;&#x5904;&#x7406;&#x3002; &#x8FDB;&#x5236;&#x8F6C;&#x6362; &#x5728;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x6211;&#x4EEC;&#x5C06;10&#x8FDB;&#x5236;&#x6570;&#x5B57;&#x8F6C;&#x6362;&#x6210;&#x5176;&#x5B83;&#x8FDB;&#x5236;&#x7684;&#x6570;&#x5B57;&#x3002; mov r4,#0loop$:ldr r0,=formatmov r1,#formatEnd-formatldr r2,=formatEndlsr r3,r4,#4push {r3}push {r3}push {r3}push {r3}bl FormatStringadd sp,#16 &#x6CE8;&#x610F;&#x8FD9;&#x91CC;push&#x6307;&#x4EE4;&#x5148;&#x51CF;&#x6808;&#x6307;&#x9488;&#x518D;&#x6570;&#x636E;&#x5165;&#x6808;&#xFF08;&#x4E5F;&#x6709;&#x8BF4;&#x4E8C;&#x8005;&#x987A;&#x5E8F;&#x98A0;&#x5012;&#xFF0C;&#x7ED3;&#x679C;&#x6CA1;&#x6709;&#x5DEE;&#x522B;&#x4E3B;&#x8981;&#x770B;CPU&#x8BBE;&#x8BA1;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x5DE5;&#x4F5C;&#x5C31;&#x5C06;&#x6570;&#x5B57;&#x8FDB;&#x884C;&#x8FDB;&#x5236;&#x8F6C;&#x6362;&#x3002; &#x7ED3;&#x679C;&#x5C55;&#x793A;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi Screen03","slug":"Pi/2016-08-14-Raspberry Pi Screen03","date":"2016-08-13T16:00:00.000Z","updated":"2017-10-20T01:31:13.050Z","comments":true,"path":"2016/08/14/Pi/2016-08-14-Raspberry Pi Screen03/","link":"","permalink":"http://www.liufr.com/2016/08/14/Pi/2016-08-14-Raspberry Pi Screen03/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x5728;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x4E0A;&#x5B9E;&#x73B0;&#x6587;&#x672C;&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x529F;&#x80FD;&#x3002; &#x80CC;&#x666F;&#x8865;&#x5145; &#x5B57;&#x7B26;&#x4E32;&#x53CA;&#x5176;&#x7F16;&#x7801; &#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#x8BA1;&#x7B97;&#x673A;&#x53EF;&#x4EE5;&#x5C06;&#x5B57;&#x7B26;&#x663E;&#x793A;&#x5230;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x540C;&#x65F6;&#x6211;&#x4EEC;&#x4E5F;&#x77E5;&#x9053;&#x8BA1;&#x7B97;&#x673A;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x5904;&#x7406;&#x6587;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x53EA;&#x8BA4;&#x8BC6;bit&#x548C;byte&#xFF0C;&#x5E76;&#x5728;&#x6570;&#x5B57;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x505A;&#x8FD0;&#x7B97;&#xFF0C;&#x6240;&#x4EE5;&#x5B9E;&#x9645;&#x4E0A;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5236;&#x5B9A;&#x7684;&#x662F;&#x4E00;&#x79CD;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x4F7F;&#x5F97;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x5C06;&#x5C4F;&#x5E55;&#x4E0A;&#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;&#x4E0E;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x8054;&#x7CFB;&#x8D77;&#x6765;&#x3002;&#x6240;&#x4EE5;&#x5728;&#x6211;&#x4EEC;&#x5F55;&#x5165;&#x4FE1;&#x606F;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x6211;&#x4EEC;&#x5C06;&#x6587;&#x672C;&#x52A0;&#x5BC6;&#x6210;&#x4E00;&#x79CD;&#x8BA1;&#x7B97;&#x673A;&#x53EF;&#x8BC6;&#x522B;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x53CD;&#x8FC7;&#x6765;&#x663E;&#x793A;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7279;&#x5B9A;&#x4FE1;&#x606F;&#x89E3;&#x5BC6;&#x6210;&#x53EF;&#x663E;&#x793A;&#x7684;&#x6587;&#x672C;&#xFF0C;&#x8FD9;&#x5176;&#x4E2D;&#x7684;&#x52A0;&#x5BC6;&#x4E0E;&#x89E3;&#x5BC6;&#x7684;&#x79D8;&#x94A5;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x7F16;&#x7801;&#xFF0C;&#x4E00;&#x79CD;&#x7F16;&#x7801;&#x5BF9;&#x5E94;&#x4E00;&#x79CD;&#x52A0;&#x89E3;&#x5BC6;&#x65B9;&#x5F0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5F53;&#x4F60;&#x4F7F;&#x7528;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x7F16;&#x7801;&#x90A3;&#x4E48;&#x6240;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x6CE8;&#x5B9A;&#x662F;&#x4E00;&#x79CD;&#x9519;&#x8BEF;&#x7684;&#x4E71;&#x7801;&#x3002; &#x7531;&#x4E8E;&#x81EA;&#x7136;&#x8BED;&#x8A00;&#x7684;&#x591A;&#x79CD;&#x591A;&#x6837;&#xFF0C;&#x5BFC;&#x81F4;&#x4E86;&#x7F16;&#x7801;&#x65F6;&#x7684;&#x96BE;&#x4EE5;&#x7EDF;&#x4E00;&#xFF0C;&#x5728;&#x73B0;&#x5728;&#x7F51;&#x7EDC;&#x7684;&#x5927;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x7528;&#x540C;&#x4E00;&#x7684;&#x6807;&#x51C6;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x91CC;&#x7684;&#x540C;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x8981;&#x5BF9;&#x5E94;&#x540C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x9762;&#x5BF9;&#x591A;&#x8BED;&#x97F3;&#x7684;&#x6DF7;&#x5408;&#x6587;&#x6863;&#x3002;&#x6240;&#x4EE5;&#x5C31;&#x50CF;&#x8BE5;&#x4E66;&#x6240;&#x8BF4;&#xFF1A; Everything you thought you knew about strings is wrong. ASCII ASCII&#x662F;&#x4E13;&#x95E8;&#x4E3A;&#x82F1;&#x8BED;&#x8BBE;&#x8BA1;&#x7684;&#xFF0C;&#x4E5F;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x975E;&#x5E38;&#x6D41;&#x884C;&#x7684;&#x4E00;&#x79CD;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#xFF0C;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x4F4E;7&#x4F4D;&#xFF08;&#x5171;8&#x4F4D;&#xFF09;&#xFF0C;&#x5269;&#x4F59;&#x7684;1&#x4F4D;&#x88AB;&#x7528;&#x6765;&#x5236;&#x5B9A;&#x5176;&#x5B83;&#x8BED;&#x8A00;&#x7684;&#x5B57;&#x7B26;&#x6216;&#x8005;&#x7279;&#x6B8A;&#x7B26;&#x53F7;&#xFF0C;&#x4F46;&#x662F;&#x6807;&#x51C6;&#x4E0D;&#x662F;&#x5F88;&#x7EDF;&#x4E00;&#x3002; Unicode - UTF32 UTF32&#x7684;&#x8BBE;&#x60F3;&#x662F;&#x7528;4&#x4E2A;&#x5B57;&#x8282;&#x6765;&#x8868;&#x793A;&#x6240;&#x6709;&#x81EA;&#x7136;&#x8BED;&#x8A00;&#x7684;&#x5B57;&#x7B26;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x4E8C;&#x4E49;&#x6027;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;U+0041&#x603B;&#x662F;&#x4EE3;&#x8868;&apos;A&apos;&#xFF0C;&#x5373;&#x4F7F;&#x8FD9;&#x79CD;&#x8BED;&#x8A00;&#x6CA1;&#x6709;&apos;A&apos;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x3002;&#x4F46;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x67D0;&#x4E9B;&#x5B57;&#x7B26;&#x6765;&#x8BF4;&#xFF08;&#x6BD4;&#x5982;&#x8BF4;&#x82F1;&#x8BED;&#xFF09;&#xFF0C;4&#x4E2A;&#x5B57;&#x8282;&#x662F;&#x4E00;&#x79CD;&#x5927;&#x5927;&#x7684;&#x6D6A;&#x8D39;&#xFF0C;&#x8FD9;&#x5BF9;&#x7A7A;&#x95F4;&#x7684;&#x5360;&#x7528;&#x4E0D;&#x53EF;&#x5FFD;&#x89C6;&#xFF0C;&#x867D;&#x7136;&#x8BF4;&#x8FD9;&#x79CD;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x51C6;&#x786E;&#x5168;&#x9762;&#x7684;&#x5B9A;&#x4F4D;&#x5230;&#x6240;&#x6709;&#x7684;&#x5B57;&#x7B26;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x90FD;&#x4E0D;&#x4F1A;&#x7528;&#x5230;&#x8FD9;&#x4E48;&#x591A;&#x79CD;&#x5B57;&#x7B26;&#x3002; Unicode - UTF16 UTF16&#x5C31;&#x662F;&#x7F29;&#x51CF;&#x5230;2&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x5BF9;&#x4E8E;&#x76F2;&#x533A;&#x7684;&#x5B57;&#x7B26;&#x7528;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x7D22;&#x5F15;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#x5C31;&#x80FD;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x7A7A;&#x95F4;&#x4F7F;&#x7528;&#x3002;&#x4F46;&#x662F;UTF32&#x4E0E;UTF16&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5F88;&#x5927;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x4E0D;&#x540C;&#x7684;&#x5927;&#x5C0F;&#x7AEF;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210;&#x6570;&#x636E;&#x6DF7;&#x4E71;&#x3002;&#x8FD9;&#x91CC;&#x5F15;&#x5165;&#x4E86;Byte Order Mark&#xFF08;&#x5B57;&#x8282;&#x987A;&#x5E8F;&#x6807;&#x8BB0;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x4EE5;FFEE&#x5F00;&#x5934;&#x5219;&#x8BF4;&#x660E;&#x662F;&#x5355;&#x5411;&#xFF0C;&#x4EE5;FEFF&#x5F00;&#x5934;&#x5219;&#x8BF4;&#x660E;&#x662F;&#x53CD;&#x5411;&#x6587;&#x6863;&#x3002; Unicode - UTF8 &#x4EBA;&#x4EEC;&#x5BF9;&#x4E8E;UTF16&#x7684;&#x7A7A;&#x95F4;&#x5B58;&#x50A8;&#x9020;&#x6210;&#x7684;&#x6D6A;&#x8D39;&#x4EE5;&#x53CA;&#x5BF9;&#x4E8E;&#x76F2;&#x533A;&#x5B57;&#x7B26;&#x7684;&#x56F0;&#x6270;&#x6CA1;&#x6709;&#x6EE1;&#x8DB3;&#xFF0C;&#x91CD;&#x65B0;&#x8BBE;&#x8BA1;UTF8&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x53D8;&#x957F;&#x7684;&#x7F16;&#x7801;&#x7CFB;&#x7EDF;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x9009;&#x62E9;&#x5408;&#x9002;&#x5927;&#x5C0F;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C;&#x4F46;&#x662F;&#x67E5;&#x8BE2;&#x7684;&#x7D22;&#x5F15;&#x53EF;&#x80FD;&#x590D;&#x6742;&#x5EA6;&#x9AD8;&#x4E8E;&#x524D;&#x4E24;&#x8005;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599;1 &#x53C2;&#x8003;&#x8D44;&#x6599;2 &#x5B57;&#x4F53;&#x663E;&#x793A; &#x65E9;&#x671F;&#x7684;&#x5B57;&#x4F53;&#x663E;&#x793A;&#x662F;&#x7528;&#x53EF;&#x4EE5;&#x7C7B;&#x6BD4;&#x4F4D;&#x56FE;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x7F3A;&#x70B9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7ED9;&#x540C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x8BBE;&#x7F6E;&#x8BB8;&#x591A;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5927;&#x5C0F;&#x6765;&#x6EE1;&#x8DB3;&#x9700;&#x6C42;&#xFF0C;&#x5F88;&#x663E;&#x7136;&#x8FD9;&#x6837;&#x662F;&#x975E;&#x5E38;&#x611A;&#x8822;&#x7684;&#x4E00;&#x79CD;&#x505A;&#x6CD5;&#xFF0C;&#x540E;&#x6765;&#x6211;&#x4EEC;&#x7528;&#x5411;&#x91CF;&#x6765;&#x8868;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x4F53;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x5B58;&#x50A8;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x8868;&#x8FF0;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x5B57;&#x6BCD;&apos;o&apos;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x63CF;&#x8FF0;&#x6210;&#x4E00;&#x4E2A;&#x5708;&#x3002;&#xFF08;&#x5C3D;&#x7BA1;&#x5411;&#x91CF;&#x63CF;&#x8FF0;&#x662F;&#x4E00;&#x4E2A;&#x4F18;&#x79C0;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x4E2D;&#x6211;&#x4EEC;&#x4EFB;&#x7136;&#x91C7;&#x7528;&#x7B2C;&#x4E00;&#x79CD;&#x4F4D;&#x56FE;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x76F8;&#x5BF9;&#x5BB9;&#x6613;&#x4E00;&#x4E9B;&#xFF09;&#xFF0C;&#x5728;&#x539F;&#x6587;&#x4E2D;&#x7ED9;&#x4E86;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;A&#x7684;&#x4F8B;&#x5B50; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6BCF;&#x4E00;&#x6392;&#x90FD;&#x662F;8&#x4F4D;&#xFF0C;&#x975E;0&#x5373;1&#xFF0C;&#x6BCF;&#x4E00;&#x6392;&#x90FD;&#x53EF;&#x4EE5;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x7279;&#x6709;&#x7684;&#x5E8F;&#x5217;&#xFF0C;&#x6211;&#x4EEC;&#x7528;16&#x8FDB;&#x5236;&#x8868;&#x793A; 00 00 00 10 28 28 28 44 44 7C C6 82 00 00 00 00 &#x4EE3;&#x7801;&#x5206;&#x6790; drawCharacter &#x8FD9;&#x4E2A;&#x5B9E;&#x9645;&#x4E0A;&#x7684;&#x903B;&#x8F91;&#x5C31;&#x662F;&#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x5177;&#x4F53;&#x5B57;&#x7B26;&#xFF0C;&#x5F97;&#x5230;&#x4E0A;&#x8FF0;&#x8868;&#x793A;&#x7684;&#x6BCF;&#x4E00;&#x884C;&#x50CF;&#x7D20;&#x7684;8&#x4F4D;&#x8868;&#x793A;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x901A;&#x8FC7;&#x8D77;&#x59CB;&#x7684;x&#x4E0E;y&#x5750;&#x6807;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#xFF0C;&#x539F;&#x6587;&#x4E2D;&#x7ED9;&#x51FA;&#x4F2A;&#x4EE3;&#x7801;&#x4E0E;&#x6C47;&#x7F16;&#x5BF9;&#x7167;&#x770B;&#xFF0C;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x3002; drawStrings &#x753B;&#x51FA;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x591A;&#x6B21;&#x753B;&#x51FA;&#x5176;&#x5305;&#x542B;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x8003;&#x8651;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x80FD;&#x6362;&#x884C;&#x4E0E;&#x7ED3;&#x675F;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x6211;&#x4EEC;&#x5728;&#x68C0;&#x67E5;&#x8FB9;&#x754C;&#x6761;&#x4EF6;&#x4EE3;&#x7801;&#x4E0E;&#x4E0A;&#x9762;drawCharacter&#x7684;&#x4EE3;&#x7801;&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#xFF08;&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#x4E2D;&#x6709;&#x4E00;&#x5904;&#x662F;&#x66FF;&#x6362;&#x6389;&#x4E86;loop&#x5FAA;&#x73AF;&#x4E2D;&#x7684;&#x4E58;&#x6CD5;&#x8FD0;&#x7B97;&#xFF0C;&#x56E0;&#x4E3A;&#x4F4D;&#x56FE;&#x7684;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x4F18;&#x52BF;&#x4F7F;&#x5F97;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x505A;&#xFF09; &#x547D;&#x4EE4;&#x884C;&#x7ED8;&#x5236; &#x6211;&#x4EEC;&#x9996;&#x5148;&#x8981;&#x4E86;&#x89E3;&#x5B9E;&#x9A8C;&#x5728;ARM&#x67B6;&#x6784;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x6574;&#x7406;&#x7FFB;&#x8BD1;&#x5982;&#x4E0B; &#x6570;&#x636E;&#x662F;&#x5728;&#x300C;tag&#x300D;&#x6807;&#x7B7E;&#x4E2D;&#x6B62;&#x7684;&#x3002; &#x603B;&#x5171;&#x6709;9&#x79CD;&#x6807;&#x7B7E;&#xFF0C;&#x300C;core&#x300D;&#x5185;&#x6838;&#xFF0C;&#x300C;mem&#x300D;&#x5185;&#x5B58;&#xFF0C;&#x300C;videotext&#x300D;&#x53EF;&#x89C6;&#x56FE;&#x6587;&#xFF0C;&#x300C;ramdisk&#x300D;&#x865A;&#x62DF;&#x5185;&#x5B58;&#x76D8;&#xFF0C;&#x300C;intrd2&#x300D;&#x521D;&#x59CB;RAM&#x78C1;&#x76D8;&#xFF0C;&#x300C;serial&#x300D;&#x4E32;&#x53E3;&#xFF0C;&#x300C;revision&#x300D;&#x6821;&#x9A8C;&#xFF0C;&#x300C;videolfb&#x300D;&#x300C;cmdline&#x300D;&#x547D;&#x4EE4;&#x884C;&#x3002; &#x6807;&#x7B7E;&#x53EA;&#x80FD;&#x51FA;&#x73B0;&#x4E00;&#x6B21;&#x4F46;&#x300C;core&#x300D;&#x662F;&#x7F3A;&#x7701;&#x6807;&#x7B7E;&#x3002; &#x6807;&#x7B7E;&#x5730;&#x5740;&#x662F;&#x4ECE;0x100&#x4F9D;&#x6B21;&#x6392;&#x5217;&#x7684;&#x3002; &#x5728;&#x6807;&#x7B7E;&#x7684;&#x672B;&#x5C3E;&#x603B;&#x662F;&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x5168;0&#x7684;&#x5B57;&#x8282;&#x3002; &#x5927;&#x5C0F;&#x662F;4&#x7684;&#x6574;&#x6570;&#x500D; &#x6807;&#x7B7E;&#x603B;&#x662F;&#x4EE5;&#x5176;&#x5927;&#x5C0F;&#x4E3A;&#x5F00;&#x59CB;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x5927;&#x5C0F;&#x4E5F;&#x5305;&#x542B;&#x5176;&#x672C;&#x8EAB;&#x3002; &#x5B9E;&#x9645;&#x4E0A;&#x6807;&#x7B7E;&#x662F;&#x4EE5;&#x4ECE;1&#x5230;9&#x7684;&#x5E8F;&#x53F7;&#x6765;&#x4EE3;&#x8868;&#x4ED6;&#x4EEC;&#x7684;&#x3002; &#x6570;&#x636E;&#x683C;&#x5F0F;&#x603B;&#x662F;&#x8DDF;&#x7740;&#x4E00;&#x4E2A;5441&#xFF08;hex&#xFF09;&#x7684;&#x534A;&#x5B57;&#x3002; &#x5B57;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x957F;&#x5EA6;+2&#x603B;&#x662F;&#x80FD;&#x7B26;&#x5408;&#x8981;&#x6C42;&#x7684; &#x300C;core&#x300D;&#x65E2;&#x53EF;&#x4EE5;&#x662F;2&#x4E5F;&#x53EF;&#x4EE5;&#x662F;5&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x5982;&#x679C;&#x662F;2&#x90A3;&#x4E48;&#x6CA1;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x662F;5&#x5219;&#x4EE3;&#x8868;&#x6709;3&#x4E2A;&#x5B57;&#x3002; &#x300C;mem&#x300D;4&#x4E2A;&#x5B57;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x6570;&#x636E;&#x548C;&#x603B;&#x957F;&#x5EA6;&#x662F;&#x5728;&#x9996;&#x5730;&#x5740;&#x7684;&#x3002; &#x300C;cmdline&#x300D;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x4E2D;&#x6B62;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8FD9;&#x4E2A;&#x5185;&#x6838;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7279;&#x70B9;&#x3002; &#x5728;&#x6211;&#x4EEC;&#x7684;&#x5B9E;&#x9A8C;&#x4E2D;&#x53EA;&#x6709;&#x300C;core&#x300D;&#x300C;mem&#x300D;&#x300C;cmdline&#x300D;&#x51FA;&#x73B0;&#x3002; &#x9996;&#x5148;&#x521D;&#x59CB;&#x5316;&#x5C06;1-9&#x6807;&#x7B7E;&#x90FD;&#x8BBE;&#x4E3A; .int 0 FindTag &#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x68C0;&#x67E5;&#x6807;&#x7B7E;&#x8303;&#x56F4;&#xFF0C;&#x7136;&#x540E;&#x68C0;&#x67E5;&#x5730;&#x5740;&#x5E76;&#x5C06;&#x5176;&#x8BBE;&#x7F6E;&#x4E3A;0x100&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5728;loop&#x5FAA;&#x73AF;&#x4E2D;&#x4F9D;&#x6B21;&#x83B7;&#x53D6;tag&#x7684;&#x6570;&#x636E;&#x5373;&#x53EF;&#x3002; Hello World mov r0,#9bl FindTagldr r1,[r0]lsl r1,#2sub r1,#8add r0,#8mov r2,#0mov r3,#0bl DrawStringloop$:b loop$ &#x5229;&#x7528;FindTag&#x627E;&#x5230;9&#x53F7;&#x300C;cmdline&#x300D;&#x6807;&#x7B7E;&#x8BA1;&#x7B97;&#x51FA;&#x957F;&#x5EA6;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x4F20;&#x5165;&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x53CA;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x753B;&#x51FA;&#x5B57;&#x7B26;&#xFF0C;&#x5927;&#x529F;&#x544A;&#x6210;&#x3002;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi OK04","slug":"Pi/2016-08-09-Raspberry Pi OK04","date":"2016-08-08T16:00:00.000Z","updated":"2017-10-20T01:30:43.510Z","comments":true,"path":"2016/08/09/Pi/2016-08-09-Raspberry Pi OK04/","link":"","permalink":"http://www.liufr.com/2016/08/09/Pi/2016-08-09-Raspberry Pi OK04/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x5229;&#x7528;timer&#x4F7F;ACT&#x706F;&#x95EA;&#x70C1; &#x80CC;&#x666F;&#x8865;&#x5145; timer&#x7684;&#x76F8;&#x5173;&#x5730;&#x5740;&#x4E0E;&#x5176;&#x529F;&#x80FD; &#x6839;&#x636E;&#x6D41;&#x7A0B;&#x56FE;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;timer&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6BCF;&#x9694;1s&#x949F;&#x81EA;&#x52A0;1&#xFF0C;&#x76F4;&#x5230;&#x4E0E;&#x5176;&#x6BD4;&#x8F83;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x76F8;&#x540C;&#x65F6;&#x7ED3;&#x675F;&#x3002; &#x4EE3;&#x7801;&#x5206;&#x6790; ldr r0,=100000bl Wait &#x5728;main.s&#x6587;&#x4EF6;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x4E24;&#x53E5;&#x4EE3;&#x7801;&#x662F;&#x901A;&#x8FC7;r0&#x8BBE;&#x7F6E;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;&#x65B0;&#x51FD;&#x6570;&#x5B9E;&#x73B0;timer&#x7684;&#x8BA1;&#x65F6;&#x7B49;&#x5F85;&#x529F;&#x80FD;&#x3002; delay .req r2 mov delay,r0 push {lr} bl GetTimeStamp &#x5728;systemTimer.s&#x4E2D;&#x7684;Wait&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x5C06;r0&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x4FDD;&#x5B58;&#x5230;r2&#x4E2D; .globl GetSystemTimerBaseGetSystemTimerBase: ldr r0,=0x20003000 mov pc,lr &#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5728;r0&#x4E2D;&#x83B7;&#x53D6;&#x5230;timer&#x7684;&#x57FA;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;lr&#x8FD4;&#x56DE;&#x3002; ldrd r0,r1,[r2,#4] &#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x8BA1;&#x6570;&#x5668;counter&#x6709;8&#x5B57;&#x8282;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x4E0A;&#x6BCF;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x53EA;&#x6709;4&#x5B57;&#x8282;&#x5927;&#x5C0F;&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x4E2A;counter&#x90FD;&#x9700;&#x8981;2&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;ldrd&#x6307;&#x4EE4;&#xFF0C;&#x4E00;&#x6B21;&#x53EF;&#x4EE5;&#x5411;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x4E2D;&#x52A0;&#x8F7D;&#x4E24;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#xFF0C;r1&#x662F;&#x9AD8;&#x5B57;&#x8282;&#xFF0C;r0&#x662F;&#x4F4E;&#x5B57;&#x8282;&#xFF0C;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x3002; &#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;loop&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x9010;&#x6B21;&#x6BD4;&#x8F83;&#x4E86;&#x3002; &#x7ED3;&#x679C;&#x5C55;&#x793A; &#x4E0E;&#x4E0A;&#x4E2A;&#x5B9E;&#x9A8C;&#x73B0;&#x8C61;&#x76F8;&#x540C;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi OK05","slug":"Pi/2016-08-09-Raspberry Pi OK05","date":"2016-08-08T16:00:00.000Z","updated":"2017-10-20T01:30:59.530Z","comments":true,"path":"2016/08/09/Pi/2016-08-09-Raspberry Pi OK05/","link":"","permalink":"http://www.liufr.com/2016/08/09/Pi/2016-08-09-Raspberry Pi OK05/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x7684; &#x5229;&#x7528;&#x524D;&#x9762;&#x7684;&#x77E5;&#x8BC6;&#x505A;&#x51FA;&#x4E00;&#x4E2A;SOS&#x4FE1;&#x53F7;&#x7684;&#x95EA;&#x70C1;&#x706F;&#x3002;&#x5B66;&#x4F1A;&#x6C47;&#x7F16;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x6BB5;&#x4E0E;&#x6570;&#x636E;&#x6BB5;&#x3002; &#x80CC;&#x666F;&#x8865;&#x5145; &#x8F6C;&#x81EA;&#x68A6;&#x5F00;&#x59CB;&#x7684;&#x5730;&#x65B9; .section .data &#x6C47;&#x7F16;&#x7A0B;&#x5E8F;&#x4E2D;&#x4EE5;.&#x5F00;&#x5934;&#x7684;&#x540D;&#x79F0;&#x5E76;&#x4E0D;&#x662F;&#x6307;&#x4EE4;&#x7684;&#x52A9;&#x8BB0;&#x7B26;&#xFF0C;&#x4E0D;&#x4F1A;&#x88AB;&#x7FFB;&#x8BD1;&#x6210;&#x673A;&#x5668;&#x6307;&#x4EE4;&#xFF0C;&#x800C;&#x662F;&#x7ED9;&#x6C47;&#x7F16;&#x5668;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x6307;&#x793A;&#xFF0C;&#x79F0;&#x4E3A;&#x6C47;&#x7F16;&#x6307;&#x793A;&#xFF08;Assembler Directive&#xFF09;&#x6216;&#x4F2A;&#x64CD;&#x4F5C;&#xFF08;Pseudo-operation&#xFF09;&#xFF0C;&#x7531;&#x4E8E;&#x5B83;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x6307;&#x4EE4;&#x6240;&#x4EE5;&#x52A0;&#x4E2A;&#x201C;&#x4F2A;&#x201D;&#x5B57;&#x3002;.section&#x6307;&#x793A;&#x628A;&#x4EE3;&#x7801;&#x5212;&#x5206;&#x6210;&#x82E5;&#x5E72;&#x4E2A;&#x6BB5;&#xFF08;Section&#xFF09;&#xFF0C;&#x7A0B;&#x5E8F;&#x88AB;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x52A0;&#x8F7D;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;&#x6BB5;&#x88AB;&#x52A0;&#x8F7D;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x9875;&#x9762;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x8BFB;&#x3001;&#x5199;&#x3001;&#x6267;&#x884C;&#x6743;&#x9650;&#x3002;.data&#x6BB5;&#x4FDD;&#x5B58;&#x7A0B;&#x5E8F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x53EF;&#x8BFB;&#x53EF;&#x5199;&#x7684;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;C&#x7A0B;&#x5E8F;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x3002;&#x672C;&#x7A0B;&#x5E8F;&#x4E2D;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;.data&#x6BB5;&#x662F;&#x7A7A;&#x7684;&#x3002; .section .text .text&#x6BB5;&#x4FDD;&#x5B58;&#x4EE3;&#x7801;&#xFF0C;&#x662F;&#x53EA;&#x8BFB;&#x548C;&#x53EF;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x540E;&#x9762;&#x90A3;&#x4E9B;&#x6307;&#x4EE4;&#x90FD;&#x5C5E;&#x4E8E;.text&#x6BB5;&#x3002; .globl _start _start&#x662F;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#xFF08;Symbol&#xFF09;&#xFF0C;&#x7B26;&#x53F7;&#x5728;&#x6C47;&#x7F16;&#x7A0B;&#x5E8F;&#x4E2D;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x6307;&#x4EE4;&#x4E2D;&#xFF0C;&#x6C47;&#x7F16;&#x7A0B;&#x5E8F;&#x7ECF;&#x8FC7;&#x6C47;&#x7F16;&#x5668;&#x7684;&#x5904;&#x7406;&#x4E4B;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x7B26;&#x53F7;&#x90FD;&#x88AB;&#x66FF;&#x6362;&#x6210;&#x5B83;&#x6240;&#x4EE3;&#x8868;&#x7684;&#x5730;&#x5740;&#x503C;&#x3002;&#x5728;C&#x8BED;&#x8A00;&#x4E2D;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x53D8;&#x91CF;&#x540D;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8BFB;&#x5199;&#x67D0;&#x4E2A;&#x5730;&#x5740;&#x7684;&#x5185;&#x5B58;&#x5355;&#x5143;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x540D;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8DF3;&#x8F6C;&#x5230;&#x8BE5;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x6240;&#x5728;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6240;&#x4EE5;&#x53D8;&#x91CF;&#x540D;&#x548C;&#x51FD;&#x6570;&#x540D;&#x90FD;&#x662F;&#x7B26;&#x53F7;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x4EE3;&#x8868;&#x5185;&#x5B58;&#x5730;&#x5740;&#x7684;&#x3002; .globl&#x6307;&#x793A;&#x544A;&#x8BC9;&#x6C47;&#x7F16;&#x5668;&#xFF0C;_start&#x8FD9;&#x4E2A;&#x7B26;&#x53F7;&#x8981;&#x88AB;&#x94FE;&#x63A5;&#x5668;&#x7528;&#x5230;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x5728;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x7684;&#x7B26;&#x53F7;&#x8868;&#x4E2D;&#x6807;&#x8BB0;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x7B26;&#x53F7;&#x3002;_start&#x5C31;&#x50CF;C&#x7A0B;&#x5E8F;&#x7684;main&#x51FD;&#x6570;&#x4E00;&#x6837;&#x7279;&#x6B8A;&#xFF0C;&#x662F;&#x6574;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x5165;&#x53E3;&#xFF0C;&#x94FE;&#x63A5;&#x5668;&#x5728;&#x94FE;&#x63A5;&#x65F6;&#x4F1A;&#x67E5;&#x627E;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x4E2D;&#x7684;_start&#x7B26;&#x53F7;&#x4EE3;&#x8868;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x628A;&#x5B83;&#x8BBE;&#x7F6E;&#x4E3A;&#x6574;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x5165;&#x53E3;&#x5730;&#x5740;&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x4E2A;&#x6C47;&#x7F16;&#x7A0B;&#x5E8F;&#x90FD;&#x8981;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;_start&#x7B26;&#x53F7;&#x5E76;&#x4E14;&#x7528;.globl&#x58F0;&#x660E;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x6CA1;&#x6709;&#x7528;.globl&#x58F0;&#x660E;&#xFF0C;&#x5C31;&#x8868;&#x793A;&#x8FD9;&#x4E2A;&#x7B26;&#x53F7;&#x4E0D;&#x4F1A;&#x88AB;&#x94FE;&#x63A5;&#x5668;&#x7528;&#x5230;&#x3002; &#x4EE3;&#x7801;&#x5206;&#x6790; .section .data.align 2pattern:.int 0b11111111101010100010001000101010 .align 2 &#x5BF9;&#x9F50;&#x4F2A;&#x6307;&#x4EE4;&#xFF0C;&#x8981;&#x6C42;&#x4F7F;&#x7528;&#x7684;&#x5730;&#x5740;&#x90FD;&#x5FC5;&#x987B;&#x662F;2&#x7684;&#x500D;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;ldr&#x6307;&#x4EE4;&#x4E2D;&#xFF0C;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5730;&#x5740;&#x90FD;&#x662F;4&#x7684;&#x500D;&#x6570;&#x3002;.int &#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x95EA;&#x70C1;&#x5E8F;&#x5217;&#x4E86;&#xFF0C;1&#x4EE3;&#x8868;&#x4EAE;&#xFF0C;0&#x4EE3;&#x8868;&#x706D;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6539;&#x53D8;&#x5E8F;&#x5217;&#x5C31;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x706F;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x53EF;&#x4EE5;&#x591A;&#x5C1D;&#x8BD5;&#x51E0;&#x7EC4;&#x4E0D;&#x540C;&#x5E8F;&#x5217;&#x3002; ptrn .req r4ldr ptrn,=patternldr ptrn,[ptrn]seq .req r5mov seq,#0 ldr ptrn,=pattern &#x6307;&#x4EE4;&#x4E2D;&#xFF0C;&#x5C06;pattern&#x7684;&#x5730;&#x5740;&#x52A0;&#x8F7D;&#x5230;r4&#x4E2D;&#xFF0C;&#x518D;&#x4ECE;&#x8BE5;&#x5730;&#x5740;&#x53D6;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x6700;&#x540E;r4&#x5BC4;&#x5B58;&#x5668;&#x4FDD;&#x5B58;&#x7684;&#x662F;pattern&#x4E2D;&#x7684;&#x6570;&#x503C;&#xFF08;&#x6B64;&#x5904;&#x901A;&#x8FC7;ldr&#x7684;&#x8F6C;&#x6362;&#x4E0D;&#x540C;&#x4E8E;mov&#x6709;&#x4F4D;&#x6570;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x652F;&#x6301;&#x66F4;&#x5927;&#x7684;&#x6570;&#x636E;&#xFF09; &#x7ED3;&#x679C;&#x5C55;&#x793A;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi Screen01","slug":"Pi/2016-08-10-Raspberry Pi Screen01","date":"2016-08-08T16:00:00.000Z","updated":"2017-10-20T01:31:04.290Z","comments":true,"path":"2016/08/09/Pi/2016-08-10-Raspberry Pi Screen01/","link":"","permalink":"http://www.liufr.com/2016/08/09/Pi/2016-08-10-Raspberry Pi Screen01/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x4E86;&#x89E3;&#x56FE;&#x5F62;&#x56FE;&#x50CF;&#x7684;&#x57FA;&#x672C;&#x77E5;&#x8BC6; &#x80CC;&#x666F;&#x8865;&#x5145; &#x6709;&#x5173;&#x9ED1;&#x767D;&#x3001;&#x7070;&#x5EA6;&#x3001;8&#x8272;&#x3001;&#x4F4E;&#x5F69;&#x3001;&#x9AD8;&#x5F69;&#x3001;&#x771F;&#x5F69;&#x548C;RGB32&#x7684;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#x4E0E;&#x533A;&#x522B;&#x89C1;&#x539F;&#x6587; Pi&#x5728;&#x5F00;&#x673A;&#x65F6;&#xFF0C;&#x5148;&#x8FD0;&#x884C;&#x7684;&#x662F;&#x56FE;&#x50CF;&#x5904;&#x7406;&#x5668;&#xFF0C;&#x540E;&#x8FD0;&#x884C;&#x4E3B;&#x5904;&#x7406;&#x5668;&#xFF0C;&#x5F53;&#x5916;&#x63A5;&#x663E;&#x793A;&#x5668;&#x65F6;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;&#x542F;&#x52A8;Pi&#x65F6;&#xFF0C;&#x662F;&#x5148;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x663E;&#x793A;&#x4E00;&#x5F20;&#x5168;&#x5F69;&#x7684;&#x5F71;&#x50CF;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x8FDB;&#x5165;&#x5230;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x3002; Pi&#x5728;&#x8FDB;&#x884C;&#x4E0E;&#x56FE;&#x50CF;&#x5904;&#x7406;&#x5668;&#x901A;&#x4FE1;&#x7684;&#x65F6;&#x5019;&#x91C7;&#x7528;&#x7684;&#x662F;&#x4FE1;&#x7BB1;&#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF0C;&#x4EE5;&#x53D1;&#x9001;&#x4FE1;&#x4EF6;&#x4EE5;&#x53CA;&#x63A5;&#x6536;&#x56DE;&#x7B54;&#x4FE1;&#x4EF6;&#x4E3A;&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x7684;&#x57FA;&#x672C;&#x65B9;&#x5F0F;&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5E0C;&#x671B;&#x4E0E;&#x53E6;&#x4E00;&#x8FDB;&#x7A0B;&#x901A;&#x4FE1;&#x65F6;&#xFF0C;&#x5C31;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x7BB1;&#xFF0C;&#x53D1;&#x9001;&#x8FDB;&#x7A0B;&#x628A;&#x4FE1;&#x4EF6;&#x6295;&#x5165;&#x4FE1;&#x7BB1;&#xFF0C;&#x800C;&#x63A5;&#x6536;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x523B;&#x53D6;&#x8D70;&#x4FE1;&#x4EF6;&#x3002; &#x91C7;&#x7528;&#x4FE1;&#x7BB1;&#x901A;&#x4FE1;&#x7684;&#x6700;&#x5927;&#x597D;&#x5904;&#x662F;&#xFF0C;&#x53D1;&#x9001;&#x65B9;&#x548C;&#x63A5;&#x6536;&#x65B9;&#x4E0D;&#x5FC5;&#x76F4;&#x63A5;&#x5EFA;&#x8054;&#x7CFB;&#xFF0C;&#x6CA1;&#x6709;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x4E0A;&#x7684;&#x9650;&#x5236;&#x3002;&#x53D1;&#x9001;&#x65B9;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x95F4;&#x53D1;&#x4FE1;&#xFF0C;&#x63A5;&#x6536;&#x65B9;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x95F4;&#x6536;&#x4FE1;&#x3002; &#x4FE1;&#x7BB1;&#x7684;&#x5730;&#x5740;&#x8868;&#x5982;&#x4E0B; &#x53D1;&#x9001;&#x65B9;&#xFF1A; &#x53D1;&#x9001;&#x65B9;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x72B6;&#x6001;&#x5B57;&#x6BB5;&#x7684;&#x6700;&#x9AD8;&#x4F4D;&#x4E3A;0&#x3002; &#x6700;&#x4F4E;&#x7684;4&#x4F4D;&#x4EE3;&#x8868;&#x4E86;&#x6240;&#x8981;&#x53D1;&#x9001;&#x7684;&#x4FE1;&#x7BB1;&#x5E8F;&#x53F7;&#xFF0C;&#x9AD8;28&#x4F4D;&#x4EE3;&#x8868;&#x4E86;&#x6240;&#x8981;&#x53D1;&#x9001;&#x7684;&#x5185;&#x5BB9;&#x3002; &#x63A5;&#x6536;&#x65B9;&#xFF1A; &#x63A5;&#x6536;&#x65B9;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x72B6;&#x6001;&#x5B57;&#x6BB5;&#x7684;30&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;0&#x3002; &#x8BFB;&#x53D6;&#x3002; &#x786E;&#x8BA4;&#x4FE1;&#x7BB1;&#x7684;&#x6B63;&#x786E;&#xFF0C;&#x5426;&#x5219;&#x91CD;&#x590D;&#x4E0A;&#x8FF0;&#x6B65;&#x9AA4;&#x76F4;&#x5230;&#x6B63;&#x786E;&#x3002; &#x4EE3;&#x7801;&#x5206;&#x6790; GetMailboxBase .globl GetMailboxBaseGetMailboxBase:ldr r0,=0x2000B880mov pc,lr &#x6839;&#x636E;&#x4E0A;&#x8868;&#x6211;&#x4EEC;&#x77E5;&#x9053;0x2000B880&#x662F;&#x4FE1;&#x7BB1;&#x7684;&#x5730;&#x5740;&#x3002; MailboxWrite &#x6821;&#x9A8C;&#x8F93;&#x5165;&#xFF08;r0&#xFF09;&#x8F93;&#x51FA;&#xFF08;r1&#xFF09;&#x7684;&#x4F4E;&#x56DB;&#x4F4D;&#x90FD;&#x662F;0&#xFF0C;&#x786E;&#x4FDD;&#x4FE1;&#x7BB1;&#x6B63;&#x786E;&#x6027;&#x3002; &#x5229;&#x7528;GetMailboxBase&#x51FD;&#x6570;&#x5F97;&#x5230;&#x4FE1;&#x7BB1;&#x5730;&#x5740;&#x3002; &#x8BFB;&#x53D6;&#x72B6;&#x6001;&#x5B57;&#x6BB5;&#x3002; &#x6821;&#x9A8C;&#x72B6;&#x6001;&#x5B57;&#x6BB5;&#x7684;&#x6700;&#x9AD8;&#x4F4D;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;&#x7B2C;3&#x6B65;&#x3002;&#xFF08;&#x7B49;&#x5F85;&#xFF09; &#x8FDE;&#x63A5;&#x53D1;&#x9001;&#x5185;&#x5BB9;&#xFF08;&#x9AD8;28&#x4F4D;&#xFF09;&#x4E0E;&#x4FE1;&#x7BB1;&#x901A;&#x9053;&#xFF08;&#x4F4E;4&#x4F4D;&#xFF09; &#x5199; .globl MailboxWriteMailboxWrite:tst r0,#0b1111movne pc,lrcmp r1,#15movhi pc,lr tst &#x6570;&#x636E;&#x5904;&#x7406;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x628A;&#x4E00;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x53E6;&#x4E00;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x5185;&#x5BB9;&#x6216;&#x7ACB;&#x5373;&#x6570;&#x8FDB;&#x884C;&#x6309;&#x4F4D;&#x7684;&#x4E0E;&#x8FD0;&#x7B97;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x8FD0;&#x7B97;&#x7ED3;&#x679C;&#x66F4;&#x65B0;CPSR&#x4E2D;&#x6761;&#x4EF6;&#x6807;&#x5FD7;&#x4F4D;&#x7684;&#x503C;,&#x8FD9;&#x51E0;&#x884C;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x68C0;&#x67E5;r0&#x548C;r1&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x6700;&#x4F4E;4&#x4E3A;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x82E5;&#x4E0D;&#x4E3A;0&#x5219;&#x628A;lr&#x5BC4;&#x5B58;&#x5668;&#x88C5;&#x8F7D;&#x5230;pc&#x4E2D;&#xFF0C;&#x8FD4;&#x56DE;&#x5E76;&#x9000;&#x51FA;&#x3002; channel .req r1value .req r2mov value,r0push {lr}bl GetMailboxBasemailbox .req r0 &#x4FDD;&#x62A4;&#x73B0;&#x573A;&#xFF0C;&#x907F;&#x514D;&#x8986;&#x76D6;r0&#x7684;&#x503C;&#x3002; wait1$:status .req r3ldr status,[mailbox,#0x18] &#x6839;&#x636E;&#x8868;&#x683C;&#x53EF;&#x4EE5;&#x77E5;&#x9053;0x2000B898&#x662F;Status&#x7684;&#x5730;&#x5740;&#x3002; tst status,#0x80000000.unreq statusbne wait1$ &#x68C0;&#x67E5;&#x6700;&#x9AD8;&#x4F4D;&#x662F;&#x5426;&#x4E3A;0&#x3002; add value,channel.unreq channel &#x9AD8;28&#x4F4D;&#x6570;&#x503C;&#x4E8E;&#x4F4E;4&#x4F4D;&#x901A;&#x9053;&#x53F7;&#x8FDE;&#x63A5;&#x3002; str value,[mailbox,#0x20].unreq value.unreq mailboxpop {pc} &#x6839;&#x636E;&#x8868;&#x683C;&#x53EF;&#x4EE5;&#x5F97;&#x77E5;&#x5730;&#x5740;2000B8A0&#x662F;WRITE&#xFF0C;&#x5C06;value&#x7684;&#x503C;&#x4FDD;&#x5B58;&#x5230;&#x8BE5;&#x5730;&#x5740;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x540C;&#x65F6;&#x53D6;&#x6D88;&#x6240;&#x6709;&#x5B9A;&#x4E49;&#xFF0C;pc&#x51FA;&#x6808;&#xFF0C;&#x5B8C;&#x6210;&#x64CD;&#x4F5C;&#x3002; MailboxRead &#x4ECE;&#x4FE1;&#x7BB1;&#x4E2D;&#x8BFB;&#x53D6;&#x4FE1;&#x4EF6;&#x7684;&#x4EE3;&#x7801;&#x4E0E;&#x4E4B;&#x524D;&#x5B9E;&#x73B0;&#x57FA;&#x672C;&#x76F8;&#x540C;&#x3002;&#x5728;&#x8BFB;&#x53D6;&#x7684;&#x65F6;&#x5019;&#x8981;&#x4ECE;0x2000B880&#x5730;&#x5740;&#x4E2D;&#x8BFB;&#x53D6;&#x3002; FrameBufferInfo .section .data.align 4.globl FrameBufferInfoFrameBufferInfo:.int 1024 /* #0 Physical Width */.int 768 /* #4 Physical Height */.int 1024 /* #8 Virtual Width */.int 768 /* #12 Virtual Height */.int 0 /* #16 GPU - Pitch */.int 16 /* #20 Bit Depth */.int 0 /* #24 X */.int 0 /* #28 Y */.int 0 /* #32 GPU - Pointer */.int 0 /* #36 GPU - Size */ &#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x662F;&#x5B9A;&#x4E49;&#x4F20;&#x5230;GPU&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x5404;&#x9879;&#x610F;&#x4E49;&#x5747;&#x5DF2;&#x8BF4;&#x660E;&#xFF0C;&#x6CE8;&#x610F;&#x5B57;&#x5BF9;&#x9F50;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x7684;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; &#x5411;mailbox1 &#x5199;&#x5165;&#x5730;&#x5740;FrameBufferInfo + 0x40000000&#x3002; &#x4ECE;mailbox1 &#x4E2D;&#x8BFB;&#x51FA;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x662F;0&#xFF0C;&#x5219;&#x505C;&#x6B62;&#x7533;&#x8BF7;frame buffer&#x3002; &#x5C06;&#x6307;&#x9488;&#x6307;&#x5411;&#x6211;&#x4EEC;&#x6240;&#x8981;&#x5C55;&#x793A;&#x7684;&#x56FE;&#x7247;&#xFF0C;&#x5C31;&#x80FD;&#x5728;&#x663E;&#x793A;&#x5668;&#x4E0A;&#x770B;&#x5230;&#x56FE;&#x7247;&#x4E86;&#x3002; FrameBufferInfo + 0x40000000 &#x52A0;&#x4E0A;0x40000000&#x662F;&#x4E00;&#x79CD;&#x7279;&#x5B9A;&#x7684;&#x6307;&#x4EE4;&#xFF0C;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x544A;&#x8BC9;GPU&#x7981;&#x6B62;&#x81EA;&#x8EAB;&#x7684;cache&#xFF0C;&#x4EE5;&#x4FBF;&#x80FD;&#x8BA9;&#x6211;&#x4EEC;&#x89C2;&#x5BDF;&#x5230;&#x6570;&#x636E;&#x53D8;&#x6362;&#xFF0C;&#x8FD9;&#x662F;&#x89C4;&#x5B9A;&#x597D;&#x7684;&#x6307;&#x4EE4;&#x3002; &#x8F93;&#x5165; &#x5C06;&#x8F93;&#x5165;&#x5199;&#x5230;&#x5E27;&#x7F13;&#x51B2;&#x533A;&#x4E2D; &#x5C06;frame buffer + 0x40000000 &#x7684;&#x5730;&#x5740;&#x9001;&#x5230;mailbox&#x4E2D; &#x4ECE;mailbox&#x4E2D;&#x5F97;&#x5230;&#x8FD4;&#x56DE;&#x503C; &#x5224;&#x65AD;&#x8FD4;&#x56DE;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x5982;&#x679C;&#x662F;0&#x5219;&#x8868;&#x793A;&#x6210;&#x529F; &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5E27;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x6307;&#x9488; InitialiseFrameBuffer .section .text.globl InitialiseFrameBufferInitialiseFrameBuffer:width .req r0height .req r1bitDepth .req r2cmp width,#4096cmpls height,#4096cmpls bitDepth,#32result .req r0movhi result,#0movhi pc,lr &#x68C0;&#x67E5;width&#x548C;height&#x662F;&#x5426;&#x90FD;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;4096&#xFF0C;bitDepth&#x662F;&#x5426;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;32&#xFF0C;&#x5982;&#x679C;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x5219;&#x5C06;0&#x4FDD;&#x5B58;&#x5230;result&#x4E2D;&#xFF0C;&#x8868;&#x793A;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x3002; fbInfoAddr .req r3push {lr}ldr fbInfoAddr,=FrameBufferInfostr width,[fbInfoAddr,#0]str height,[fbInfoAddr,#4]str width,[fbInfoAddr,#8]str height,[fbInfoAddr,#12]str bitDepth,[fbInfoAddr,#20].unreq width.unreq height.unreq bitDepth &#x6309;&#x7167;&#x4E4B;&#x524D;&#x7ED9;&#x51FA;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x4FDD;&#x5B58;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x5730;&#x5740;&#x4E2D; mov r0,fbInfoAddradd r0,#0x40000000mov r1,#1bl MailboxWrite &#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x4E4B;&#x524D;&#x8BF4;&#x7684;&#x56FA;&#x5B9A;&#x683C;&#x5F0F;&#x7684;&#x5730;&#x5740;&#x6307;&#x4EE4;&#xFF0C;r1&#x4E2D;&#x5219;&#x662F;&#x9009;&#x62E9;&#x4E86;&#x901A;&#x9053;&#x3002; mov r0,#1bl MailboxRead r0&#x4E2D;&#x9009;&#x62E9;&#x4E86;&#x901A;&#x9053;&#xFF0C;&#x4E0E;&#x4E0A;&#x9762;&#x5199;&#x4FE1;&#x7BB1;&#x7684;&#x901A;&#x9053;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x3002; teq result,#0movne result,#0popne {pc} &#x6D4B;&#x8BD5;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x5982;&#x679C;&#x7ED3;&#x679C;&#x4E0D;&#x4E3A;0&#x5219;&#x8FD4;&#x56DE;0&#x8868;&#x793A;&#x6709;&#x9519;&#x8BEF;&#x53D1;&#x751F;&#x3002; mov result,fbInfoAddrpop {pc}.unreq result.unreq fbInfoAddr &#x5C06;&#x5E27;&#x7F13;&#x51B2;&#x5730;&#x5740;&#x8FD4;&#x56DE; &#x73B0;&#x5728;&#x6211;&#x4EEC;&#x8981;&#x4F7F;&#x7528;GPU&#x5904;&#x7406;&#x56FE;&#x50CF;&#x3002; mov r0,#1024mov r1,#768mov r2,#16bl InitialiseFrameBuffer &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;1024*768&#xFF0C;16&#x4F4D;&#x8272;&#x7684;&#x5E27; teq r0,#0bne noError$mov r0,#16mov r1,#1bl SetGpioFunctionmov r0,#16mov r1,#0bl SetGpioerror$:b error$noError$:fbInfoAddr .req r4mov fbInfoAddr,r0 &#x68C0;&#x67E5;r0&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x82E5;&#x4E0D;&#x4E3A;0&#xFF0C;&#x8FDB;&#x884C;&#x56FE;&#x50CF;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x5426;&#x5219;&#x901A;&#x8FC7;GPIO&#x53E3;&#x70B9;&#x4EAE;ACT&#x706F;&#x3002; &#x5728;&#x5927;&#x591A;&#x6570;&#x7684;&#x4F4D;&#x56FE;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x4E2D;&#xFF0C;&#x603B;&#x662F;&#x4ECE;&#x5DE6;&#x5411;&#x53F3;&#xFF0C;&#x4ECE;&#x4E0A;&#x5230;&#x4E0B;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E24;&#x4E2A;&#x5FAA;&#x73AF;&#x5B8C;&#x6210;&#x6BCF;&#x4E2A;&#x50CF;&#x7D20;&#x70B9;&#x3002; render$: fbAddr .req r3 ldr fbAddr,[fbInfoAddr,#32] colour .req r0 y .req r1 mov y,#768 drawRow$: x .req r2 mov x,#1024 drawPixel$: strh colour,[fbAddr] add fbAddr,#2 sub x,#1 teq x,#0 bne drawPixel$ sub y,#1 add colour,#1 teq y,#0 bne drawRow$ b render$.unreq fbAddr.unreq fbInfoAddr strh &#x6307;&#x4EE4;&#x662F;&#x534A;&#x5B57;&#x5B58;&#x50A8;&#xFF0C;&#x5728;&#x901A;&#x8FC7;x&#x548C;y&#x5206;&#x522B;&#x63A7;&#x5236;&#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#xFF0C;&#x5B9E;&#x73B0;&#x5D4C;&#x5957;&#x7684;&#x5FAA;&#x73AF;&#xFF0C;&#x5B8C;&#x6210;&#x6574;&#x4E2A;&#x5C4F;&#x5E55;&#x50CF;&#x7D20;&#x70B9;&#x7684;&#x52A0;&#x8F7D; &#x7ED3;&#x679C;&#x5C55;&#x793A;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi Screen02","slug":"Pi/2016-08-11-Raspberry Pi Screen02","date":"2016-08-08T16:00:00.000Z","updated":"2017-10-20T01:31:08.420Z","comments":true,"path":"2016/08/09/Pi/2016-08-11-Raspberry Pi Screen02/","link":"","permalink":"http://www.liufr.com/2016/08/09/Pi/2016-08-11-Raspberry Pi Screen02/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x7528;&#x4EA7;&#x751F;&#x4F2A;&#x968F;&#x673A;&#x6570;&#x7684;&#x65B9;&#x5F0F;&#x753B;&#x51FA;&#x7EBF;&#x6761;&#x548C;&#x5176;&#x5B83;&#x7684;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#x3002; &#x4EE3;&#x7801;&#x5206;&#x6790; &#x70B9; &#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x901A;&#x8FC7;&#x5728;&#x4EFB;&#x610F;&#x4E24;&#x70B9;&#x786E;&#x5B9A;&#x4E00;&#x6761;&#x76F4;&#x7EBF;&#x7684;&#x65B9;&#x5F0F;&#x753B;&#x7EBF;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;SetPixel&#x51FD;&#x6570;&#x6765;&#x786E;&#x5B9A;&#x4E24;&#x4E2A;&#x70B9;&#x3002; drawing.s .section .data.align 1foreColour:.hword 0xFFFF.align 2graphicsAddress:.int 0.section .text.globl SetForeColourSetForeColour:cmp r0,#0x10000movhs pc,lrldr r1,=foreColourstrh r0,[r1]mov pc,lr.globl SetGraphicsAddressSetGraphicsAddress:ldr r1,=graphicsAddressstr r0,[r1]mov pc,lr &#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x5199;&#x5728;drawing.s&#x6587;&#x4EF6;&#x4E2D;&#x65B9;&#x4FBF;&#x8C03;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x4E0D;&#x540C;&#x7684;memory&#x4E2D;&#x3002; SetPixel &#x52A0;&#x8F7D;&#x5730;&#x5740; graphicsAddress &#x786E;&#x5B9A;x&#x548C;y&#x6570;&#x503C;&#x7684;&#x5408;&#x6CD5;&#x6027; &#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x50CF;&#x7D20;&#x70B9;&#x7684;&#x5730;&#x5740;&#xFF08;frameBufferAddress + (x + y * width) * pixel size&#xFF09; &#x52A0;&#x8F7D;&#x989C;&#x8272;&#x4FE1;&#x606F;foreColor &#x5C06;&#x989C;&#x8272;foreColor&#x4FDD;&#x5B58;&#x5230;&#x76F8;&#x5E94;&#x5730;&#x5740;&#x4E2D; .globl DrawPixelDrawPixel:px .req r0py .req r1addr .req r2ldr addr,=graphicsAddressldr addr,[addr] px&#xFF08;r0&#x5BC4;&#x5B58;&#x5668;&#xFF09;&#xFF0C;py&#xFF08;r1&#x5BC4;&#x5B58;&#x5668;&#xFF09;&#xFF0C;addr&#xFF08;r2&#x5BC4;&#x5B58;&#x5668;&#xFF09; height .req r3ldr height,[addr,#4]sub height,#1cmp py,heightmovhi pc,lr.unreq heightwidth .req r3ldr width,[addr,#0]sub width,#1cmp px,widthmovhi pc,lr &#x6839;&#x636E;&#x4E0A;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;Physical height&#x548C;Physical width&#x5206;&#x522B;&#x5728;&#x504F;&#x79FB;&#x5730;&#x5740;4&#x548C;0&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x786E;&#x8BA4;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x7684;px&#x548C;py&#x662F;&#x5426;&#x7B26;&#x5408;height&#x548C;width&#x7684;&#x8303;&#x56F4;&#x3002; ldr addr,[addr,#32]add width,#1mla px,py,width,px.unreq width.unreq pyadd addr, px,lsl #1.unreq px [addr,#32] &#x662F;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x4E2D;&#x7684;&#x6307;&#x5411;&#x7279;&#x5B9A;&#x56FE;&#x50CF;&#x7684;&#x6307;&#x9488;&#xFF1B; mla &#x6307;&#x4EE4;&#x662F;&#x5E26;&#x7D2F;&#x52A0;&#x7684;&#x76F8;&#x4E58;&#xFF0C;&#x5B8C;&#x6210;&#x7684;&#x662F;px = py*width+px&#xFF0C;&#x5730;&#x5740;&#x8FD8;&#x9700;&#x8981;&#x4E58;&#x4E0A;&#x6BCF;&#x4E2A;&#x50CF;&#x7D20;&#x7684;&#x5927;&#x5C0F;&#xFF0C;add addr, px,lsl #1 &#x5F97;&#x5230;&#x7684;&#x5730;&#x5740;&#x5C31;&#x662F;&#x7279;&#x5B9A;&#x50CF;&#x7D20;&#x7684;&#x5730;&#x5740;&#x4E86;&#x3002; fore .req r3ldr fore,=foreColourldrh fore,[fore]strh fore,[addr].unreq fore.unreq addrmov pc,lr &#x6240;&#x4EE5;&#x4ECE;foreColor&#x4E2D;&#x53D6;&#x51FA;&#x7279;&#x5B9A;&#x7684;&#x989C;&#x8272;&#x4FE1;&#x606F;&#x518D;&#x4F20;&#x5165;&#x5230;&#x4E0A;&#x9762;&#x8BA1;&#x7B97;&#x597D;&#x7684;addr&#x5730;&#x5740;&#x4E2D;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;&#x7279;&#x5B9A;&#x5730;&#x5740;&#x7684;&#x50CF;&#x7D20;&#x4FE1;&#x606F;&#x4E86;&#x3002; &#x7EBF; &#x5728;&#x6C47;&#x7F16;&#x8BED;&#x8A00;&#x4E2D;&#x4F7F;&#x7528;&#x9664;&#x6CD5;&#x662F;&#x4E00;&#x4EF6;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x6240;&#x4EE5;&#x8BA1;&#x7B97;&#x503E;&#x89D2;&#x6765;&#x753B;&#x7EBF;&#x662F;&#x4E0D;&#x660E;&#x667A;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x4ECB;&#x7ECD;&#x4E00;&#x79CD;&#x5E03;&#x96F7;&#x68EE;&#x6C49;&#x7B97;&#x6CD5;&#xFF08;Bresenham&apos;s line algorithm&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x753B;&#x76F4;&#x7EBF;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x7528;&#x5230;&#x4E86;&#x52A0;&#x51CF;&#x4E0E;&#x79FB;&#x4F4D;&#x8FD0;&#x7B97;&#x3002; &#x5B9E;&#x9645;&#x4E0A;Bresenham&apos;s Algorithm&#x662F;&#x5C06;&#x6211;&#x4EEC;&#x73B0;&#x5B9E;&#x4E2D;&#x8FDE;&#x7EED;&#x7684;&#x76F4;&#x7EBF;&#x79BB;&#x6563;&#x5316;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5B9E;&#x9645;&#x4E0A;&#x4E0D;&#x53EF;&#x80FD;&#x6709;&#x8DB3;&#x591F;&#x9AD8;&#x7684;&#x7CBE;&#x5EA6;&#x53BB;&#x63CF;&#x8FF0;&#x4E00;&#x6761;&#x51C6;&#x786E;&#x7684;&#x76F4;&#x7EBF;&#xFF0C;&#x6BD5;&#x7ADF;&#x8BA1;&#x7B97;&#x673A;&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x79BB;&#x6563;&#x7684;&#xFF0C;&#x56FE;&#x5F62;&#x63CF;&#x8FF0;&#x7684;&#x79BB;&#x6563;&#x4E5F;&#x662F;&#x60C5;&#x7406;&#x4E4B;&#x4E2D;&#x3002; &#x7B97;&#x6CD5;&#x7684;&#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;,&#x6709;&#x5173;&#x5404;&#x5F0F;&#x7684;&#x63A8;&#x5BFC;&#x53EF;&#x4EE5;&#x5728;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x4E2D;&#x5F97;&#x5230;&#x3002; &#x968F;&#x673A;&#x6570;&#x751F;&#x6210; &#x4E00;&#x79CD;&#x8FED;&#x4EE3;&#x7684;&#x968F;&#x673A;&#x6570;&#x751F;&#x6210;&#x7B97;&#x6CD5;&#xFF0C;xn&#x5C31;&#x662F;&#x79CD;&#x5B50;&#x3002; a&#x662F;&#x5076;&#x6570; b = a + 1 mod 4 c&#x662F;&#x5947;&#x6570; &#x5B9E;&#x9645;&#x4E0A;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x6700;&#x7B80;&#x5355;&#x7684;&#x968F;&#x673A;&#x6570;&#x6570;&#x5B66;&#x516C;&#x5F0F;&#x53EF;&#x4EE5;&#x7528; &#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x7684;&#x516C;&#x5F0F;&#x8868;&#x8FBE;&#xFF0C;&#x4E5F;&#x7684;&#x786E;&#x80FD;&#x751F;&#x6210;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5E8F;&#x5217;&#xFF0C;&#x4F46;&#x662F;&#x968F;&#x673A;&#x6027;&#x4E5F;&#x662F;&#x975E;&#x5E38;&#x4F4E;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x4E8C;&#x6B21;&#x51FD;&#x6570;&#x6765;&#x4EE3;&#x66FF;&#x4E00;&#x6B21;&#x51FD;&#x6570;&#x5728;&#x67D0;&#x4E9B;&#x7A0B;&#x5EA6;&#x4E0A;&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x4ED6;&#x7684;&#x968F;&#x673A;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E9B;&#x4F9D;&#x7136;&#x662F;&#x4F2A;&#x968F;&#x673A;&#x751F;&#x6210;&#x3002; &#x5C06;&#x7B97;&#x6CD5;&#x4E0E;&#x968F;&#x673A;&#x6570;&#x751F;&#x6210;&#x7A0B;&#x5E8F;&#x90FD;&#x7528;&#x6C47;&#x7F16;&#x5B9E;&#x73B0;&#x3002;&#x7136;&#x540E;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x6309;&#x7167;&#x5B9E;&#x9A8C;&#x6B65;&#x9AA4;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x6570;&#x753B;&#x56FE;&#x7A0B;&#x5E8F;&#x4E86;&#x3002; &#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B; &#x4F7F;&#x7528;SetGraphicsAddress, &#x5E76;&#x7528;r0&#x4F20;&#x5165;&#x5E27;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x5730;&#x5740;&#x3002; &#x521D;&#x59CB;&#x5316;4&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x4E00;&#x4E2A;&#x4FDD;&#x5B58;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x4E00;&#x4E2A;&#x4FDD;&#x5B58;&#x989C;&#x8272;&#x4FE1;&#x606F;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x5BF9;&#x662F;x&#xFF0C;y&#x5750;&#x6807;&#x4FE1;&#x606F;&#x3002; &#x5728;&#x73B0;&#x6709;&#x7684;&#x5750;&#x6807;&#x4E0A;&#xFF0C;&#x5229;&#x7528;&#x968F;&#x673A;&#x6570;&#x751F;&#x6210;&#x4E0B;&#x4E00;&#x4E2A;x&#x8F74;&#x5750;&#x6807; &#x5229;&#x7528;x&#x5750;&#x6807;&#x751F;&#x6210;&#x4E0B;&#x4E00;&#x4E2A;y&#x5750;&#x6807; &#x8FED;&#x4EE3;&#x66F4;&#x65B0;&#xFF0C;&#x7528;&#x968F;&#x673A;&#x6570;&#x4EE3;&#x8868;y &#x4F7F;&#x7528;SetForeColour&#x51FD;&#x6570;&#x548C;&#x989C;&#x8272;&#x5BC4;&#x5B58;&#x5668;&#x53BB;&#x8BBE;&#x7F6E;&#x989C;&#x8272;&#x3002; &#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x7684;&#x50CF;&#x7D20;&#x90FD;&#x662F;&#x5C0F;&#x4E8E;1024&#x7684;&#xFF0C;&#x7136;&#x800C;&#x5BC4;&#x5B58;&#x5668;&#x5374;&#x80FD;&#x4FDD;&#x5B58;32&#x4F4D;&#xFF0C;&#x8FDC;&#x5927;&#x4E8E;1024&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x5C06;&#x5BC4;&#x5B58;&#x5668;&#x503C;&#x903B;&#x8F91;&#x53F3;&#x79FB;22&#x4F4D;&#xFF0C;&#x4EE5;&#x6EE1;&#x8DB3;&#x8981;&#x6C42;&#x3002; &#x68C0;&#x67E5;y&#x5BC4;&#x5B58;&#x5668;&#x662F;&#x5426;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;767&#xFF0C;&#x5426;&#x5219;&#x56DE;&#x5230;&#x6B65;&#x9AA4;3. &#x5229;&#x7528;&#x5E03;&#x96F7;&#x68EE;&#x6C49;&#x7B97;&#x6CD5;&#x5728;&#x4E24;&#x70B9;&#x4E4B;&#x95F4;&#x753B;&#x7EBF;&#x3002; &#x7528;&#x751F;&#x6210;&#x7684;x&#x548C;y&#x5750;&#x6807;&#x66F4;&#x65B0;&#x73B0;&#x6709;&#x7684;&#x5750;&#x6807;&#x3002; &#x56DE;&#x5230;&#x6B65;&#x9AA4;&#x4E09;&#xFF0C;&#x753B;&#x4E0B;&#x4E00;&#x6761;&#x7EBF;&#x3002; &#x7ED3;&#x679C;&#x5C55;&#x793A;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi OK03","slug":"Pi/2016-08-06-Raspberry Pi OK03","date":"2016-08-05T16:00:00.000Z","updated":"2017-10-20T01:30:39.080Z","comments":true,"path":"2016/08/06/Pi/2016-08-06-Raspberry Pi OK03/","link":"","permalink":"http://www.liufr.com/2016/08/06/Pi/2016-08-06-Raspberry Pi OK03/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x5B66;&#x4F1A;&#x4F7F;&#x7528;&#x6C47;&#x7F16;&#x8BED;&#x8A00;&#x5199;&#x51FD;&#x6570; &#x80CC;&#x666F;&#x8865;&#x5145; ABI &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E8C;&#x8FDB;&#x5236;&#x63A5;&#x53E3; &#x6807;&#x51C6;&#x89C4;&#x5B9A;&#x5BC4;&#x5B58;&#x5668;r0&#xFF0C;r1&#xFF0C;r2&#x548C;r3&#x5E94;&#x8BE5;&#x6309;&#x987A;&#x5E8F;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x51FD;&#x6570;&#x4E2D;&#x6CA1;&#x6709;&#x8F93;&#x5165;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x5FC5;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x5BC4;&#x5B58;&#x5668;&#xFF1B;&#x5982;&#x679C;&#x53EA;&#x9700;&#x8981;1&#x4E2A;&#x8F93;&#x5165;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F7F;&#x7528;r0&#xFF0C;&#x9700;&#x8981;2&#x4E2A;&#x8F93;&#x5165;&#xFF0C;&#x5C31;&#x4F7F;&#x7528;r0&#x548C;r1&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#xFF1B;&#x51FD;&#x6570;&#x7684;&#x8F93;&#x51FA;&#x603B;&#x4F7F;&#x7528;r0&#xFF0C;&#x540C;&#x7406;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x4F7F;&#x7528;r0&#x8F93;&#x51FA;&#x3002; &#x5BF9;&#x4E8E;r4~r12&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x5728;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x4E4B;&#x540E;&#x90FD;&#x9700;&#x8981;&#x8FD8;&#x539F;&#x73B0;&#x573A;&#xFF0C;&#x4FDD;&#x8BC1;&#x4F7F;&#x7528;&#x524D;&#x540E;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x4E0D;&#x53D8;&#x3002; &#x51FD;&#x6570;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#xFF0C;&#x90A3;&#x4E48;&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x77E5;&#x9053;&#x8FD4;&#x56DE;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x8BE5;&#x5730;&#x5740;&#x7528;lr&#x5BC4;&#x5B58;&#x5668;&#x4FDD;&#x5B58;&#x3002; sp&#x5BC4;&#x5B58;&#x5668;&#x4FDD;&#x5B58;&#x7684;&#x662F;&#x5806;&#x6808;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x4E14;&#x914D;&#x5408;push{r4&#xFF0C;r5}&#xFF0C;pop{r4&#xFF0C;r5}&#x8FD9;&#x6837;&#x7684;&#x6307;&#x4EE4;&#x8FDB;&#x884C;&#x4F7F;&#x7528;&#x3002; &#x5404;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x4F7F;&#x7528;&#x529F;&#x80FD;&#x5982;&#x4E0B;&#x8868;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x4F9B;&#x67E5;&#x9605; &#x4EE3;&#x7801;&#x5206;&#x6790; GetGpioAddress .globl GetGpioAddressGetGpioAddress:ldr r0,=0x20200000mov pc,lr &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x5728;&#x6587;&#x4EF6;&#x5916;&#x90E8;&#x7684;&#x51FD;&#x6570;&#x4EE3;&#x7801;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x672C;&#x6587;&#x4EF6;&#x8C03;&#x7528;&#x4E5F;&#x53EF;&#x4EE5;&#x8BA9;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x7684;&#x51FD;&#x6570;&#x5F15;&#x7528;&#x3002;&#x7136;&#x540E;&#x8BBE;&#x7F6E;GPIO&#x7684;&#x57FA;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x628A;lr&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x4FDD;&#x5B58;&#x5230;pc&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#xFF0C;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x4E0E;&#x4E4B;&#x524D;&#x5B9E;&#x9A8C;&#x57FA;&#x672C;&#x76F8;&#x540C;&#x3002; SetGpioFunction .globl SetGpioFunctionSetGpioFunction:cmp r0,#53cmpls r1,#7movhi pc,lr cmp&#x6307;&#x4EE4;&#x4E2D;&#xFF0C;&#x5982;&#x679C;r0&gt;53&#x5219;&#x8DF3;&#x8FC7;cmpls&#x6307;&#x4EE4;&#x8FD0;&#x884C;movhi&#xFF0C;&#x51FD;&#x6570;&#x7ED3;&#x675F;&#xFF1B;cmpls&#x6307;&#x4EE4;&#x4E2D;&#xFF0C;&#x5982;&#x679C;r1&gt;7&#x5219;&#x8FD0;&#x884C;movhi&#xFF0C;&#x51FD;&#x6570;&#x7ED3;&#x675F;&#x3002;&#x6B63;&#x786E;&#x60C5;&#x51B5;&#x4E0B;&#x662F;r0&lt;=53,r1&lt;=7,&#x6307;&#x4EE4;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002; push {lr}mov r2,r0bl GetGpioAddress &#x8C03;&#x7528;GetGpioAddress&#x51FD;&#x6570;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x8FD4;&#x56DE;&#x5730;&#x5740;&#x538B;&#x6808;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x73B0;&#x573A;&#x907F;&#x514D;&#x4E22;&#x5931;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#xFF08;&#x5047;&#x5982;&#x6211;&#x4EEC;&#x4E0D;&#x77E5;&#x9053;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x6240;&#x6709;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x6B64;&#x5904;&#x6211;&#x4EEC;&#x53EA;&#x4FDD;&#x5B58;r0&#xFF09;&#x3002; &#x8C03;&#x7528;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;r0&#x4E2D;&#x7684;&#x503C;&#x5C31;&#x662F;GPIO&#x7684;&#x5730;&#x5740;&#xFF0C;r1&#x4FDD;&#x5B58;function code&#xFF0C;r2&#x4FDD;&#x5B58;GPIO&#x7AEF;&#x53E3;&#xFF08;r1&#x548C;r2&#x5728;main&#x51FD;&#x6570;&#x4E2D;&#x5B9A;&#x4E49;&#xFF09; functionLoop$:cmp r2,#9subhi r2,#10addhi r0,#4bhi functionLoop$ &#x5FAA;&#x73AF;&#x4EE5;&#x4FDD;&#x8BC1;r2&lt;9,&#x5730;&#x5740;r0 = r0+&#xFF08;GPIO%10&#xFF09;* 4 add r2, r2,lsl #1lsl r1,r2str r1,[r0]pop {pc} &#x4E3A;&#x4E86;&#x52A0;&#x5FEB;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#xFF0C;(r2 * 3) &#x53D8;&#x6362;&#x6210; (r2 &#x5DE6;&#x79FB;1&#x4F4D; + r2)&#xFF0C;&#x7136;&#x540E;&#x5269;&#x4F59;&#x4EE3;&#x7801;&#x4E0E;&#x4E4B;&#x524D;&#x5B9E;&#x9A8C;&#x529F;&#x80FD;&#x4E00;&#x81F4;&#xFF0C;&#x5C06;&#x5BF9;&#x5E94;&#x4F4D;&#x7F6E;1&#xFF0C;&#x540C;&#x65F6;&#x4F7F;&#x7528;pop&#x6307;&#x4EE4;&#x51FA;&#x6808;lr&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x9001;&#x5230;pc&#x4E2D;&#x3002; SetGpio .globl SetGpioSetGpio:pinNum .req r0pinVal .req r1 &#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x5230;&#x4E86;register aliases&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;c&#x8BED;&#x8A00;&#x4E2D;&#x7684;&#x5B8F;&#xFF0C;&#x4F18;&#x70B9;&#x5C31;&#x662F;&#x907F;&#x514D;&#x53EA;&#x7528;&#x7B26;&#x53F7;&#x4EE3;&#x66FF;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x6DF7;&#x6DC6;&#x6389;&#x3002; cmp pinNum,#53movhi pc,lrpush {lr}mov r2,pinNum.unreq pinNumpinNum .req r2bl GetGpioAddressgpioAddr .req r0 &#x9996;&#x5148;&#x68C0;&#x6D4B;&#x7ED9;&#x51FA;&#x7684;pinNum&#x662F;&#x5426;&#x5728;&#x5141;&#x8BB8;&#x8303;&#x56F4;&#xFF0C;&#x66F4;&#x6539;aliases&#x6240;&#x7528;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x5E76;&#x8C03;&#x7528;&#x51FD;&#x6570;&#xFF0C;&#x6700;&#x540E;r2&#x4FDD;&#x5B58;pinNum&#xFF0C;r0&#x4FDD;&#x5B58;&#x7684;&#x662F;gpioAddr&#x3002; pinBank .req r3lsr pinBank,pinNum,#5lsl pinBank,#2add gpioAddr,pinBank.unreq pinBank &#x5229;&#x7528;r3&#x628A;54&#x4E2A;GPIO&#x5212;&#x5206;&#x6210;32&#x548C;22&#x4E24;&#x7EC4;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;GPIO 0~31&#x7684;&#x5730;&#x5740;0x20200000&#x548C;GPIO 32~53&#x7684;&#x5730;&#x5740;0x20200004 and pinNum,#31setBit .req r3mov setBit,#1lsl setBit,pinNum.unreq pinNum &#x751F;&#x6210;&#x5BF9;&#x5E94;GPIO&#x53E3;&#x7684;&#x7F6E;&#x4F4D;&#x6570;&#x503C;&#xFF0C;&#x6CE8;&#x610F;&#x5176;&#x4E2D;31&#x5728;&#x4E8C;&#x8FDB;&#x5236;&#x4E2D;&#x8868;&#x793A;5&#x4E2A;1&#xFF0C; teq pinVal,#0.unreq pinValstreq setBit,[gpioAddr,#40]strne setBit,[gpioAddr,#28].unreq setBit.unreq gpioAddrpop {pc} &#x6CE8;&#x610F;teq(test equal),&#x5E76;&#x4FDD;&#x5B58;&#x5728;&#x76F8;&#x5E94;&#x5730;&#x5740;&#x5904;&#xFF0C;pop&#x51FA;&#x6808;&#x7ED3;&#x675F;&#x51FD;&#x6570;&#x3002; &#x6700;&#x540E;&#x6CE8;&#x610F;&#x5806;&#x6808;&#x7ED3;&#x6784;&#xFF0C;&#x5E76;&#x5199;&#x5165;main&#x51FD;&#x6570;&#x4E2D; &#x7ED3;&#x679C;&#x5C55;&#x793A; &#x672C;&#x5B9E;&#x9A8C;&#x7ED3;&#x679C;&#x4E0E;ok02&#x7ED3;&#x679C;&#x76F8;&#x540C;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi OK01","slug":"Pi/2016-08-06-Raspberry Pi OK01","date":"2016-08-05T16:00:00.000Z","updated":"2017-10-20T01:30:30.320Z","comments":true,"path":"2016/08/06/Pi/2016-08-06-Raspberry Pi OK01/","link":"","permalink":"http://www.liufr.com/2016/08/06/Pi/2016-08-06-Raspberry Pi OK01/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x901A;&#x8FC7;GPIO&#x4F7F;&#x80FD;Pi&#x4E0A;ACT/OK&#x706F;&#xFF0C;&#x4ECE;&#x800C;&#x4E86;&#x89E3;GPIO&#x53E3;&#x3002; &#x4EE3;&#x7801;&#x5206;&#x6790; ldr r0,=0x20200000 GPIO-Register-Bytes.png &#x901A;&#x8FC7;&#x4E0A;&#x8868;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;GPIO&#x53E3;&#x662F;&#x4EE5;0x20200000&#x4F5C;&#x4E3A;&#x5F00;&#x59CB;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x6B64;&#x65F6;r0&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x4FDD;&#x5B58;&#x7684;&#x5C31;&#x662F;&#x57FA;&#x5740;&#x3002; mov r1,#1lsl r1,#18str r1,[r0,#4] Bits-Pin-Map.png &#x6839;&#x636E;&#x4EE5;&#x4E0A;&#x4E24;&#x5F20;&#x56FE;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x5C06;&#x5730;&#x5740;0x20200000&#x7684;&#x7B2C;18&#x4F4D;&#x7F6E;1&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x5C06;GPIO16&#x8BBE;&#x7F6E;&#x4E3A;output&#xFF0C;&#x6B64;&#x5904;GPIO16&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x8981;&#x70B9;&#x4EAE;&#x7684;ACT&#x706F;&#x7684;&#x8F93;&#x51FA;&#x4F4D;&#x7F6E;&#x3002; &#x5728;&#x6B63;&#x5F0F;&#x70B9;&#x4EAE;ACT&#x706F;&#x4E4B;&#x524D;&#xFF0C;&#x6811;&#x8393;&#x6D3E;&#x8FD8;&#x8981;&#x6C42;&#x5C06;GPIO16&#x53E3;&#x8FDB;&#x884C;&#x6E05;&#x9664;&#x64CD;&#x4F5C; mov r1,#1lsl r1,#16str r1,[r0,#40] &#x6839;&#x636E;&#x56FE;&#x6807;&#x663E;&#x793A;&#x6211;&#x4EEC;&#x6709;&#x4E86;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#xFF0C;&#x5C06;&#x7269;&#x7406;&#x5730;&#x5740;0x20200028&#x91CC;&#x7684;&#x7B2C;16&#x4F4D;&#x8BBE;&#x7F6E;&#x6210;1&#xFF0C;&#x4EE3;&#x8868;&#x7740;&#x6E05;&#x9664;GPIO16&#x3002; &#x53EF;&#x4EE5;&#x5C06;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x7406;&#x89E3;&#x6210;&#x521D;&#x59CB;&#x5316;&#x6B65;&#x9AA4;&#xFF0C;&#x63A5;&#x4E0B;&#x91CC;&#x5C31;&#x8BA9;Pi&#x5728;&#x4E00;&#x4E2A;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#x7684;loop&#x91CC;&#x5DE5;&#x4F5C;&#x3002; loop$:b loop$ &#x6B64;&#x65F6;&#x4F7F;&#x7528;make&#x6307;&#x4EE4;&#xFF0C;&#x5C06;&#x751F;&#x6210;&#x7684;kernel.img&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x66F4;&#x6362;,&#x53EF;&#x4EE5;&#x89C2;&#x5BDF;&#x5230;Pi&#x7684;ACT&#x706F;&#x4EAE;&#x8D77;&#xFF0C;&#x5B9E;&#x9A8C;&#x7ED3;&#x675F;&#x3002; &#x7ED3;&#x679C;&#x5C55;&#x793A;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi OK02","slug":"Pi/2016-08-06-Raspberry Pi OK02","date":"2016-08-05T16:00:00.000Z","updated":"2017-10-20T01:30:35.190Z","comments":true,"path":"2016/08/06/Pi/2016-08-06-Raspberry Pi OK02/","link":"","permalink":"http://www.liufr.com/2016/08/06/Pi/2016-08-06-Raspberry Pi OK02/","excerpt":"","text":"&#x5B9E;&#x9A8C;&#x76EE;&#x6807; &#x5728;OK01&#x7684;&#x5B9E;&#x9A8C;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x901A;&#x8FC7;GPIO&#x53E3;&#x91CD;&#x590D;&#x63A7;&#x5236;ACT/OK&#x706F;&#x7684;&#x4EAE;&#x706D;&#x3002;&#x638C;&#x63E1;OS&#x7684;&#x7B49;&#x5F85;/&#x5EF6;&#x8FDF;&#x5B9E;&#x73B0;&#x3002; &#x4EE3;&#x7801;&#x5206;&#x6790; mov r2,#0x3F0000wait1$:sub r2,#1cmp r2,#0bne wait1$ &#x901A;&#x8FC7;&#x51CF;&#x6CD5;&#x5B9E;&#x73B0;&#x53EF;&#x63A7;&#x7684;&#x5FAA;&#x73AF;&#x5EF6;&#x8FDF;&#x3002; &#x5728;&#x8FD9;&#x5E45;&#x56FE;&#x4E2D;&#x53C8;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x60F3;&#x8981;&#x5C06;GPIO16&#x7F6E;0&#x53EA;&#x9700;&#x8981;&#x8BBE;&#x7F6E;0x2020001c&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x4EE3;&#x7801;&#x903B;&#x8F91;&#x5C31;&#x662F; &#x5F00;&#x706F; &#x5EF6;&#x8FDF; &#x5173;&#x706F; &#x5EF6;&#x8FDF; &#x5F00;&#x706F; ... &#x7ED3;&#x679C;&#x5C55;&#x793A;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"},{"title":"Raspberry Pi OS Development 前言","slug":"Pi/2016-08-06-Baking Pi – Operating Systems Development前言","date":"2016-08-05T16:00:00.000Z","updated":"2017-10-20T01:30:19.460Z","comments":true,"path":"2016/08/06/Pi/2016-08-06-Baking Pi – Operating Systems Development前言/","link":"","permalink":"http://www.liufr.com/2016/08/06/Pi/2016-08-06-Baking Pi – Operating Systems Development前言/","excerpt":"","text":"&#x6811;&#x8393;&#x6D3E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF; &#x8FD9;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x5B9E;&#x9A8C;&#x6559;&#x7A0B;&#x662F;&#x82F1;&#x56FD;&#x5251;&#x6865;&#x5927;&#x5B66;&#x9488;&#x5BF9;&#x8BA1;&#x7B97;&#x673A;&#x4E13;&#x4E1A;&#x5B66;&#x751F;&#x5F00;&#x8BBE;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x5B66;&#x751F;&#x4E86;&#x89E3;&#x57FA;&#x7840;&#x7684;&#x6811;&#x8393;&#x6D3E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B98;&#x7F51;&#x6559;&#x7A0B;&#x5DF2;&#x7ECF;&#x5341;&#x5206;&#x8BE6;&#x5C3D;&#xFF0C;&#x6211;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x95EE;&#x9898;&#x4EE5;&#x53CA;&#x8BE6;&#x7EC6;&#x5B9E;&#x73B0;&#xFF0C;&#x907F;&#x514D;&#x4E0E;&#x6559;&#x7A0B;&#x91CD;&#x590D;&#x3002; &#x8981;&#x6C42; &#x57FA;&#x672C;&#x77E5;&#x8BC6;&#xFF1A; &#x57FA;&#x7840;&#x7F16;&#x7A0B; &#x6C47;&#x7F16; &#x786C;&#x4EF6;&#xFF1A; &#x6811;&#x8393;&#x6D3E;1&#x4EE3;B&#x578B; SD&#x5361; &#x8F6F;&#x4EF6;&#xFF1A; 1.GNU 2.&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5668; &#x5176;&#x5B83;&#x8BF4;&#x660E; &#x6811;&#x8393;&#x6D3E;1&#x4EE3;&#x662F;2011&#x5E74;&#x7684;&#x4EA7;&#x54C1;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x4E8C;&#x624B;&#x5E02;&#x573A;&#x627E;&#x5230;&#x3002;&#x6211;&#x672C;&#x6765;&#x60F3;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;&#x6811;&#x8393;&#x6D3E;3&#x4EE3;&#x5B8C;&#x6210;&#x5B9E;&#x9A8C;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x8FDB;&#x884C;&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x53D1;&#x73B0;layout&#x5E03;&#x5C40;&#x5DF2;&#x7ECF;&#x76F8;&#x6BD4;1&#x4EE3;&#x6709;&#x660E;&#x663E;&#x6539;&#x52A8;&#xFF0C;&#x5B9E;&#x9A8C;&#x4E2D;&#x8981;&#x6C42;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x7684;&#x5730;&#x5740;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#xFF0C;&#x5728;Github&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x4E2D;issue&#x63D0;&#x4EA4;&#x53EF;&#x4EE5;&#x67E5;&#x5230;&#x76F8;&#x5173;&#x95EE;&#x9898;&#x63CF;&#x8FF0;&#xFF0C;&#x4F46;&#x662F;&#x5F00;&#x53D1;&#x8005;&#x8FD8;&#x672A;&#x6B63;&#x5F0F;&#x516C;&#x5E03;layout&#x7684;&#x63A5;&#x53E3;&#x5E03;&#x5C40;&#xFF0C;&#x6545;&#x53EA;&#x80FD;&#x4F5C;&#x7F62;&#xFF0C;&#x540E;&#x7EED;&#x5982;&#x679C;&#x5F00;&#x53D1;&#x8005;&#x6709;&#x66F4;&#x65B0;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x5C1D;&#x8BD5;&#x3002; &#x6811;&#x8393;&#x6D3E;&#x5B98;&#x7F51;&#x4EE5;&#x53CA;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#x3002; &#x6839;&#x636E;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0B;&#x8F7D;&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#xFF0C;&#x8BE6;&#x60C5;&#x89C1;Download &#x63A8;&#x8350;&#x4F7F;&#x7528;&#x4E00;&#x53F0;hdmi&#x63A5;&#x53E3;&#x7684;&#x663E;&#x793A;&#x5668;","categories":[{"name":"Pi","slug":"Pi","permalink":"http://www.liufr.com/categories/Pi/"}],"tags":[{"name":"Raspberry-Pi","slug":"Raspberry-Pi","permalink":"http://www.liufr.com/tags/Raspberry-Pi/"},{"name":"OS","slug":"OS","permalink":"http://www.liufr.com/tags/OS/"}],"author":"刘丰瑞"}]}